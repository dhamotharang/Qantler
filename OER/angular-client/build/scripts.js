!function(t){"use strict";function e(){}var n=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t(e.apply(null,n))}},i=function(t){return function(){return t}},r=function(t){return t};function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.concat(n);return t.apply(null,r)}}function a(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}}function s(){return d}var c,l=i(!1),u=i(!0),d=(c={fold:function(t,e){return t()},is:l,isSome:l,isNone:u,getOr:g,getOrThunk:f,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:g,orThunk:f,map:s,each:e,bind:s,exists:l,forall:u,filter:s,equals:h,equals_:h,toArray:function(){return[]},toString:i("none()")},Object.freeze&&Object.freeze(c),c);function h(t){return t.isNone()}function f(t){return t()}function g(t){return t}function p(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"==e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}}function m(t,e){return H.call(t,e)}function v(t,e){return-1<m(t,e)}function y(t,e){for(var n=0,i=t.length;n<i;n++)if(e(t[n],n))return!0;return!1}function b(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n)}function _(t,e){for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i];e(o,i)&&n.push(o)}return n}function w(t,e,n){return function(t,e){for(var n=t.length-1;0<=n;n--)e(t[n])}(t,function(t){n=e(n,t)}),n}function C(t,e,n){return b(t,function(t){n=e(n,t)}),n}function x(t,e){for(var n=0,i=t.length;n<i;n++){var r=t[n];if(e(r,n))return A.some(r)}return A.none()}function S(t,e){for(var n=0,i=t.length;n<i;n++)if(e(t[n],n))return A.some(n);return A.none()}function T(t,e){return function(t){for(var e=[],n=0,i=t.length;n<i;++n){if(!P(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);I.apply(e,t[n])}return e}(V(t,e))}function k(t,e){for(var n=0,i=t.length;n<i;++n)if(!0!==e(t[n],n))return!1;return!0}function z(t,e){return _(t,function(t){return!v(e,t)})}function E(t){return 0===t.length?A.none():A.some(t[0])}function N(t){return 0===t.length?A.none():A.some(t[t.length-1])}var K=function(t){function e(){return o}function n(e){return e(t)}var r=i(t),o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:u,isNone:l,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(e){return K(e(t))},each:function(e){e(t)},bind:n,exists:n,forall:n,filter:function(e){return e(t)?o:d},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(l,function(e){return n(t,e)})}};return o},A={some:K,none:s,from:function(t){return null==t?d:K(t)}},M=p("string"),D=p("object"),P=p("array"),R=p("null"),L=p("boolean"),F=p("function"),B=p("number"),O=Array.prototype.slice,H=Array.prototype.indexOf,I=Array.prototype.push,V=function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;r++)i[r]=e(t[r],r);return i},j=function(t,e){for(var n=[],i=[],r=0,o=t.length;r<o;r++){var a=t[r];(e(a,r)?n:i).push(a)}return{pass:n,fail:i}},U=F(Array.from)?Array.from:function(t){return O.call(t)},G=function(){return(G=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function $(t){return function(e){return!!e&&e.nodeType===t}}function W(t){var e=t.map(function(t){return t.toLowerCase()});return function(t){if(t&&t.nodeName){var n=t.nodeName.toLowerCase();return v(e,n)}return!1}}function q(t){return function(e){if(Ht(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}function X(t,e){return function(){return e===t}}function Y(t,e){return function(){return e===t}}function Q(t,e){var n=String(e).toLowerCase();return x(t,function(t){return t.search(n)})}function J(t,e){return-1!==t.indexOf(e)}function Z(t,e){return function(t,e,n){return""===e||!(t.length<e.length)&&t.substr(0,0+e.length)===e}(t,e)}function tt(t){return t.replace(/^\s+|\s+$/g,"")}function et(t){return t.replace(/\s+$/g,"")}function nt(t){return function(e){return J(e,t)}}function it(t){return t.dom().nodeName.toLowerCase()}function rt(t){return function(e){return function(t){return t.dom().nodeType}(e)===t}}function ot(t,e){for(var n=xe(t),i=0,r=n.length;i<r;i++){var o=n[i];e(t[o],o)}}function at(t,e){return Te(t,function(t,n){return{k:n,v:e(t,n)}})}function st(t,e){var n={},i={};return ot(t,function(t,r){(e(t,r)?n:i)[r]=t}),{t:n,f:i}}function ct(t,e){return ke(t,e)?A.from(t[e]):A.none()}function lt(t){return void 0!==t.style&&F(t.style.getPropertyValue)}function ut(t){var e=Ce(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)}function dt(e,n,i){if(!(M(i)||L(i)||B(i)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",i,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,i+"")}function ht(t,e){var n=t.dom();ot(e,function(t,e){dt(n,e,t)})}function ft(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n}function gt(t,e){t.dom().removeAttribute(e)}function pt(e,n){var i=e.dom(),r=t.window.getComputedStyle(i).getPropertyValue(n),o=""!==r||ut(e)?r:Ee(i,n);return null===o?void 0:o}function mt(t,e){var n=t.dom(),i=Ee(n,e);return A.from(i).filter(function(t){return 0<t.length})}function vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var r={};return b(t,function(t,n){r[t]=i(e[n])}),r}}function yt(t,e){var n=t.dom();if(n.nodeType!==Ke)return!1;var i=n;if(void 0!==i.matches)return i.matches(e);if(void 0!==i.msMatchesSelector)return i.msMatchesSelector(e);if(void 0!==i.webkitMatchesSelector)return i.webkitMatchesSelector(e);if(void 0!==i.mozMatchesSelector)return i.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}function bt(t){return t.nodeType!==Ke&&t.nodeType!==Ae||0===t.childElementCount}function _t(t,e){return t.dom()===e.dom()}function wt(t){return ve.fromDom(t.dom().ownerDocument)}function Ct(t){return ve.fromDom(t.dom().ownerDocument.defaultView)}function xt(t){return A.from(t.dom().parentNode).map(ve.fromDom)}function St(t){return A.from(t.dom().previousSibling).map(ve.fromDom)}function Tt(t){return A.from(t.dom().nextSibling).map(ve.fromDom)}function kt(t){return function(t){var e=O.call(t,0);return e.reverse(),e}(Ne(t,St))}function zt(t){return Ne(t,Tt)}function Et(t){return V(t.dom().childNodes,ve.fromDom)}function Nt(t,e){var n=t.dom().childNodes;return A.from(n[e]).map(ve.fromDom)}function Kt(t){return Nt(t,0)}function At(t){return Nt(t,t.dom().childNodes.length-1)}function Mt(t){return x(t,we)}function Dt(t,e){return t.children&&v(t.children,e)}var Pt,Rt,Lt,Ft,Bt,Ot,Ht=$(1),It=W(["textarea","input"]),Vt=$(3),jt=$(8),Ut=$(9),Gt=$(11),$t=W(["br"]),Wt=q("true"),qt=q("false"),Xt={isText:Vt,isElement:Ht,isComment:jt,isDocument:Ut,isDocumentFragment:Gt,isBr:$t,isContentEditableTrue:Wt,isContentEditableFalse:qt,isRestrictedNode:function(t){return!!t&&!Object.getPrototypeOf(t)},matchNodeNames:W,hasPropValue:function(t,e){return function(n){return Ht(n)&&n[t]===e}},hasAttribute:function(t,e){return function(e){return Ht(e)&&e.hasAttribute(t)}},hasAttributeValue:function(t,e){return function(n){return Ht(n)&&n.getAttribute(t)===e}},matchStyleValues:function(t,e){var n=e.toLowerCase().split(" ");return function(e){var i;if(Ht(e))for(i=0;i<n.length;i++){var r=e.ownerDocument.defaultView.getComputedStyle(e,null);if((r?r.getPropertyValue(t):null)===n[i])return!0}return!1}},isBogus:function(t){return Ht(t)&&t.hasAttribute("data-mce-bogus")},isBogusAll:function(t){return Ht(t)&&"all"===t.getAttribute("data-mce-bogus")},isTable:function(t){return Ht(t)&&"TABLE"===t.tagName},isTextareaOrInput:It},Yt=function(){return Qt(0,0)},Qt=function(t,e){return{major:t,minor:e}},Jt=function(t,e){var n=String(e).toLowerCase();return 0===t.length?Yt():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.test(e))return i}}(t,e);if(!n)return{major:0,minor:0};function i(t){return Number(e.replace(n,"$"+t))}return Qt(i(1),i(2))}(t,n)},Zt=Yt,te="Firefox",ee=function(t){var e=t.current;return{current:e,version:t.version,isEdge:X("Edge",e),isChrome:X("Chrome",e),isIE:X("IE",e),isOpera:X("Opera",e),isFirefox:X(te,e),isSafari:X("Safari",e)}},ne=function(){return ee({current:void 0,version:Zt()})},ie=ee,re=(i("Edge"),i("Chrome"),i("IE"),i("Opera"),i(te),i("Safari"),"Windows"),oe="Android",ae="Solaris",se="FreeBSD",ce=function(t){var e=t.current;return{current:e,version:t.version,isWindows:Y(re,e),isiOS:Y("iOS",e),isAndroid:Y(oe,e),isOSX:Y("OSX",e),isLinux:Y("Linux",e),isSolaris:Y(ae,e),isFreeBSD:Y(se,e)}},le=function(){return ce({current:void 0,version:Zt()})},ue=ce,de=(i(re),i("iOS"),i(oe),i("Linux"),i("OSX"),i(ae),i(se),/.*?version\/\ ?([0-9]+)\.([0-9]+).*/),he=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return J(t,"edge/")&&J(t,"chrome")&&J(t,"safari")&&J(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,de],search:function(t){return J(t,"chrome")&&!J(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return J(t,"msie")||J(t,"trident")}},{name:"Opera",versionRegexes:[de,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:nt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:nt("firefox")},{name:"Safari",versionRegexes:[de,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(J(t,"safari")||J(t,"mobile/"))&&J(t,"applewebkit")}}],fe=[{name:"Windows",search:nt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return J(t,"iphone")||J(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:nt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:nt("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:nt("linux"),versionRegexes:[]},{name:"Solaris",search:nt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:nt("freebsd"),versionRegexes:[]}],ge={browsers:i(he),oses:i(fe)},pe={detect:(Lt=!(Pt=function(){return e=t.navigator.userAgent,n=ge.browsers(),r=ge.oses(),{browser:o=function(t,e){return Q(n,e).map(function(t){var n=Jt(t.versionRegexes,e);return{current:t.name,version:n}})}(0,e).fold(ne,ie),os:a=function(t,e){return Q(t,e).map(function(t){var n=Jt(t.versionRegexes,e);return{current:t.name,version:n}})}(r,e).fold(le,ue),deviceType:function(t,e,n){var r=t.isiOS()&&!0===/ipad/i.test(n),o=t.isiOS()&&!r,a=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,c=r||a||s&&!0===/mobile/i.test(n),l=t.isiOS()||t.isAndroid(),u=l&&!c,d=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n);return{isiPad:i(r),isiPhone:i(o),isTablet:i(c),isPhone:i(u),isTouch:i(l),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:i(d)}}(a,o,e)};var e,n,r,o,a}),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Lt||(Lt=!0,Rt=Pt.apply(null,t)),Rt})},me=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:i(t)}},ve={fromHtml:function(e,n){var i=(n||t.document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||1<i.childNodes.length)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return me(i.childNodes[0])},fromTag:function(e,n){var i=(n||t.document).createElement(e);return me(i)},fromText:function(e,n){var i=(n||t.document).createTextNode(e);return me(i)},fromDom:me,fromPoint:function(t,e,n){var i=t.dom();return A.from(i.elementFromPoint(e,n)).map(me)}},ye=t.Node.DOCUMENT_NODE,be=t.Node.ELEMENT_NODE,_e=t.Node.TEXT_NODE,we=(void 0!==t.window||Function("return this;")(),rt(be)),Ce=rt(_e),xe=Object.keys,Se=Object.hasOwnProperty,Te=function(t,e){var n={};return ot(t,function(t,i){var r=e(t,i);n[r.k]=r.v}),n},ke=function(t,e){return Se.call(t,e)},ze=function(t,e,n){dt(t.dom(),e,n)},Ee=function(t,e){return lt(t)?t.style.getPropertyValue(e):""},Ne=function(t,e){for(var n=[],i=function(t){return n.push(t),e(t)},r=e(t);(r=r.bind(i)).isSome(););return n},Ke=be,Ae=ye,Me=pe.detect().browser.isIE()?function(e,n){return function(e,n){return function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)}(e.dom(),n.dom())}:function(t,e){var n=t.dom(),i=e.dom();return n!==i&&n.contains(i)},De=(vt("element","offset"),pe.detect().browser),Pe={getPos:function(t,e,n){var i,r,o=0,a=0,s=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===pt(ve.fromDom(t),"position"))return{x:o=(r=e.getBoundingClientRect()).left+(s.documentElement.scrollLeft||t.scrollLeft)-s.documentElement.clientLeft,y:a=r.top+(s.documentElement.scrollTop||t.scrollTop)-s.documentElement.clientTop};for(i=e;i&&i!==n&&i.nodeType&&!Dt(i,n);)o+=i.offsetLeft||0,a+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!==n&&i.nodeType&&!Dt(i,n);)o-=i.scrollLeft||0,a-=i.scrollTop||0,i=i.parentNode;a+=function(t){return De.isFirefox()&&"table"===it(t)?Mt(Et(t)).filter(function(t){return"caption"===it(t)}).bind(function(t){return Mt(zt(t)).map(function(e){var n=e.dom().offsetTop,i=t.dom().offsetTop,r=t.dom().offsetHeight;return n<=i?-r:0})}).getOr(0):0}(ve.fromDom(e))}return{x:o,y:a}}},Re={},Le={exports:Re};function Fe(e){t.setTimeout(function(){throw e},0)}Ft=Re,Bt=Le,Ot=void 0,function(t){"object"==typeof Ft&&void 0!==Bt?Bt.exports=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=t()}(function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof Ot&&Ot;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return r(e[a][1][t]||t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof Ot&&Ot,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){var i,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(t){if(i===setTimeout)return setTimeout(t,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(t){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var l,u=[],d=!1,h=-1;function f(){d&&l&&(d=!1,l.length?u=l.concat(u):h=-1,u.length&&g())}function g(){if(!d){var t=c(f);d=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,d=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||d||c(g)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){function n(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function r(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(u){return void a(e.promise,u)}o(e.promise,i)}else(1===t._state?o:a)(e.promise,t._value)})):t._deferreds.push(e)}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void l(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,s(t)}catch(r){a(t,r)}}function a(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)r(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var i=!1;try{t(function(t){i||(i=!0,o(e,t))},function(t){i||(i=!0,a(e,t))})}catch(n){if(i)return;i=!0,a(e,n)}}var u;u=setTimeout,i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var i=new this.constructor(n);return r(this,new c(t,e,i)),i},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,i){if(0===e.length)return t([]);var r=e.length;function o(a,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var c=s.then;if("function"==typeof c)return void c.call(s,function(t){o(a,t)},i)}e[a]=s,0==--r&&t(e)}catch(n){i(n)}}for(var a=0;a<e.length;a++)o(a,e[a])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},i._immediateFn="function"==typeof t?function(e){t(e)}:function(t){u(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=i:this.Promise||(this.Promise=i)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,i){var r=t("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;function l(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n.setImmediate="function"==typeof e?e:function(t){var e=c++,i=!(arguments.length<2)&&a.call(arguments,1);return s[e]=!0,r(function(){s[e]&&(i?t.apply(null,i):t.call(null),n.clearImmediate(e))}),e},n.clearImmediate="function"==typeof i?i:function(t){delete s[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var i=t("promise-polyfill"),r="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:r.Promise||i}},{"promise-polyfill":2}]},{},[4])(4)});var Be,Oe,He,Ie=Le.exports.boltExport,Ve=function(e){var n=A.none(),i=[],r=function(t){o()?a(t):i.push(t)},o=function(){return n.isSome()},a=function(e){n.each(function(n){t.setTimeout(function(){e(n)},0)})};return e(function(t){n=A.some(t),b(i,a),i=[]}),{get:r,map:function(t){return Ve(function(e){r(function(n){e(t(n))})})},isReady:o}},je={nu:Ve,pure:function(t){return Ve(function(e){e(t)})}},Ue=function(t){function e(e){t().then(e,Fe)}return{map:function(e){return Ue(function(){return t().then(e)})},bind:function(e){return Ue(function(){return t().then(function(t){return e(t).toPromise()})})},anonBind:function(e){return Ue(function(){return t().then(function(){return e.toPromise()})})},toLazy:function(){return je.nu(e)},toCached:function(){var e=null;return Ue(function(){return null===e&&(e=t()),e})},toPromise:t,get:e}},Ge={nu:function(t){return Ue(function(){return new Ie(t)})},pure:function(t){return Ue(function(){return Ie.resolve(t)})}},$e=function(t){return e=t,(0,Ge.nu)(function(t){var n=[],i=0;0===e.length?t([]):b(e,function(r,o){r.get(function(r){return function(o){n[r]=o,++i>=e.length&&t(n)}}(o))})});var e},We=function(t){return{is:function(e){return t===e},isValue:u,isError:l,getOr:i(t),getOrThunk:i(t),getOrDie:i(t),or:function(e){return We(t)},orThunk:function(e){return We(t)},fold:function(e,n){return n(t)},map:function(e){return We(e(t))},mapError:function(e){return We(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return A.some(t)}}},qe=function(t){return{is:l,isValue:l,isError:u,getOr:r,getOrThunk:function(t){return t()},getOrDie:function(){return(e=String(t),function(){throw new Error(e)})();var e},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return qe(t)},mapError:function(e){return qe(e(t))},each:e,bind:function(e){return qe(t)},exists:l,forall:u,toOption:A.none}},Xe={value:We,error:qe,fromOption:function(t,e){return t.fold(function(){return qe(e)},We)}},Ye=window.Promise?window.Promise:(Be=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Oe=Je.immediateFn||"function"==typeof t.setImmediate&&t.setImmediate||function(e){t.setTimeout(e,1)},Je.prototype.catch=function(t){return this.then(null,t)},Je.prototype.then=function(t,e){var n=this;return new Je(function(i,r){Ze.call(n,new rn(t,e,i,r))})},Je.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&Be(arguments[0])?arguments[0]:arguments);return new Je(function(e,n){if(0===t.length)return e([]);var i=t.length;function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){r(o,t)},n)}t[o]=a,0==--i&&e(t)}catch(f){n(f)}}for(var o=0;o<t.length;o++)r(o,t[o])})},Je.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Je?t:new Je(function(e){e(t)})},Je.reject=function(t){return new Je(function(e,n){n(t)})},Je.race=function(t){return new Je(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},Je);function Qe(t,e){return function(){t.apply(e,arguments)}}function Je(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],on(t,Qe(tn,this),Qe(en,this))}function Ze(t){var e=this;null!==this._state?Oe(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(h){return void t.reject(h)}t.resolve(i)}else(e._state?t.resolve:t.reject)(e._value)}):this._deferreds.push(t)}function tn(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void on(Qe(e,t),Qe(tn,this),Qe(en,this))}this._state=!0,this._value=t,nn.call(this)}catch(h){en.call(this,h)}}function en(t){this._state=!1,this._value=t,nn.call(this)}function nn(){for(var t=0,e=this._deferreds.length;t<e;t++)Ze.call(this,this._deferreds[t]);this._deferreds=null}function rn(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function on(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(g){if(i)return;i=!0,n(g)}}function an(e,n){return"number"!=typeof n&&(n=0),t.setTimeout(e,n)}function sn(e,n){return"number"!=typeof n&&(n=1),t.setInterval(e,n)}function cn(e,n){var i,r;return(r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t.clearTimeout(i),i=an(function(){e.apply(this,r)},n)}).stop=function(){t.clearTimeout(i)},r}function ln(e){return"matchMedia"in t.window&&t.matchMedia(e).matches}var un,dn,hn,fn,gn,pn,mn,vn,yn,bn,_n,wn,Cn={requestAnimationFrame:function(e,n){He?He.then(e):He=new Ye(function(e){!function(e,n){var i,r=t.window.requestAnimationFrame,o=["ms","moz","webkit"];for(i=0;i<o.length&&!r;i++)r=t.window[o[i]+"RequestAnimationFrame"];(r=r||function(e){t.window.setTimeout(e,0)})(e,n)}(e,n=n||t.document.body)}).then(e)},setTimeout:an,setInterval:sn,setEditorTimeout:function(t,e,n){return an(function(){t.removed||e()},n)},setEditorInterval:function(e,n,i){var r;return r=sn(function(){e.removed?t.clearInterval(r):n()},i)},debounce:cn,throttle:cn,clearInterval:function(e){return t.clearInterval(e)},clearTimeout:function(e){return t.clearTimeout(e)}},xn=t.navigator,Sn=xn.userAgent;function Tn(t,e,n){var i,r;if(!t)return 0;if(n=n||t,void 0!==t.length){for(i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return 0}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return 0;return 1}function kn(t,e,n){var i,r;for(i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return i;return-1}function zn(t){return null==t?"":(""+t).replace(Mn,"")}function En(t,e){return e?!("array"!==e||!An.isArray(t))||typeof t===e:void 0!==t}vn=/Android/.test(Sn),dn=(dn=!(un=/WebKit/.test(Sn))&&/MSIE/gi.test(Sn)&&/Explorer/gi.test(xn.appName))&&/MSIE (\w+)\./.exec(Sn)[1],hn=-1!==Sn.indexOf("Trident/")&&(-1!==Sn.indexOf("rv:")||-1!==xn.appName.indexOf("Netscape"))&&11,fn=-1!==Sn.indexOf("Edge/")&&!dn&&!hn&&12,dn=dn||hn||fn,gn=!un&&!hn&&/Gecko/.test(Sn),pn=-1!==Sn.indexOf("Mac"),mn=/(iPad|iPhone)/.test(Sn),yn="FormData"in t.window&&"FileReader"in t.window&&"URL"in t.window&&!!t.URL.createObjectURL,bn=ln("only screen and (max-device-width: 480px)")&&(vn||mn),_n=ln("only screen and (min-width: 800px)")&&(vn||mn),wn=-1!==Sn.indexOf("Windows Phone"),fn&&(un=!1);var Nn={opera:!1,webkit:un,ie:dn,gecko:gn,mac:pn,iOS:mn,android:vn,contentEditable:!mn||yn||534<=parseInt(Sn.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==dn,range:t.window.getSelection&&"Range"in t.window,documentMode:dn&&!fn?t.document.documentMode||7:10,fileApi:yn,ceFalse:!1===dn||8<dn,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!1===dn||11<dn,desktop:!bn&&!_n,windowsPhone:wn},Kn=Array.isArray,An={isArray:Kn,toArray:function(t){var e,n,i=t;if(!Kn(t))for(i=[],e=0,n=t.length;e<n;e++)i[e]=t[e];return i},each:Tn,map:function(t,e){var n=[];return Tn(t,function(i,r){n.push(e(i,r,t))}),n},filter:function(t,e){var n=[];return Tn(t,function(i,r){e&&!e(i,r,t)||n.push(i)}),n},indexOf:function(t,e){var n,i;if(t)for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},reduce:function(t,e,n,i){var r=0;for(arguments.length<3&&(n=t[0]);r<t.length;r++)n=e.call(i,n,t[r],r);return n},findIndex:kn,find:function(t,e,n){var i=kn(t,e,n);return-1!==i?t[i]:void 0},last:function(t){return t[t.length-1]}},Mn=/^\s*|\s*$/g,Dn=function(t,e,n,i){i=i||this,t&&(n&&(t=t[n]),An.each(t,function(t,r){if(!1===e.call(i,t,r,n))return!1;Dn(t,e,n,i)}))},Pn={trim:zn,isArray:An.isArray,is:En,toArray:An.toArray,makeMap:function(t,e,n){var i;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n},each:An.each,map:An.map,grep:An.filter,inArray:An.indexOf,hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},extend:function(t,e){for(var n,i,r,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s,c=arguments;for(n=1,i=c.length;n<i;n++)for(r in e=c[n])e.hasOwnProperty(r)&&void 0!==(s=e[r])&&(t[r]=s);return t},create:function(t,e,n){var i,r,o,a,s,c=this,l=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),o=t[3].match(/(^|\.)(\w+)$/i)[2],!(r=c.createNS(t[3].replace(/\.\w+$/,""),n))[o]){if("static"===t[2])return r[o]=e,void(this.onCreate&&this.onCreate(t[2],t[3],r[o]));e[o]||(e[o]=function(){},l=1),r[o]=e[o],c.extend(r[o].prototype,e),t[5]&&(i=c.resolve(t[5]).prototype,a=t[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=l?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],c.each(i,function(t,e){r[o].prototype[e]=i[e]}),c.each(e,function(t,e){i[e]?r[o].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!==o&&(r[o].prototype[e]=t)})),c.each(e.static,function(t,e){r[o][e]=t})}},walk:Dn,createNS:function(e,n){var i,r;for(n=n||t.window,e=e.split("."),i=0;i<e.length;i++)n[r=e[i]]||(n[r]={}),n=n[r];return n},resolve:function(e,n){var i,r;for(n=n||t.window,i=0,r=(e=e.split(".")).length;i<r&&(n=n[e[i]]);i++);return n},explode:function(t,e){return!t||En(t,"array")?t:An.map(t.split(e||","),zn)},_addCacheSuffix:function(t){var e=Nn.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}};function Rn(t){var e;return function(n){return(e=e||function(t,e){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];n[String(o)]=e(o,i)}return n}(t,i(!0))).hasOwnProperty(it(n))}}function Ln(t){return we(t)&&!jn(t)}function Fn(t){return we(t)&&"br"===it(t)}function Bn(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")}var On,Hn,In,Vn=Rn(["h1","h2","h3","h4","h5","h6"]),jn=Rn(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Un=Rn(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Gn=Rn(["ul","ol","dl"]),$n=Rn(["li","dd","dt"]),Wn=Rn(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),qn=Rn(["thead","tbody","tfoot"]),Xn=Rn(["td","th"]),Yn=Rn(["pre","script","textarea","style"]),Qn=function(t,e){var n,i=e.childNodes;if(!Xt.isElement(e)||!Bn(e)){for(n=i.length-1;0<=n;n--)Qn(t,i[n]);if(!1===Xt.isDocument(e)){if(Xt.isText(e)&&0<e.nodeValue.length){var r=Pn.trim(e.nodeValue).length;if(t.isBlock(e.parentNode)||0<r)return;if(0===r&&e.previousSibling&&"SPAN"===e.previousSibling.nodeName&&e.nextSibling&&"SPAN"===e.nextSibling.nodeName)return}else if(Xt.isElement(e)&&(1===(i=e.childNodes).length&&Bn(i[0])&&e.parentNode.insertBefore(i[0],e),i.length||Wn(ve.fromDom(e))))return;t.remove(e)}return e}},Jn={trimNode:Qn},Zn=Pn.makeMap,ti=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ei=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ni=/[<>&\"\']/g,ii=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ri={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};function oi(t,e){var n,i,r,o={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),Hn[i]||(o[i]=r="&"+t[n+1]+";",o[r]=i);return o}}function ai(t,e){return t.replace(e?ti:ei,function(t){return Hn[t]||t})}function si(t,e){return t.replace(e?ti:ei,function(t){return 1<t.length?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":Hn[t]||"&#"+t.charCodeAt(0)+";"})}function ci(t,e,n){return n=n||On,t.replace(e?ti:ei,function(t){return Hn[t]||n[t]||t})}Hn={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},In={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},On=oi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var li={encodeRaw:ai,encodeAllRaw:function(t){return(""+t).replace(ni,function(t){return Hn[t]||t})},encodeNumeric:si,encodeNamed:ci,getEncodeFunc:function(t,e){var n=oi(e)||On,i=Zn(t.replace(/\+/g,","));return i.named&&i.numeric?function(t,e){return t.replace(e?ti:ei,function(t){return void 0!==Hn[t]?Hn[t]:void 0!==n[t]?n[t]:1<t.length?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"})}:i.named?e?function(t,e){return ci(t,e,n)}:ci:i.numeric?si:ai},decode:function(t){return t.replace(ii,function(t,e){return e?65535<(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):ri[e]||String.fromCharCode(e):In[t]||On[t]||function(t){var e;return(e=ve.fromTag("div").dom()).innerHTML=t,e.textContent||e.innerText||t}(t)})}},ui={},di={},hi=Pn.makeMap,fi=Pn.each,gi=Pn.extend,pi=Pn.explode,mi=Pn.inArray,vi=function(t,e){return(t=Pn.trim(t))?t.split(e||" "):[]},yi=function(t){function e(t,e,n){function r(t,e){var n,i,r={};for(n=0,i=t.length;n<i;n++)r[t[n]]=e||{};return r}var o,a,s;for(e=e||"","string"==typeof(n=n||[])&&(n=vi(n)),o=(t=vi(t)).length;o--;)s={attributes:r(a=vi([i,e].join(" "))),attributesOrder:a,children:r(n,di)},l[t[o]]=s}function n(t,e){var n,i,r,o;for(n=(t=vi(t)).length,e=vi(e);n--;)for(i=l[t[n]],r=0,o=e.length;r<o;r++)i.attributes[e[r]]={},i.attributesOrder.push(e[r])}var i,r,o,a,s,c,l={};return ui[t]?ui[t]:(i="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(i+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav",o+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(i+=" xml:lang",o=[o,c="acronym applet basefont big font strike tt"].join(" "),fi(vi(c),function(t){e(t,"",o)}),r=[r,s="center dir isindex noframes"].join(" "),a=[r,o].join(" "),fi(vi(s),function(t){e(t,"",a)})),a=a||[r,o].join(" "),e("html","manifest","head body"),e("head","","base command link meta noscript script style title"),e("title hr noscript br"),e("base","href target"),e("link","href rel media hreflang type sizes hreflang"),e("meta","name http-equiv content charset"),e("style","media type scoped"),e("script","src async defer type charset"),e("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),e("address dt dd div caption","",a),e("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),e("blockquote","cite",a),e("ol","reversed start type","li"),e("ul","","li"),e("li","value",a),e("dl","","dt dd"),e("a","href target rel media hreflang type",o),e("q","cite",o),e("ins del","cite datetime",a),e("img","src sizes srcset alt usemap ismap width height"),e("iframe","src name width height",a),e("embed","src type width height"),e("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),e("param","name value"),e("map","name",[a,"area"].join(" ")),e("area","alt coords shape href target rel media hreflang type"),e("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),e("colgroup","span","col"),e("col","span"),e("tbody thead tfoot","","tr"),e("tr","","td th"),e("td","colspan rowspan headers",a),e("th","colspan rowspan headers scope abbr",a),e("form","accept-charset action autocomplete enctype method name novalidate target",a),e("fieldset","disabled form name",[a,"legend"].join(" ")),e("label","form for",o),e("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),e("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?a:o),e("select","disabled form multiple name required size","option optgroup"),e("optgroup","disabled label","option"),e("option","disabled label selected value"),e("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),e("menu","type label",[a,"li"].join(" ")),e("noscript","",a),"html4"!==t&&(e("wbr"),e("ruby","",[o,"rt rp"].join(" ")),e("figcaption","",a),e("mark rt rp summary bdi","",o),e("canvas","width height",a),e("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),e("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),e("picture","","img source"),e("source","src srcset type media sizes"),e("track","kind src srclang label default"),e("datalist","",[o,"option"].join(" ")),e("article section nav aside main header footer","",a),e("hgroup","","h1 h2 h3 h4 h5 h6"),e("figure","",[a,"figcaption"].join(" ")),e("time","datetime",o),e("dialog","open",a),e("command","type label icon disabled checked radiogroup command"),e("output","for form name",o),e("progress","value max",o),e("meter","value min max low high optimum",o),e("details","open",[a,"summary"].join(" ")),e("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(n("script","language xml:space"),n("style","xml:space"),n("object","declare classid code codebase codetype archive standby align border hspace vspace"),n("embed","align name hspace vspace"),n("param","valuetype type"),n("a","charset name rev shape coords"),n("br","clear"),n("applet","codebase archive code object alt name width height align hspace vspace"),n("img","name longdesc align border hspace vspace"),n("iframe","longdesc frameborder marginwidth marginheight scrolling align"),n("font basefont","size color face"),n("input","usemap align"),n("select","onchange"),n("textarea"),n("h1 h2 h3 h4 h5 h6 div p legend caption","align"),n("ul","type compact"),n("li","type"),n("ol dl menu dir","compact"),n("pre","width xml:space"),n("hr","align noshade size width"),n("isindex","prompt"),n("table","summary width frame rules cellspacing cellpadding align bgcolor"),n("col","width align char charoff valign"),n("colgroup","width align char charoff valign"),n("thead","align char charoff valign"),n("tr","align char charoff valign bgcolor"),n("th","axis align char charoff valign nowrap bgcolor width height"),n("form","accept"),n("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),n("tfoot","align char charoff valign"),n("tbody","align char charoff valign"),n("area","nohref"),n("body","background bgcolor text link vlink alink")),"html4"!==t&&(n("input button select textarea","autofocus"),n("input textarea","placeholder"),n("a","download"),n("link script img","crossorigin"),n("iframe","sandbox seamless allowfullscreen")),fi(vi("a form meter progress dfn"),function(t){l[t]&&delete l[t].children[t]}),delete l.caption.children.table,delete l.script,ui[t]=l)},bi=function(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),fi(t,function(t,i){n[i]=n[i.toUpperCase()]="map"===e?hi(t,/[, ]/):pi(t,/[, ]/)})),n};function _i(t){function e(e,n,i){var r=t[e];return r?r=hi(r,/[, ]/,hi(r.toUpperCase(),/[, ]/)):(r=ui[e])||(r=hi(n," ",hi(n.toUpperCase()," ")),r=gi(r,i),ui[e]=r),r}var n,i,r,o,a,s,c,l,u,d,h,f,g,p={},m={},v=[],y={},b={};function _(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")}function w(t){var e,n,i,r,o,a,s,c,l,u,d,h,f,g,m,y,b,w,C,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(t)for(t=vi(t,","),p["@"]&&(y=p["@"].attributes,b=p["@"].attributesOrder),e=0,n=t.length;e<n;e++)if(o=x.exec(t[e])){if(l=o[2],m=o[3],c=o[5],a={attributes:h={},attributesOrder:f=[]},"#"===(g=o[1])&&(a.paddEmpty=!0),"-"===g&&(a.removeEmpty=!0),"!"===o[4]&&(a.removeEmptyAttrs=!0),y){for(w in y)h[w]=y[w];f.push.apply(f,b)}if(c)for(i=0,r=(c=vi(c,"|")).length;i<r;i++)if(o=S.exec(c[i])){if(s={},d=o[1],u=o[2].replace(/[\\:]:/g,":"),g=o[3],C=o[4],"!"===d&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(u),s.required=!0),"-"===d){delete h[u],f.splice(mi(f,u),1);continue}g&&("="===g&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:u,value:C}),s.defaultValue=C),":"===g&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:u,value:C}),s.forcedValue=C),"<"===g&&(s.validValues=hi(C,"?"))),T.test(u)?(a.attributePatterns=a.attributePatterns||[],s.pattern=_(u),a.attributePatterns.push(s)):(h[u]||f.push(u),h[u]=s)}y||"@"!==l||(y=h,b=f),m&&(a.outputName=l,p[m]=a),T.test(l)?(a.pattern=_(l),v.push(a)):p[l]=a}}function C(t){p={},v=[],w(t),fi(r,function(t,e){m[e]=t.children})}function x(t){var e=/^(~)?(.+)$/;t&&(ui.text_block_elements=ui.block_elements=null,fi(vi(t,","),function(t){var n=e.exec(t),i="~"===n[1],r=i?"span":"div",o=n[2];if(m[o]=m[r],y[o]=r,i||(u[o.toUpperCase()]={},u[o]={}),!p[o]){var a=p[r];delete(a=gi({},a)).removeEmptyAttrs,delete a.removeEmpty,p[o]=a}fi(m,function(t,e){t[r]&&(m[e]=t=gi({},m[e]),t[o]=t[r])})}))}function S(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;ui[t.schema]=null,e&&fi(vi(e,","),function(t){var e,i,r=n.exec(t);r&&(e=(i=r[1])?m[r[2]]:m[r[2]]={"#comment":{}},e=m[r[2]],fi(vi(r[3],"|"),function(t){"-"===i?delete e[t]:e[t]={}}))})}function T(t){var e,n=p[t];if(n)return n;for(e=v.length;e--;)if((n=v[e]).pattern.test(t))return n}return r=yi((t=t||{}).schema),!1===t.verify_html&&(t.valid_elements="*[*]"),n=bi(t.valid_styles),i=bi(t.invalid_styles,"map"),l=bi(t.valid_classes,"map"),o=e("whitespace_elements","pre script noscript style textarea video audio iframe object code"),a=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),s=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),c=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),d=e("non_empty_elements","td th iframe video audio object script pre code",s),h=e("move_caret_before_on_enter_elements","table",d),f=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),u=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",f),g=e("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),fi((t.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(t){b[t]=new RegExp("</"+t+"[^>]*>","gi")}),t.valid_elements?C(t.valid_elements):(fi(r,function(t,e){p[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},m[e]=t.children}),"html5"!==t.schema&&fi(vi("strong/b em/i"),function(t){t=vi(t,"/"),p[t[1]].outputName=t[0]}),fi(vi("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){p[t]&&(p[t].removeEmpty=!0)}),fi(vi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(t){p[t].paddEmpty=!0}),fi(vi("span"),function(t){p[t].removeEmptyAttrs=!0})),x(t.custom_elements),S(t.valid_children),w(t.extended_valid_elements),S("+ol[ul|ol],+ul[ul|ol]"),fi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(t,e){p[e]&&(p[e].parentsRequired=vi(t))}),t.invalid_elements&&fi(pi(t.invalid_elements),function(t){p[t]&&delete p[t]}),T("span")||w("span[!data-mce-type|*]"),{children:m,elements:p,getValidStyles:function(){return n},getValidClasses:function(){return l},getBlockElements:function(){return u},getInvalidStyles:function(){return i},getShortEndedElements:function(){return s},getTextBlockElements:function(){return f},getTextInlineElements:function(){return g},getBoolAttrs:function(){return c},getElementRule:T,getSelfClosingElements:function(){return a},getNonEmptyElements:function(){return d},getMoveCaretBeforeOnEnterElements:function(){return h},getWhiteSpaceElements:function(){return o},getSpecialElements:function(){return b},isValidChild:function(t,e){var n=m[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},isValid:function(t,e){var n,i,r=T(t);if(r){if(!e)return!0;if(r.attributes[e])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1},getCustomElements:function(){return y},addValidElements:w,setValidElements:C,addCustomElements:x,addValidChildren:S}}function wi(t,e,n,i){function r(t){return 1<(t=parseInt(t,10).toString(16)).length?t:"0"+t}return"#"+r(e)+r(n)+r(i)}function Ci(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)}function xi(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)}function Si(e,n){var i,r=n||{};for(i in e)Ei[i]||(r[i]=e[i]);if(r.target||(r.target=r.srcElement||t.document),Nn.experimentalShadowDom&&(r.target=function(t,e){if(t.composedPath){var n=t.composedPath();if(n&&0<n.length)return n[0]}return e}(e,r.target)),e&&zi.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var o=r.target.ownerDocument||t.document,a=o.documentElement,s=o.body;r.pageX=e.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),r.pageY=e.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}return r.preventDefault=function(){r.isDefaultPrevented=Ki,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},r.stopPropagation=function(){r.isPropagationStopped=Ki,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},!(r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=Ki,r.stopPropagation()})==(r.isDefaultPrevented===Ki||r.isDefaultPrevented===Ni)&&(r.isDefaultPrevented=Ni,r.isPropagationStopped=Ni,r.isImmediatePropagationStopped=Ni),void 0===r.metaKey&&(r.metaKey=!1),r}function Ti(t,e,n){var i=t.document,r={type:"ready"};if(n.domLoaded)e(r);else{var o=function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body},a=function(){xi(t,"DOMContentLoaded",a),xi(t,"load",a),n.domLoaded||(n.domLoaded=!0,e(r))},s=function(){o()&&(xi(i,"readystatechange",s),a())},c=function(){try{i.documentElement.doScroll("left")}catch(t){return void Cn.setTimeout(c)}a()};!i.addEventListener||Nn.ie&&Nn.ie<11?(Ci(i,"readystatechange",s),i.documentElement.doScroll&&t.self===t.top&&c()):o()?a():Ci(t,"DOMContentLoaded",a),Ci(t,"load",a)}}var ki=function(t,e){var n,i,r,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,u={},d="\ufeff";for(t=t||{},e&&(r=e.getValidStyles(),o=e.getInvalidStyles()),i=("\\\" \\' \\; \\: ; : "+d).split(" "),n=0;n<i.length;n++)u[i[n]]=d+n,u[d+n]=i[n];return{toHex:function(t){return t.replace(a,wi)},parse:function(e){function i(t,e,i){var r,o,a,s;if((r=x[t+"-top"+e])&&(o=x[t+"-right"+e])&&(a=x[t+"-bottom"+e])&&(s=x[t+"-left"+e])){var c=[r,o,a,s];for(n=c.length-1;n--&&c[n]===c[n+1];);-1<n&&i||(x[t+e]=-1===n?c[0]:c.join(" "),delete x[t+"-top"+e],delete x[t+"-right"+e],delete x[t+"-bottom"+e],delete x[t+"-left"+e])}}function r(t){var e,n=x[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return x[t]=n[0],!0}}function o(t){return b=!0,u[t]}function h(t,e){return b&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return u[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t}function f(t){return String.fromCharCode(parseInt(t.slice(1),16))}function g(t){return t.replace(/\\[0-9a-f]+/gi,f)}function p(e,n,i,r,o,a){if(o=o||a)return"'"+(o=h(o)).replace(/\'/g,"\\'")+"'";if(n=h(n||i||r),!t.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return S&&(n=S.call(T,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var m,v,y,b,_,w,C,x={},S=t.url_converter,T=t.url_converter_scope||this;if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,o).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,o)});m=c.exec(e);)if(c.lastIndex=m.index+m[0].length,v=m[1].replace(l,"").toLowerCase(),y=m[2].replace(l,""),v&&y){if(v=g(v),y=g(y),-1!==v.indexOf(d)||-1!==v.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===v||/expression\s*\(|\/\*|\*\//.test(y)))continue;"font-weight"===v&&"700"===y?y="bold":"color"!==v&&"background-color"!==v||(y=y.toLowerCase()),y=(y=y.replace(a,wi)).replace(s,p),x[v]=b?h(y,!0):y}i("border","",!0),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),w="border-style",C="border-color",r(_="border-width")&&r(w)&&r(C)&&(x.border=x[_]+" "+x[w]+" "+x[C],delete x[_],delete x[w],delete x[C]),"medium none"===x.border&&delete x.border,"none"===x["border-image"]&&delete x["border-image"]}return x},serialize:function(t,e){function n(e){var n,i,o,a;if(n=r[e])for(i=0,o=n.length;i<o;i++)(a=t[e=n[i]])&&(l+=(0<l.length?" ":"")+e+": "+a+";")}var i,a,s,c,l="";if(e&&r)n("*"),n(e);else for(i in t)!(a=t[i])||o&&(s=i,c=void 0,(c=o["*"])&&c[s]||(c=o[e])&&c[s])||(l+=(0<l.length?" ":"")+i+": "+a+";");return l}}},zi=/^(?:mouse|contextmenu)|click/,Ei={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Ni=function(){return!1},Ki=function(){return!0},Ai=(Mi.prototype.bind=function(e,n,i,r){function o(t){f.executeHandlers(Si(t||g.event),a)}var a,s,c,l,u,d,h,f=this,g=t.window;if(e&&3!==e.nodeType&&8!==e.nodeType){e[f.expando]?a=e[f.expando]:(a=f.count++,e[f.expando]=a,f.events[a]={}),r=r||e;var p=n.split(" ");for(c=p.length;c--;)d=o,u=h=!1,"DOMContentLoaded"===(l=p[c])&&(l="ready"),f.domLoaded&&"ready"===l&&"complete"===e.readyState?i.call(r,Si({type:l})):(f.hasMouseEnterLeave||(u=f.mouseEnterLeave[l])&&(d=function(t){var e,n;if(e=t.currentTarget,(n=t.relatedTarget)&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||((t=Si(t||g.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,f.executeHandlers(t,a))}),f.hasFocusIn||"focusin"!==l&&"focusout"!==l||(h=!0,u="focusin"===l?"focus":"blur",d=function(t){(t=Si(t||g.event)).type="focus"===t.type?"focusin":"focusout",f.executeHandlers(t,a)}),(s=f.events[a][l])?"ready"===l&&f.domLoaded?i(Si({type:l})):s.push({func:i,scope:r}):(f.events[a][l]=s=[{func:i,scope:r}],s.fakeName=u,s.capture=h,s.nativeHandler=d,"ready"===l?Ti(e,d,f):Ci(e,u||l,d,h)));return e=s=0,i}},Mi.prototype.unbind=function(t,e,n){var i,r,o,a,s,c;if(!t||3===t.nodeType||8===t.nodeType)return this;if(i=t[this.expando]){if(c=this.events[i],e){var l=e.split(" ");for(o=l.length;o--;)if(r=c[s=l[o]]){if(n)for(a=r.length;a--;)if(r[a].func===n){var u=r.nativeHandler,d=r.fakeName,h=r.capture;(r=r.slice(0,a).concat(r.slice(a+1))).nativeHandler=u,r.fakeName=d,r.capture=h,c[s]=r}n&&0!==r.length||(delete c[s],xi(t,r.fakeName||s,r.nativeHandler,r.capture))}}else{for(s in c)xi(t,(r=c[s]).fakeName||s,r.nativeHandler,r.capture);c={}}for(s in c)return this;delete this.events[i];try{delete t[this.expando]}catch(v){t[this.expando]=null}}return this},Mi.prototype.fire=function(t,e,n){var i;if(!t||3===t.nodeType||8===t.nodeType)return this;var r=Si(null,n);for(r.type=e,r.target=t;(i=t[this.expando])&&this.executeHandlers(r,i),(t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow)&&!r.isPropagationStopped(););return this},Mi.prototype.clean=function(t){var e,n;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),e=(n=t.getElementsByTagName("*")).length;e--;)(t=n[e])[this.expando]&&this.unbind(t);return this},Mi.prototype.destroy=function(){this.events={}},Mi.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},Mi.prototype.executeHandlers=function(t,e){var n,i,r,o,a=this.events[e];if(n=a&&a[t.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return},Mi.Event=new Mi,Mi);function Mi(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in t.document.documentElement,this.hasFocusIn="onfocusin"in t.document.documentElement,this.count=1}function Di(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}var Pi,Ri,Li,Fi,Bi,Oi,Hi,Ii,Vi,ji,Ui,Gi,$i,Wi,qi,Xi,Yi,Qi,Ji="sizzle"+-new Date,Zi=t.window.document,tr=0,er=0,nr=Dr(),ir=Dr(),rr=Dr(),or=function(t,e){return t===e&&(Ui=!0),0},ar="undefined",sr={}.hasOwnProperty,cr=[],lr=cr.pop,ur=cr.push,dr=cr.push,hr=cr.slice,fr=cr.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},gr="[\\x20\\t\\r\\n\\f]",pr="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",mr="\\["+gr+"*("+pr+")(?:"+gr+"*([*^$|!~]?=)"+gr+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+pr+"))|)"+gr+"*\\]",vr=":("+pr+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+mr+")*)|.*)\\)|)",yr=new RegExp("^"+gr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+gr+"+$","g"),br=new RegExp("^"+gr+"*,"+gr+"*"),_r=new RegExp("^"+gr+"*([>+~]|"+gr+")"+gr+"*"),wr=new RegExp("="+gr+"*([^\\]'\"]*?)"+gr+"*\\]","g"),Cr=new RegExp(vr),xr=new RegExp("^"+pr+"$"),Sr={ID:new RegExp("^#("+pr+")"),CLASS:new RegExp("^\\.("+pr+")"),TAG:new RegExp("^("+pr+"|[*])"),ATTR:new RegExp("^"+mr),PSEUDO:new RegExp("^"+vr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+gr+"*(even|odd|(([+-]|)(\\d*)n|)"+gr+"*(?:([+-]|)"+gr+"*(\\d+)|))"+gr+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+gr+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+gr+"*((?:-\\d)?\\d*)"+gr+"*\\)|)(?=[^-]|$)","i")},Tr=/^(?:input|select|textarea|button)$/i,kr=/^h\d$/i,zr=/^[^{]+\{\s*\[native \w/,Er=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Nr=/[+~]/,Kr=/'|\\/g,Ar=new RegExp("\\\\([\\da-f]{1,6}"+gr+"?|("+gr+")|.)","ig");try{dr.apply(cr=hr.call(Zi.childNodes),Zi.childNodes)}catch(rC){dr={apply:cr.length?function(t,e){ur.apply(t,hr.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}var Mr=function(t,e,n,i){var r,o,a,s,c,l,u,d,h,f;if((e?e.ownerDocument||e:Zi)!==$i&&Gi(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=(e=e||$i).nodeType)&&9!==s)return[];if(qi&&!i){if(r=Er.exec(t))if(a=r[1]){if(9===s){if(!(o=e.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&Qi(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return dr.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&Ri.getElementsByClassName)return dr.apply(n,e.getElementsByClassName(a)),n}if(Ri.qsa&&(!Xi||!Xi.test(t))){if(d=u=Ji,h=e,f=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(l=Oi(t),(u=e.getAttribute("id"))?d=u.replace(Kr,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",c=l.length;c--;)l[c]=d+Ir(l[c]);h=Nr.test(t)&&Or(e.parentNode)||e,f=l.join(",")}if(f)try{return dr.apply(n,h.querySelectorAll(f)),n}catch(w){}finally{u||e.removeAttribute("id")}}}return Ii(t.replace(yr,"$1"),e,n,i)};function Dr(){var t=[];return function e(n,i){return t.push(n+" ")>Li.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function Pr(t){return t[Ji]=!0,t}function Rr(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function Lr(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function Fr(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function Br(t){return Pr(function(e){return e=+e,Pr(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function Or(t){return t&&typeof t.getElementsByTagName!=ar&&t}for(Pi in Ri=Mr.support={},Bi=Mr.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},Gi=Mr.setDocument=function(t){var e,n=t?t.ownerDocument||t:Zi,i=n.defaultView;return n!==$i&&9===n.nodeType&&n.documentElement?(Wi=($i=n).documentElement,qi=!Bi(n),i&&i!==function(t){try{return t.top}catch(e){}return null}(i)&&(i.addEventListener?i.addEventListener("unload",function(){Gi()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Gi()})),Ri.attributes=!0,Ri.getElementsByTagName=!0,Ri.getElementsByClassName=zr.test(n.getElementsByClassName),Ri.getById=!0,Li.find.ID=function(t,e){if(typeof e.getElementById!=ar&&qi){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},Li.filter.ID=function(t){var e=t.replace(Ar,Di);return function(t){return t.getAttribute("id")===e}},Li.find.TAG=Ri.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!=ar)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},Li.find.CLASS=Ri.getElementsByClassName&&function(t,e){if(qi)return e.getElementsByClassName(t)},Yi=[],Xi=[],Ri.disconnectedMatch=!0,Xi=Xi.length&&new RegExp(Xi.join("|")),Yi=Yi.length&&new RegExp(Yi.join("|")),e=zr.test(Wi.compareDocumentPosition),Qi=e||zr.test(Wi.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},or=e?function(t,e){if(t===e)return Ui=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!Ri.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===Zi&&Qi(Zi,t)?-1:e===n||e.ownerDocument===Zi&&Qi(Zi,e)?1:ji?fr.call(ji,t)-fr.call(ji,e):0:4&i?-1:1)}:function(t,e){if(t===e)return Ui=!0,0;var i,r=0,o=t.parentNode,a=e.parentNode,s=[t],c=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:ji?fr.call(ji,t)-fr.call(ji,e):0;if(o===a)return Rr(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;s[r]===c[r];)r++;return r?Rr(s[r],c[r]):s[r]===Zi?-1:c[r]===Zi?1:0},n):$i},Mr.matches=function(t,e){return Mr(t,null,null,e)},Mr.matchesSelector=function(t,e){if((t.ownerDocument||t)!==$i&&Gi(t),e=e.replace(wr,"='$1']"),Ri.matchesSelector&&qi&&(!Yi||!Yi.test(e))&&(!Xi||!Xi.test(e)))try{var n=(void 0).call(t,e);if(n||Ri.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(rC){}return 0<Mr(e,$i,null,[t]).length},Mr.contains=function(t,e){return(t.ownerDocument||t)!==$i&&Gi(t),Qi(t,e)},Mr.attr=function(t,e){(t.ownerDocument||t)!==$i&&Gi(t);var n=Li.attrHandle[e.toLowerCase()],i=n&&sr.call(Li.attrHandle,e.toLowerCase())?n(t,e,!qi):void 0;return void 0!==i?i:Ri.attributes||!qi?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},Mr.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Mr.uniqueSort=function(t){var e,n=[],i=0,r=0;if(Ui=!Ri.detectDuplicates,ji=!Ri.sortStable&&t.slice(0),t.sort(or),Ui){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return ji=null,t},Fi=Mr.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=Fi(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=Fi(e);return n},(Li=Mr.selectors={cacheLength:50,createPseudo:Pr,match:Sr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Ar,Di),t[3]=(t[3]||t[4]||t[5]||"").replace(Ar,Di),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Mr.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Mr.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Sr.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Cr.test(n)&&(e=Oi(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Ar,Di).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=nr[t+" "];return e||(e=new RegExp("(^|"+gr+")"+t+"("+gr+"|$)"))&&nr(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!=ar&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=Mr.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&-1<r.indexOf(n):"$="===e?n&&r.slice(-n.length)===n:"~="===e?-1<(" "+r+" ").indexOf(n):"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var l,u,d,h,f,g,p=o!=a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!c&&!s;if(m){if(o){for(;p;){for(d=e;d=d[p];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;g=p="only"===t&&!g&&"nextSibling"}return!0}if(g=[a?m.firstChild:m.lastChild],a&&y){for(f=(l=(u=m[Ji]||(m[Ji]={}))[t]||[])[0]===tr&&l[1],h=l[0]===tr&&l[2],d=f&&m.childNodes[f];d=++f&&d&&d[p]||(h=f=0)||g.pop();)if(1===d.nodeType&&++h&&d===e){u[t]=[tr,f,h];break}}else if(y&&(l=(e[Ji]||(e[Ji]={}))[t])&&l[0]===tr)h=l[1];else for(;(d=++f&&d&&d[p]||(h=f=0)||g.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[Ji]||(d[Ji]={}))[t]=[tr,h]),d!==e)););return(h-=r)===i||h%i==0&&0<=h/i}}},PSEUDO:function(t,e){var n,i=Li.pseudos[t]||Li.setFilters[t.toLowerCase()]||Mr.error("unsupported pseudo: "+t);return i[Ji]?i(e):1<i.length?(n=[t,t,"",e],Li.setFilters.hasOwnProperty(t.toLowerCase())?Pr(function(t,n){for(var r,o=i(t,e),a=o.length;a--;)t[r=fr.call(t,o[a])]=!(n[r]=o[a])}):function(t){return i(t,0,n)}):i}},pseudos:{not:Pr(function(t){var e=[],n=[],i=Hi(t.replace(yr,"$1"));return i[Ji]?Pr(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:Pr(function(t){return function(e){return 0<Mr(t,e).length}}),contains:Pr(function(t){return t=t.replace(Ar,Di),function(e){return-1<(e.textContent||e.innerText||Fi(e)).indexOf(t)}}),lang:Pr(function(t){return xr.test(t||"")||Mr.error("unsupported lang: "+t),t=t.replace(Ar,Di).toLowerCase(),function(e){var n;do{if(n=qi?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.window.location&&t.window.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===Wi},focus:function(t){return t===$i.activeElement&&(!$i.hasFocus||$i.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!Li.pseudos.empty(t)},header:function(t){return kr.test(t.nodeName)},input:function(t){return Tr.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:Br(function(){return[0]}),last:Br(function(t,e){return[e-1]}),eq:Br(function(t,e,n){return[n<0?n+e:n]}),even:Br(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:Br(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:Br(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:Br(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=Li.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Li.pseudos[Pi]=Lr(Pi);for(Pi in{submit:!0,reset:!0})Li.pseudos[Pi]=Fr(Pi);function Hr(){}function Ir(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function Vr(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=er++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,c,l=[tr,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((s=(c=e[Ji]||(e[Ji]={}))[i])&&s[0]===tr&&s[1]===o)return l[2]=s[2];if((c[i]=l)[2]=t(e,n,a))return!0}}}function jr(t){return 1<t.length?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function Ur(t,e,n,i,r){for(var o,a=[],s=0,c=t.length,l=null!=e;s<c;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),l&&e.push(s)));return a}function Gr(t,e,n,i,r,o){return i&&!i[Ji]&&(i=Gr(i)),r&&!r[Ji]&&(r=Gr(r,o)),Pr(function(o,a,s,c){var l,u,d,h=[],f=[],g=a.length,p=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)Mr(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?p:Ur(p,h,t,s,c),v=n?r||(o?t:g||i)?[]:a:m;if(n&&n(m,v,s,c),i)for(l=Ur(v,f),i(l,[],s,c),u=l.length;u--;)(d=l[u])&&(v[f[u]]=!(m[f[u]]=d));if(o){if(r||t){if(r){for(l=[],u=v.length;u--;)(d=v[u])&&l.push(m[u]=d);r(null,v=[],l,c)}for(u=v.length;u--;)(d=v[u])&&-1<(l=r?fr.call(o,d):h[u])&&(o[l]=!(a[l]=d))}}else v=Ur(v===a?v.splice(g,v.length):v),r?r(null,a,v,c):dr.apply(a,v)})}function $r(t){for(var e,n,i,r=t.length,o=Li.relative[t[0].type],a=o||Li.relative[" "],s=o?1:0,c=Vr(function(t){return t===e},a,!0),l=Vr(function(t){return-1<fr.call(e,t)},a,!0),u=[function(t,n,i){return!o&&(i||n!==Vi)||((e=n).nodeType?c(t,n,i):l(t,n,i))}];s<r;s++)if(n=Li.relative[t[s].type])u=[Vr(jr(u),n)];else{if((n=Li.filter[t[s].type].apply(null,t[s].matches))[Ji]){for(i=++s;i<r&&!Li.relative[t[i].type];i++);return Gr(1<s&&jr(u),1<s&&Ir(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(yr,"$1"),n,s<i&&$r(t.slice(s,i)),i<r&&$r(t=t.slice(i)),i<r&&Ir(t))}u.push(n)}return jr(u)}function Wr(t){return void 0!==t}function qr(t){return"string"==typeof t}function Xr(t,e){var n,i,r;for(r=(e=e||no).createElement("div"),n=e.createDocumentFragment(),r.innerHTML=t;i=r.firstChild;)n.appendChild(i);return n}function Yr(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function Qr(t,e,n){var i,r;return e=Co(e)[0],t.each(function(){n&&i===this.parentNode||(i=this.parentNode,r=e.cloneNode(!1),this.parentNode.insertBefore(r,this)),r.appendChild(this)}),t}function Jr(t,e){return new Co.fn.init(t,e)}function Zr(t){return null==t?"":(""+t).replace(mo,"")}function to(t,e){var n,i,r,o;if(t)if(void 0===(n=t.length)){for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(o=t[i],i,o))break}else for(r=0;r<n&&!1!==e.call(o=t[r],r,o);r++);return t}function eo(t,e){var n=[];return to(t,function(t,i){e(i,t)&&n.push(i)}),n}Hr.prototype=Li.filters=Li.pseudos,Li.setFilters=new Hr,Oi=Mr.tokenize=function(t,e){var n,i,r,o,a,s,c,l=ir[t+" "];if(l)return e?0:l.slice(0);for(a=t,s=[],c=Li.preFilter;a;){for(o in n&&!(i=br.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=_r.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(yr," ")}),a=a.slice(n.length)),Li.filter)Li.filter.hasOwnProperty(o)&&(!(i=Sr[o].exec(a))||c[o]&&!(i=c[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length)));if(!n)break}return e?a.length:a?Mr.error(t):ir(t,s).slice(0)},Hi=Mr.compile=function(t,e){var n,i=[],r=[],o=rr[t+" "];if(!o){for(n=(e=e||Oi(t)).length;n--;)(o=$r(e[n]))[Ji]?i.push(o):r.push(o);(o=rr(t,function(t,e){function n(n,o,a,s,c){var l,u,d,h=0,f="0",g=n&&[],p=[],m=Vi,v=n||r&&Li.find.TAG("*",c),y=tr+=null==m?1:Math.random()||.1,b=v.length;for(c&&(Vi=o!==$i&&o);f!==b&&null!=(l=v[f]);f++){if(r&&l){for(u=0;d=t[u++];)if(d(l,o,a)){s.push(l);break}c&&(tr=y)}i&&((l=!d&&l)&&h--,n&&g.push(l))}if(h+=f,i&&f!==h){for(u=0;d=e[u++];)d(g,p,o,a);if(n){if(0<h)for(;f--;)g[f]||p[f]||(p[f]=lr.call(s));p=Ur(p)}dr.apply(s,p),c&&!n&&0<p.length&&1<h+e.length&&Mr.uniqueSort(s)}return c&&(tr=y,Vi=m),g}var i=0<e.length,r=0<t.length;return i?Pr(n):n}(r,i))).selector=t}return o},Ii=Mr.select=function(t,e,n,i){var r,o,a,s,c,l="function"==typeof t&&t,u=!i&&Oi(t=l.selector||t);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(a=o[0]).type&&Ri.getById&&9===e.nodeType&&qi&&Li.relative[o[1].type]){if(!(e=(Li.find.ID(a.matches[0].replace(Ar,Di),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=Sr.needsContext.test(t)?0:o.length;r--&&!Li.relative[s=(a=o[r]).type];)if((c=Li.find[s])&&(i=c(a.matches[0].replace(Ar,Di),Nr.test(o[0].type)&&Or(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&Ir(o)))return dr.apply(n,i),n;break}}return(l||Hi(t,u))(i,e,!qi,n,Nr.test(t)&&Or(e.parentNode)||e),n},Ri.sortStable=Ji.split("").sort(or).join("")===Ji,Ri.detectDuplicates=!!Ui,Gi(),Ri.sortDetached=!0;var no=t.document,io=Array.prototype.push,ro=Array.prototype.slice,oo=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ao=Ai.Event,so=Pn.makeMap("children,contents,next,prev"),co=function(t,e,n,i){var r;if(qr(e))e=Xr(e,vo(t[0]));else if(e.length&&!e.nodeType){if(e=Co.makeArray(e),i)for(r=e.length-1;0<=r;r--)co(t,e[r],n,i);else for(r=0;r<e.length;r++)co(t,e[r],n,i);return t}if(e.nodeType)for(r=t.length;r--;)n.call(t[r],e);return t},lo=Pn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),uo=Pn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),ho={for:"htmlFor",class:"className",readonly:"readOnly"},fo={float:"cssFloat"},go={},po={},mo=/^\s*|\s*$/g,vo=function(t){return t?9===t.nodeType?t:t.ownerDocument:no};function yo(t,e,n){var i=[],r=t[e];for("string"!=typeof n&&n instanceof Co&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&Co(r).is(n))break}1===r.nodeType&&i.push(r),r=r[e]}return i}function bo(t,e,n,i){var r=[];for(i instanceof Co&&(i=i[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==i){if(t===i)break;if("string"==typeof i&&Co(t).is(i))break}r.push(t)}return r}function _o(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null}function wo(t,e,n){to(n,function(n,i){t[n]=t[n]||{},t[n][e]=i})}Jr.fn=Jr.prototype={constructor:Jr,selector:"",context:null,length:0,init:function(e,n){var i,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(n&&n.nodeType)o.context=n;else{if(n)return Co(e).attr(n);o.context=n=t.document}if(qr(e)){if(!(i="<"===(o.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:oo.exec(e)))return Co(n).find(e);if(i[1])for(r=Xr(e,vo(n)).firstChild;r;)io.call(o,r),r=r.nextSibling;else{if(!(r=vo(n).getElementById(i[2])))return o;if(r.id!==i[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return Pn.toArray(this)},add:function(t,e){var n,i;if(qr(t))return this.add(Co(t));if(!1!==e)for(n=Co.unique(this.toArray().concat(Co.makeArray(t))),this.length=n.length,i=0;i<n.length;i++)this[i]=n[i];else io.apply(this,Co.makeArray(t));return this},attr:function(t,e){var n,i=this;if("object"==typeof t)to(t,function(t,e){i.attr(t,e)});else{if(!Wr(e)){if(i[0]&&1===i[0].nodeType){if((n=go[t])&&n.get)return n.get(i[0],t);if(uo[t])return i.prop(t)?t:void 0;null===(e=i[0].getAttribute(t,2))&&(e=void 0)}return e}this.each(function(){var n;if(1===this.nodeType){if((n=go[t])&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}})}return i},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=ho[t]||t))to(t,function(t,e){n.prop(t,e)});else{if(!Wr(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1===this.nodeType&&(this[t]=e)})}return n},css:function(t,e){function n(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})}function i(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})}var r,o,a=this;if("object"==typeof t)to(t,function(t,e){a.css(t,e)});else if(Wr(e))t=n(t),"number"!=typeof e||lo[t]||(e=e.toString()+"px"),a.each(function(){var n=this.style;if((o=po[t])&&o.set)o.set(this,e);else{try{this.style[fo[t]||t]=e}catch(r){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(i(t)):n.removeAttribute(t))}});else{if(r=a[0],(o=po[t])&&o.get)return o.get(r);if(!r.ownerDocument.defaultView)return r.currentStyle?r.currentStyle[n(t)]:"";try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(i(t))}catch(d){return}}return a},remove:function(){for(var t,e=this.length;e--;)ao.clean(t=this[e]),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this.length;e--;)for(t=this[e];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(Wr(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(f){Co(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e;if(Wr(t)){for(e=this.length;e--;)"innerText"in this[e]?this[e].innerText=t:this[0].textContent=t;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return co(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return co(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?co(this,arguments,function(t){this.parentNode.insertBefore(t,this)}):this},after:function(){return this[0]&&this[0].parentNode?co(this,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):this},appendTo:function(t){return Co(t).append(this),this},prependTo:function(t){return Co(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return Qr(this,t)},wrapAll:function(t){return Qr(this,t,!0)},wrapInner:function(t){return this.each(function(){Co(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){Co(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),Co(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t||(-1!==t.indexOf(" ")?to(t.split(" "),function(){n.toggleClass(this,e)}):n.each(function(n,i){var r,o;(o=Yr(i,t))!==e&&(r=i.className,o?i.className=Zr((" "+r+" ").replace(" "+t+" "," ")):i.className+=r?" "+t:t)})),n},hasClass:function(t){return Yr(this[0],t)},each:function(t){return to(this,t)},on:function(t,e){return this.each(function(){ao.bind(this,t,e)})},off:function(t,e){return this.each(function(){ao.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?ao.fire(this,t.type,t):ao.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Co(ro.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;e<n;e++)Co.find(t,this[e],i);return Co(i)},filter:function(t){return Co("function"==typeof t?eo(this.toArray(),function(e,n){return t(n,e)}):Co.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof Co&&(t=t[0]),this.each(function(n,i){for(;i;){if("string"==typeof t&&Co(i).is(t)){e.push(i);break}if(i===t){e.push(i);break}i=i.parentNode}}),Co(e)},offset:function(t){var e,n,i,r,o=0,a=0;return t?this.css(t):((e=this[0])&&(i=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(o=(r=e.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:io,sort:Array.prototype.sort,splice:Array.prototype.splice},Pn.extend(Jr,{extend:Pn.extend,makeArray:function(t){return function(t){return t&&t===t.window}(t)||t.nodeType?[t]:Pn.toArray(t)},inArray:function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},isArray:Pn.isArray,each:to,trim:Zr,grep:eo,find:Mr,expr:Mr.selectors,unique:Mr.uniqueSort,text:Mr.getText,contains:Mr.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!==e[i].nodeType&&e.splice(i,1);return 1===e.length?Co.find.matchesSelector(e[0],t)?[e[0]]:[]:Co.find.matches(t,e)}}),to({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return yo(t,"parentNode")},next:function(t){return _o(t,"nextSibling",1)},prev:function(t){return _o(t,"previousSibling",1)},children:function(t){return bo(t.firstChild,"nextSibling",1)},contents:function(t){return Pn.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){Jr.fn[t]=function(n){var i=[];this.each(function(){var t=e.call(i,this,n,i);t&&(Co.isArray(t)?i.push.apply(i,t):i.push(t))}),1<this.length&&(so[t]||(i=Co.unique(i)),0===t.indexOf("parents")&&(i=i.reverse()));var r=Co(i);return n?r.filter(n):r}}),to({parentsUntil:function(t,e){return yo(t,"parentNode",e)},nextUntil:function(t,e){return bo(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return bo(t,"previousSibling",1,e).slice(1)}},function(t,e){Jr.fn[t]=function(n,i){var r=[];this.each(function(){var t=e.call(r,this,n,r);t&&(Co.isArray(t)?r.push.apply(r,t):r.push(t))}),1<this.length&&(r=Co.unique(r),0!==t.indexOf("parents")&&"prevUntil"!==t||(r=r.reverse()));var o=Co(r);return i?o.filter(i):o}}),Jr.fn.is=function(t){return!!t&&0<this.filter(t).length},Jr.fn.init.prototype=Jr.fn,Jr.overrideDefaults=function(t){var e,n=function(i,r){return e=e||t(),0===arguments.length&&(i=e.element),new n.fn.init(i,r=r||e.context)};return Co.extend(n,this),n},Nn.ie&&Nn.ie<8&&(wo(go,"get",{maxlength:function(t){var e=t.maxLength;return 2147483647===e?void 0:e},size:function(t){var e=t.size;return 20===e?void 0:e},class:function(t){return t.className},style:function(t){var e=t.style.cssText;return 0===e.length?void 0:e}}),wo(go,"set",{class:function(t,e){t.className=e},style:function(t,e){t.style.cssText=e}})),Nn.ie&&Nn.ie<9&&(fo.float="styleFloat",wo(po,"set",{opacity:function(t,e){var n=t.style;null===e||""===e?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*e+")")}})),Jr.attrHooks=go,Jr.cssHooks=po;var Co=Jr,xo=(So.prototype.current=function(){return this.node},So.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},So.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},So.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},So.prototype.findSibling=function(t,e,n,i){var r,o;if(t){if(!i&&t[e])return t[e];if(t!==this.rootNode){if(r=t[n])return r;for(o=t.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(r=o[n])return r}}},So.prototype.findPreviousNode=function(t,e,n,i){var r,o,a;if(t){if(r=t[n],this.rootNode&&r===this.rootNode)return;if(r){if(!i)for(a=r[e];a;a=a[e])if(!a[e])return a;return r}if((o=t.parentNode)&&o!==this.rootNode)return o}},So);function So(t,e){this.node=t,this.rootNode=e,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}var To,ko=Pn.each,zo=Pn.grep,Eo=Nn.ie,No=/^([a-z0-9],?)+$/i,Ko=/^[ \t\r\n]*$/,Ao=function(t,e,n){var i=e.keep_values,r={set:function(t,i,r){e.url_converter&&(i=e.url_converter.call(e.url_converter_scope||n(),i,r,t[0])),t.attr("data-mce-"+r,i).attr(r,i)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},o={style:{set:function(t,e){null===e||"object"!=typeof e?(i&&t.attr("data-mce-style",e),t.attr("style",e)):t.css(e)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return t.serialize(t.parse(n),e[0].nodeName)}}};return i&&(o.href=o.src=r),o},Mo=function(t,e){var n=e.attr("style"),i=t.serialize(t.parse(n),e[0].nodeName);e.attr("data-mce-style",i=i||null)},Do=function(t,e){var n,i,r=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!==i||i!==n&&t.nodeValue.length)&&(r++,n=i);return r};function Po(e,o){var a,s=this;function c(t){if(t&&e&&"string"==typeof t){var n=e.getElementById(t);return n&&n.id!==t?e.getElementsByName(t)[1]:n}return t}function l(t){return"string"==typeof t&&(t=c(t)),I(t)}function u(t,e,n){var i,r,o=l(t);return o.length&&(r=(i=a[e])&&i.get?i.get(o,e):o.attr(e)),void 0===r&&(r=n||""),r}function d(t){var e=c(t);return e?e.attributes:[]}function h(t,e,n){var i,r;""===n&&(n=null);var s=l(t);i=s.attr(e),s.length&&((r=a[e])&&r.set?r.set(s,n,e):s.attr(e,n),i!==n&&o.onSetAttrib&&o.onSetAttrib({attrElm:s,attrName:e,attrValue:n}))}function f(){return o.root_element||e.body}function g(t,n){return Pe.getPos(e.body,c(t),n)}function p(t,e,n){var i=l(t);return n?i.css(e):("float"===(e=e.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}))&&(e=Nn.ie&&Nn.ie<12?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[e]:void 0)}function m(t){var e,n;return e=p(t=c(t),"width"),n=p(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}}function v(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(No.test(e)){var i=e.toLowerCase().split(/,/),r=t.nodeName.toLowerCase();for(n=i.length-1;0<=n;n--)if(i[n]===r)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var o=Array.isArray(t)?t:[t];return 0<Mr(e,o[0].ownerDocument||o[0],null,o).length}function y(t,e,n,i){var r,o=[],a=c(t);for(i=void 0===i,n=n||("BODY"!==f().nodeName?f().parentNode:null),Pn.is(e,"string")&&(e="*"===(r=e)?function(t){return 1===t.nodeType}:function(t){return v(t,r)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!e||"function"==typeof e&&e(a)){if(!i)return[a];o.push(a)}a=a.parentNode}return i?o:null}function b(t,e,n){var i=e;if(t)for("string"==typeof e&&(i=function(t){return v(t,e)}),t=t[n];t;t=t[n])if("function"==typeof i&&i(t))return t;return null}function _(t,e,n){var i,r="string"==typeof t?c(t):t;return!!r&&(Pn.isArray(r)&&(r.length||0===r.length)?(i=[],ko(r,function(t,r){t&&("string"==typeof t&&(t=c(t)),i.push(e.call(n,t,r)))}),i):e.call(n||s,r))}function w(t,e){l(t).each(function(t,n){ko(e,function(t,e){h(n,e,t)})})}function C(t,e){var n=l(t);Eo?n.each(function(t,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(b){Co("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}}):n.html(e)}function x(t,n,i,r,o){return _(t,function(t){var a="string"==typeof n?e.createElement(n):n;return w(a,i),r&&("string"!=typeof r&&r.nodeType?a.appendChild(r):"string"==typeof r&&C(a,r)),o?a:t.appendChild(a)})}function S(t,n,i){return x(e.createElement(t),t,n,i,!0)}function T(t,e){var n=l(t);return e?n.each(function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():n.remove(),1<n.length?n.toArray():n[0]}function k(t,e,n){l(t).toggleClass(e,n).each(function(){""===this.className&&Co(this).attr("class",null)})}function z(t,e,n){return _(e,function(e){return Pn.is(e,"array")&&(t=t.cloneNode(!0)),n&&ko(zo(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})}function E(){return e.createRange()}function N(t){if(t&&Xt.isElement(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null}void 0===o&&(o={});var K={},A=t.window,D={},P=0,R=function(e,o){void 0===o&&(o={});var a,s=0,c={};function l(t){e.getElementsByTagName("head")[0].appendChild(t)}function u(n,i,r){function u(t){v.status=t,v.passed=[],v.failed=[],g&&(g.onload=null,g.onerror=null,g=null)}function d(){for(var t=v.passed,e=t.length;e--;)t[e]();u(2)}function h(){for(var t=v.failed,e=t.length;e--;)t[e]();u(3)}function f(t,e){t()||((new Date).getTime()-m<a?Cn.setTimeout(e):h())}var g,p,m,v,y=function(){f(function(){for(var t,n,i=e.styleSheets,r=i.length;r--;)if((n=(t=i[r]).ownerNode?t.ownerNode:t.owningElement)&&n.id===g.id)return d(),!0},y)},b=function(){f(function(){try{var t=p.sheet.cssRules;return d(),!!t}catch(i){}},b)};if(n=Pn._addCacheSuffix(n),c[n]?v=c[n]:c[n]=v={passed:[],failed:[]},i&&v.passed.push(i),r&&v.failed.push(r),1!==v.status)if(2!==v.status)if(3!==v.status){if(v.status=1,(g=e.createElement("link")).rel="stylesheet",g.type="text/css",g.id="u"+s++,g.async=!1,g.defer=!1,m=(new Date).getTime(),o.contentCssCors&&(g.crossOrigin="anonymous"),o.referrerPolicy&&ze(ve.fromDom(g),"referrerpolicy",o.referrerPolicy),"onload"in g&&!((_=t.navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(_[1],10)<536))g.onload=y,g.onerror=h;else{if(0<t.navigator.userAgent.indexOf("Firefox"))return(p=e.createElement("style")).textContent='@import "'+n+'"',b(),void l(p);y()}var _;l(g),g.href=n}else h();else d()}function d(t){return Ge.nu(function(e){u(t,n(e,i(Xe.value(t))),n(e,i(Xe.error(t))))})}function h(t){return t.fold(r,r)}return a=o.maxLoadTime||5e3,{load:u,loadAll:function(t,e,n){$e(V(t,d)).get(function(t){var i=j(t,function(t){return t.isValue()});0<i.fail.length?n(i.fail.map(h)):e(i.pass.map(h))})},_setReferrerPolicy:function(t){o.referrerPolicy=t}}}(e,{contentCssCors:o.contentCssCors,referrerPolicy:o.referrerPolicy}),L=[],F=o.schema?o.schema:_i({}),B=ki({url_converter:o.url_converter,url_converter_scope:o.url_converter_scope},o.schema),O=o.ownEvents?new Ai:Ai.Event,H=F.getBlockElements(),I=Co.overrideDefaults(function(){return{context:e,element:q.getRoot()}}),U=li.encodeAllRaw,$=function(t,n,i,r){if(Pn.isArray(t)){for(var a=t.length,s=[];a--;)s[a]=$(t[a],n,i,r);return s}return!o.collect||t!==e&&t!==A||L.push([t,n,i,r]),O.bind(t,n,i,r||q)},W=function(t,n,i){var r;if(Pn.isArray(t)){r=t.length;for(var o=[];r--;)o[r]=W(t[r],n,i);return o}if(L&&(t===e||t===A))for(r=L.length;r--;){var a=L[r];t!==a[0]||n&&n!==a[1]||i&&i!==a[2]||O.unbind(a[0],a[1],a[2])}return O.unbind(t,n,i)},q={doc:e,settings:o,win:A,files:D,stdMode:!0,boxModel:!0,styleSheetLoader:R,boundEvents:L,styles:B,schema:F,events:O,isBlock:function(t){if("string"==typeof t)return!!H[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!H[t.nodeName])}return!1},$:I,$$:l,root:null,clone:function(t,n){if(!Eo||1!==t.nodeType||n)return t.cloneNode(n);if(n)return null;var i=e.createElement(t.nodeName);return ko(d(t),function(e){h(i,e.nodeName,u(t,e.nodeName))}),i},getRoot:f,getViewPort:function(t){var e=t||A,n=e.document.documentElement;return{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(t){var e,n;return e=g(t=c(t)),n=m(t),{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:m,getParent:function(t,e,n){var i=y(t,e,n,!1);return i&&0<i.length?i[0]:null},getParents:y,get:c,getNext:function(t,e){return b(t,e,"nextSibling")},getPrev:function(t,e){return b(t,e,"previousSibling")},select:function(t,n){return Mr(t,c(n)||o.root_element||e,[])},is:v,add:x,create:S,createHTML:function(t,e,n){var i,r="";for(i in r+="<"+t,e)e.hasOwnProperty(i)&&null!=e[i]&&(r+=" "+i+'="'+U(e[i])+'"');return void 0!==n?r+">"+n+"</"+t+">":r+" />"},createFragment:function(t){var n,i=e.createElement("div"),r=e.createDocumentFragment();for(t&&(i.innerHTML=t);n=i.firstChild;)r.appendChild(n);return r},remove:T,setStyle:function(t,e,n){var i=M(e)?l(t).css(e,n):l(t).css(e);o.update_styles&&Mo(B,i)},getStyle:p,setStyles:function(t,e){var n=l(t).css(e);o.update_styles&&Mo(B,n)},removeAllAttribs:function(t){return _(t,function(t){var e,n=t.attributes;for(e=n.length-1;0<=e;e--)t.removeAttributeNode(n.item(e))})},setAttrib:h,setAttribs:w,getAttrib:u,getPos:g,parseStyle:function(t){return B.parse(t)},serializeStyle:function(t,e){return B.serialize(t,e)},addStyle:function(n){var i,r;if(q!==Po.DOM&&e===t.document){if(K[n])return;K[n]=!0}(r=e.getElementById("mceDefaultStyles"))||((r=e.createElement("style")).id="mceDefaultStyles",r.type="text/css",(i=e.getElementsByTagName("head")[0]).firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=n:r.appendChild(e.createTextNode(n))},loadCSS:function(n){var i;q===Po.DOM||e!==t.document?(n=n||"",i=e.getElementsByTagName("head")[0],ko(n.split(","),function(t){var e;t=Pn._addCacheSuffix(t),D[t]||(D[t]=!0,e=S("link",G(G({rel:"stylesheet",type:"text/css",href:t},o.contentCssCors?{crossOrigin:"anonymous"}:{}),o.referrerPolicy?{referrerPolicy:o.referrerPolicy}:{})),i.appendChild(e))})):Po.DOM.loadCSS(n)},addClass:function(t,e){l(t).addClass(e)},removeClass:function(t,e){k(t,e,!1)},hasClass:function(t,e){return l(t).hasClass(e)},toggleClass:k,show:function(t){l(t).show()},hide:function(t){l(t).hide()},isHidden:function(t){return"none"===l(t).css("display")},uniqueId:function(t){return(t||"mce_")+P++},setHTML:C,getOuterHTML:function(t){var e="string"==typeof t?c(t):t;return Xt.isElement(e)?e.outerHTML:Co("<div></div>").append(Co(e).clone()).html()},setOuterHTML:function(t,e){l(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}T(Co(this).html(e),!0)})},decode:li.decode,encode:U,insertAfter:function(t,e){var n=c(e);return _(t,function(t){var e,i;return e=n.parentNode,(i=n.nextSibling)?e.insertBefore(t,i):e.appendChild(t),t})},replace:z,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=S(e),ko(d(t),function(e){h(n,e.nodeName,u(t,e.nodeName))}),z(n,t,!0)),n||t},findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:function(t){return B.toHex(Pn.trim(t))},run:_,getAttribs:d,isEmpty:function(t,e){var n,i,r,o,a=0;if(t=t.firstChild){var s=new xo(t,t.parentNode),c=F?F.getWhiteSpaceElements():{};e=e||(F?F.getNonEmptyElements():null);do{if(r=t.nodeType,Xt.isElement(t)){var l=t.getAttribute("data-mce-bogus");if(l){t=s.next("all"===l);continue}if(o=t.nodeName.toLowerCase(),e&&e[o]){if("br"!==o)return!1;a++,t=s.next();continue}for(n=(i=d(t)).length;n--;)if("name"===(o=i[n].nodeName)||"data-mce-bookmark"===o)return!1}if(8===r)return!1;if(3===r&&!Ko.test(t.nodeValue))return!1;if(3===r&&t.parentNode&&c[t.parentNode.nodeName]&&Ko.test(t.nodeValue))return!1;t=s.next()}while(t)}return a<=1},createRng:E,nodeIndex:Do,split:function(t,e,n){var i,r,o,a=E();if(t&&e)return a.setStart(t.parentNode,Do(t)),a.setEnd(e.parentNode,Do(e)),i=a.extractContents(),(a=E()).setStart(e.parentNode,Do(e)+1),a.setEnd(t.parentNode,Do(t)+1),r=a.extractContents(),(o=t.parentNode).insertBefore(Jn.trimNode(q,i),t),o.insertBefore(n||e,t),o.insertBefore(Jn.trimNode(q,r),t),T(t),n||e},bind:$,unbind:W,fire:function(t,e,n){return O.fire(t,e,n)},getContentEditable:N,getContentEditableParent:function(t){for(var e=f(),n=null;t&&t!==e&&null===(n=N(t));t=t.parentNode);return n},destroy:function(){if(L)for(var t=L.length;t--;){var e=L[t];O.unbind(e[0],e[1],e[2])}Mr.setDocument&&Mr.setDocument()},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}};return a=Ao(B,o,function(){return q}),q}(To=Po=Po||{}).DOM=To(t.document),To.nodeIndex=Do;var Ro=Po,Lo=Ro.DOM,Fo=Pn.each,Bo=Pn.grep,Oo=(Ho.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},Ho.prototype.loadScript=function(e,n,i){var r,o,a=Lo;o=a.uniqueId(),(r=t.document.createElement("script")).id=o,r.type="text/javascript",r.src=Pn._addCacheSuffix(e),this.settings.referrerPolicy&&a.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=function(){a.remove(o),r&&(r.onreadystatechange=r.onload=r=null),n()},r.onerror=function(){F(i)?i():void 0!==t.console&&t.console.log&&t.console.log("Failed to load script: "+e)},(t.document.getElementsByTagName("head")[0]||t.document.body).appendChild(r)},Ho.prototype.isDone=function(t){return 2===this.states[t]},Ho.prototype.markDone=function(t){this.states[t]=2},Ho.prototype.add=function(t,e,n,i){void 0===this.states[t]&&(this.queue.push(t),this.states[t]=0),e&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:e,failure:i,scope:n||this}))},Ho.prototype.load=function(t,e,n,i){return this.add(t,e,n,i)},Ho.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},Ho.prototype.loadQueue=function(t,e,n){this.loadScripts(this.queue,t,e,n)},Ho.prototype.loadScripts=function(t,e,n,i){function r(t,e){Fo(a.scriptLoadedCallbacks[e],function(e){F(e[t])&&e[t].call(e.scope)}),a.scriptLoadedCallbacks[e]=void 0}var o,a=this,s=[];a.queueLoadedCallbacks.push({success:e,failure:i,scope:n||this}),(o=function(){var e=Bo(t);if(t.length=0,Fo(e,function(t){2!==a.states[t]?3!==a.states[t]?1!==a.states[t]&&(a.states[t]=1,a.loading++,a.loadScript(t,function(){a.states[t]=2,a.loading--,r("success",t),o()},function(){a.states[t]=3,a.loading--,s.push(t),r("failure",t),o()})):r("failure",t):r("success",t)}),!a.loading){var n=a.queueLoadedCallbacks.slice(0);a.queueLoadedCallbacks.length=0,Fo(n,function(t){0===s.length?F(t.success)&&t.success.call(t.scope):F(t.failure)&&t.failure.call(t.scope,s)})}})()},Ho.ScriptLoader=new Ho,Ho);function Ho(t){void 0===t&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}var Io,Vo=function(t){function e(){return n}var n=t;return{get:e,set:function(t){n=t},clone:function(){return Vo(e())}}},jo={},Uo=Vo("en"),Go={getData:function(){return at(jo,function(t){return G({},t)})},setCode:function(t){t&&Uo.set(t)},getCode:function(){return Uo.get()},add:function(t,e){var n=jo[t];for(var i in n||(jo[t]=n={}),e)n[i.toLowerCase()]=e[i]},translate:function(t){function e(t){return F(t)?Object.prototype.toString.call(t):a(t)?"":""+t}function n(t){var n=e(t),i=n.toLowerCase();return ke(o,i)?e(o[i]):n}function i(t){return t.replace(/{context:\w+}$/,"")}function r(t){return t}var o=jo[Uo.get()]||{},a=function(t){return""===t||null==t};if(a(t))return r("");if(function(t){return D(t)&&ke(t,"raw")}(t))return r(e(t.raw));if(function(t){return P(t)&&1<t.length}(t)){var s=t.slice(1);return r(i(n(t[0]).replace(/\{([0-9]+)\}/g,function(t,n){return ke(s,n)?e(s[n]):t})))}return r(i(n(t)))},isRtl:function(){return ct(jo,Uo.get()).bind(function(t){return ct(t,"_dir")}).exists(function(t){return"rtl"===t})},hasCode:function(t){return ke(jo,t)}},$o=Pn.each;function Wo(){function t(t){var e;return a[t]&&(e=a[t].dependencies),e||[]}function e(t,e){return"object"==typeof e?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}}function n(n,i,r,o){var a=t(n);$o(a,function(t){var n=e(i,t);c(n.resource,n,void 0,void 0)}),r&&r.call(o||Oo)}var i=this,r=[],o={},a={},s=[],c=function(t,e,i,r,s){if(!o[t]){var c="string"==typeof e?e:e.prefix+e.resource+e.suffix;0!==c.indexOf("/")&&-1===c.indexOf("://")&&(c=Wo.baseURL+"/"+c),o[t]=c.substring(0,c.lastIndexOf("/")),a[t]?n(t,e,i,r):Oo.ScriptLoader.add(c,function(){return n(t,e,i,r)},r,s)}};return{items:r,urls:o,lookup:a,_listeners:s,get:function(t){return a[t]?a[t].instance:void 0},dependencies:t,requireLangPack:function(t,e){var n=Go.getCode();if(n&&!1!==Wo.languageLoad){if(e)if(-1!==(e=","+e+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1===e.indexOf(","+n+","))return;Oo.ScriptLoader.add(o[t]+"/langs/"+n+".js")}},add:function(t,e,n){r.push(e),a[t]={instance:e,dependencies:n};var i=j(s,function(e){return e.name===t});return s=i.fail,$o(i.pass,function(t){t.callback()}),e},remove:function(t){delete o[t],delete a[t]},createUrl:e,addComponents:function(t,e){var n=i.urls[t];$o(e,function(t){Oo.ScriptLoader.add(n+"/"+t)})},load:c,waitFor:function(t,e){a.hasOwnProperty(t)?e():s.push({name:t,callback:e})}}}function qo(t,e){xt(t).each(function(n){n.dom().insertBefore(e.dom(),t.dom())})}function Xo(t,e){Tt(t).fold(function(){xt(t).each(function(t){sa(t,e)})},function(t){qo(t,e)})}function Yo(t,e){Kt(t).fold(function(){sa(t,e)},function(n){t.dom().insertBefore(e.dom(),n.dom())})}function Qo(t,e){b(e,function(e){sa(t,e)})}function Jo(t){t.dom().textContent="",b(Et(t),function(t){ca(t)})}function Zo(t){var e=Et(t);0<e.length&&function(t,e){b(e,function(e){qo(t,e)})}(t,e),ca(t)}function ta(e,n){var i=null;return{cancel:function(){null!==i&&(t.clearTimeout(i),i=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===i&&(i=t.setTimeout(function(){e.apply(null,r),i=null},n))}}}function ea(t,e){var n=ft(t,e);return void 0===n||""===n?[]:n.split(" ")}function na(t){return void 0!==t.dom().classList}function ia(t,e){na(t)?t.dom().classList.add(e):function(t,e){!function(t,e,n){var i=ea(t,e).concat([n]);ze(t,e,i.join(" "))}(t,"class",e)}(t,e)}function ra(t,e){return na(t)&&t.dom().classList.contains(e)}function oa(e,n){return function(e,n){var i=void 0===n?t.document:n.dom();return bt(i)?[]:V(i.querySelectorAll(e),ve.fromDom)}(n,e)}(Io=Wo=Wo||{}).PluginManager=Io(),Io.ThemeManager=Io();var aa=Wo,sa=function(t,e){t.dom().appendChild(e.dom())},ca=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},la=function(t,e){var n=[];return b(Et(t),function(t){e(t)&&(n=n.concat([t])),n=n.concat(la(t,e))}),n};function ua(t,e,n,i,r){return t(n,i)?A.some(n):F(r)&&r(n)?A.none():e(n,i,r)}function da(t,e,n){for(var r=t.dom(),o=F(n)?n:i(!1);r.parentNode;){var a=ve.fromDom(r=r.parentNode);if(e(a))return A.some(a);if(o(a))break}return A.none()}function ha(t,e,n){return ua(function(t,e){return e(t)},da,t,e,n)}function fa(t,e,n){return da(t,function(t){return yt(t,e)},n)}function ga(e,n){return function(e,n){var i=void 0===n?t.document:n.dom();return bt(i)?A.none():A.from(i.querySelector(e)).map(ve.fromDom)}(n,e)}function pa(t,e,n){return ua(yt,fa,t,e,n)}function ma(t,e){function n(t,e){return function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)}(t,e)?A.some(ft(t,e)):A.none()}var i=t.selection.getRng(),r=ve.fromDom(i.startContainer),o=ve.fromDom(t.getBody()),a=e.fold(function(){return"."+$a()},function(t){return"["+Wa()+'="'+t+'"]'});return pa(Nt(r,i.startOffset).getOr(r),a,function(t){return _t(t,o)}).bind(function(e){return n(e,""+qa()).bind(function(i){return n(e,""+Wa()).map(function(e){var n=Xa(t,i);return{uid:i,name:e,elements:n}})})})}function va(t,e){return ve.fromDom(t.dom().cloneNode(e))}function ya(t){return va(t,!1)}function ba(t){return va(t,!0)}function _a(e,n){var i=wt(e).dom(),r=ve.fromDom(i.createDocumentFragment());Qo(r,function(e,n){var i=(n||t.document).createElement("div");return i.innerHTML=e,Et(ve.fromDom(i))}(n,i)),Jo(e),sa(e,r)}function wa(t){return ns(t)&&(t=t.parentNode),es(t)&&t.hasAttribute("data-mce-caret")}function Ca(t){return ns(t)&&Ja(t.data)}function xa(t){return wa(t)||Ca(t)}function Sa(t){return t.firstChild!==t.lastChild||!Xt.isBr(t.firstChild)}function Ta(t){var e=t.container();return!(!t||!Xt.isText(e))&&(e.data.charAt(t.offset())===Za||t.isAtStart()&&Ca(e.previousSibling))}function ka(t){var e=t.container();return!(!t||!Xt.isText(e))&&(e.data.charAt(t.offset()-1)===Za||t.isAtEnd()&&Ca(e.nextSibling))}function za(t){return t&&t.hasAttribute("data-mce-caret")?(function(t){var e=t.getElementsByTagName("br"),n=e[e.length-1];Xt.isBogus(n)&&n.parentNode.removeChild(n)}(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null}function Ea(t){return!hs(t)&&(cs(t)?!ls(t.parentNode):us(t)||ss(t)||ds(t)||fs(t))}function Na(t,e){return Ea(t)&&function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(fs(t))return!1;if(os(t))return!0}return!0}(t,e)}function Ka(t){return t?{left:gs(t.left),top:gs(t.top),bottom:gs(t.bottom),right:gs(t.right),width:gs(t.width),height:gs(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function Aa(t,e){return t=Ka(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t}function Ma(t,e,n){return 0<=t&&t<=Math.min(e.height,n.height)/2}function Da(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&Ma(e.top-t.bottom,t,e)}function Pa(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&Ma(e.bottom-t.top,t,e)}function Ra(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}function La(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null}function Fa(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t}function Ba(t){return"string"==typeof t&&768<=t.charCodeAt(0)&&ps.test(t)}function Oa(t,e,n){return t.isSome()&&e.isSome()?A.some(n(t.getOrDie(),e.getOrDie())):A.none()}function Ha(t){return t&&/[\r\n\t ]/.test(t)}function Ia(t){return!!t.setStart&&!!t.setEnd}function Va(t){var e,n=t.startContainer,i=t.startOffset;return!!(Ha(t.toString())&&Cs(n.parentNode)&&Xt.isText(n)&&(e=n.data,Ha(e[i-1])||Ha(e[i+1])))}function ja(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom}function Ua(t,e){var n=Aa(t,e);return n.width=1,n.right=n.left+1,n}var Ga,$a=i("mce-annotation"),Wa=i("data-mce-annotation"),qa=i("data-mce-annotation-uid"),Xa=function(t,e){return oa(ve.fromDom(t.getBody()),"["+qa()+'="'+e+'"]')},Ya=0,Qa="\ufeff",Ja=function(t){return t===Qa},Za=Qa,ts=function(t){return t.replace(new RegExp(Qa,"g"),"")},es=Xt.isElement,ns=Xt.isText,is=function(t){return ns(t)&&t.data[0]===Za},rs=function(t){return ns(t)&&t.data[t.data.length-1]===Za},os=Xt.isContentEditableTrue,as=Xt.isContentEditableFalse,ss=Xt.isBr,cs=Xt.isText,ls=Xt.matchNodeNames(["script","style","textarea"]),us=Xt.matchNodeNames(["img","input","textarea","hr","iframe","video","audio","object"]),ds=Xt.matchNodeNames(["table"]),hs=xa,fs=function(t){return!1===function(t){return Xt.isElement(t)&&"true"===t.getAttribute("unselectable")}(t)&&as(t)},gs=Math.round,ps=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),ms=[].slice,vs=Xt.isElement,ys=Ea,bs=Xt.matchStyleValues("display","block table"),_s=Xt.matchStyleValues("float","left right"),ws=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ms.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0}}(vs,ys,a(_s)),Cs=a(Xt.matchStyleValues("white-space","pre pre-line pre-wrap")),xs=Xt.isText,Ss=Xt.isBr,Ts=Ro.nodeIndex,ks=Fa,zs=function(t){return"createRange"in t?t.createRange():Ro.DOM.createRng()},Es=function(t){var e,n;return e=0<(n=t.getClientRects()).length?Ka(n[0]):Ka(t.getBoundingClientRect()),!Ia(t)&&Ss(t)&&ja(e)?function(t){var e,n=t.ownerDocument,i=zs(n),r=n.createTextNode("\xa0"),o=t.parentNode;return o.insertBefore(r,t),i.setStart(r,0),i.setEnd(r,1),e=Ka(i.getBoundingClientRect()),o.removeChild(r),e}(t):ja(e)&&Ia(t)?function(t){var e=t.endContainer,n=t.startOffset,i=t.endOffset;if(t.startContainer===e&&Xt.isText(e)&&0===n&&1===i){var r=t.cloneRange();return r.setEndAfter(e),Es(r)}return null}(t):e},Ns=function(t){function e(t){0!==t.height&&(0<o.length&&function(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right}(t,o[o.length-1])||o.push(t))}function n(t,n){var i=zs(t.ownerDocument);if(n<t.data.length){if(Ba(t.data[n]))return o;if(Ba(t.data[n-1])&&(i.setStart(t,n),i.setEnd(t,n+1),!Va(i)))return e(Ua(Es(i),!1)),o}0<n&&(i.setStart(t,n-1),i.setEnd(t,n),Va(i)||e(Ua(Es(i),!1))),n<t.data.length&&(i.setStart(t,n),i.setEnd(t,n+1),Va(i)||e(Ua(Es(i),!0)))}var i,r,o=[];if(xs(t.container()))return n(t.container(),t.offset()),o;if(vs(t.container()))if(t.isAtEnd())r=ks(t.container(),t.offset()),xs(r)&&n(r,r.data.length),ws(r)&&!Ss(r)&&e(Ua(Es(r),!1));else{if(r=ks(t.container(),t.offset()),xs(r)&&n(r,0),ws(r)&&t.isAtEnd())return e(Ua(Es(r),!1)),o;i=ks(t.container(),t.offset()-1),ws(i)&&!Ss(i)&&(!bs(i)&&!bs(r)&&ws(r)||e(Ua(Es(i),!1))),ws(r)&&e(Ua(Es(r),!0))}return o};function Ks(t,e,n){function r(){return n=n||Ns(Ks(t,e))}return{container:i(t),offset:i(e),toRange:function(){var n;return(n=zs(t.ownerDocument)).setStart(t,e),n.setEnd(t,e),n},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return xs(t),0===e},isAtEnd:function(){return xs(t)?e>=t.data.length:e>=t.childNodes.length},isEqual:function(n){return n&&t===n.container()&&e===n.offset()},getNode:function(n){return ks(t,n?e-1:e)}}}function As(t){return function(e){return t===e}}function Ms(t){return(yc(t)?"text()":t.nodeName.toLowerCase())+"["+function(t){var e,n,i;return e=Cc(wc(t)),n=An.findIndex(e,As(t),t),e=e.slice(0,n+1),i=An.reduce(e,function(t,n,i){return yc(n)&&yc(e[i-1])&&t++,t},0),e=An.filter(e,Xt.matchNodeNames([t.nodeName])),(n=An.findIndex(e,As(t),t))-i}(t)+"]"}function Ds(t,e){var n,i,r,o,s,c=[];return n=e.container(),i=e.offset(),yc(n)?r=function(t,e){for(;(t=t.previousSibling)&&yc(t);)e+=t.data.length;return e}(n,i):(i>=(o=n.childNodes).length?(r="after",i=o.length-1):r="before",n=o[i]),c.push(Ms(n)),s=function(t,e,n){var i=[];for(e=e.parentNode;e!==t;e=e.parentNode)i.push(e);return i}(t,n),s=An.filter(s,a(Xt.isBogus)),(c=c.concat(An.map(s,function(t){return Ms(t)}))).reverse().join("/")+","+r}function Ps(t,e){var n,i,r;return e?(e=(n=e.split(","))[0].split("/"),r=1<n.length?n[1]:"before",(i=An.reduce(e,function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),function(t,e,n){var i=Cc(t);return i=An.filter(i,function(t,e){return!yc(t)||!yc(i[e-1])}),(i=An.filter(i,Xt.matchNodeNames([e])))[n]}(t,e[1],parseInt(e[2],10))):null},t))?yc(i)?function(t,e){for(var n,i=t,r=0;yc(i);){if(n=i.data.length,r<=e&&e<=r+n){t=i,e-=r;break}if(!yc(i.nextSibling)){t=i,e=n;break}r+=n,i=i.nextSibling}return yc(t)&&e>t.data.length&&(e=t.data.length),vc(t,e)}(i,parseInt(r,10)):(r="after"===r?_c(i)+1:_c(i),vc(i.parentNode,r)):null):null}function Rs(t,e){Xt.isText(e)&&0===e.data.length&&t.remove(e)}function Ls(t,e,n){Xt.isDocumentFragment(n)?function(t,e,n){var i=A.from(n.firstChild),r=A.from(n.lastChild);e.insertNode(n),i.each(function(e){return Rs(t,e.previousSibling)}),r.each(function(e){return Rs(t,e.nextSibling)})}(t,e,n):function(t,e,n){e.insertNode(n),Rs(t,n.previousSibling),Rs(t,n.nextSibling)}(t,e,n)}function Fs(t,e,n,i,r){var o,a=i[r?"startContainer":"endContainer"],s=i[r?"startOffset":"endOffset"],c=[],l=0,u=t.getRoot();for(Xt.isText(a)?c.push(n?function(t,e,n){var i,r;for(r=t(e.data.slice(0,s)).length,i=e.previousSibling;i&&Xt.isText(i);i=i.previousSibling)r+=t(i.data).length;return r}(e,a):s):(s>=(o=a.childNodes).length&&o.length&&(l=1,s=Math.max(0,o.length-1)),c.push(t.nodeIndex(o[s],n)+l));a&&a!==u;a=a.parentNode)c.push(t.nodeIndex(a,n));return c}function Bs(t,e,n){var i=0;return Pn.each(t.select(e),function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void i++}),i}function Os(t,e){var n,i,r,o=e?"start":"end";i=t[o+"Offset"],Xt.isElement(n=t[o+"Container"])&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(e?i:i-1,r.length-1)])&&t["set"+(e?"Start":"End")](n,i=e?0:n.childNodes.length)}function Hs(t){return Os(t,!0),Os(t,!1),t}function Is(t,e){var n;if(Xt.isElement(t)&&(t=Fa(t,e),xc(t)))return t;if(xa(t)){if(Xt.isText(t)&&wa(t)&&(t=t.parentNode),xc(n=t.previousSibling))return n;if(xc(n=t.nextSibling))return n}}function Vs(t,e,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();if(xc(i)||"IMG"===r)return{name:r,index:Bs(n.dom,r,i)};var a=function(t){return Is(t.startContainer,t.startOffset)||Is(t.endContainer,t.endOffset)}(o);return a?{name:r=a.tagName,index:Bs(n.dom,r,a)}:function(t,e,n,i){var r=e.dom,o={};return o.start=Fs(r,t,n,i,!0),e.isCollapsed()||(o.end=Fs(r,t,n,i,!1)),o}(t,n,e,o)}function js(t,e,n){var i={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",i,"&#xFEFF;"):t.create("span",i)}function Us(t,e){var n=t.dom,i=t.getRng(),r=n.uniqueId(),o=t.isCollapsed(),a=t.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:Bs(n,s,a)};var c=Hs(i.cloneRange());return o||(c.collapse(!1),Ls(n,c,js(n,r+"_end",e))),(i=Hs(i)).collapse(!0),Ls(n,i,js(n,r+"_start",e)),t.moveToBookmark({id:r,keep:1}),{id:r}}function Gs(t){return Xt.isElement(t)&&t.id===Tc}function $s(t,e){for(;e&&e!==t;){if(e.id===Tc)return e;e=e.parentNode}return null}function Ws(t){var e=t.parentNode;e&&e.removeChild(t)}function qs(t,e){0===e.length?Ws(t):t.nodeValue=e}function Xs(t){var e=ts(t);return{count:t.length-e.length,text:e}}function Ys(t,e){return Ec(t),e}function Qs(t,e,n){var i,r,o,a,s,c=Aa(e.getBoundingClientRect(),n);return o="BODY"===t.tagName?(i=t.ownerDocument.documentElement,r=t.scrollLeft||i.scrollLeft,t.scrollTop||i.scrollTop):(s=t.getBoundingClientRect(),r=t.scrollLeft-s.left,t.scrollTop-s.top),c.left+=r,c.right+=r,c.top+=o,c.bottom+=o,c.width=1,0<(a=e.offsetWidth-e.clientWidth)&&(n&&(a*=-1),c.left+=a,c.right+=a),c}function Js(){return Kc.isIE()||Kc.isEdge()||Kc.isFirefox()}function Zs(t){return Ac(t)||Xt.isTable(t)&&Js()}function tc(t){return 0<t}function ec(t){return t<0}function nc(t,e){for(var n;n=t(e);)if(!Rc(n))return n;return null}function ic(t,e,n,i,r){var o=new xo(t,i);if(ec(e)){if((Mc(t)||Rc(t))&&n(t=nc(o.prev,!0)))return t;for(;t=nc(o.prev,r);)if(n(t))return t}if(tc(e)){if((Mc(t)||Rc(t))&&n(t=nc(o.next,!0)))return t;for(;t=nc(o.next,r);)if(n(t))return t}return null}function rc(t,e){for(;t&&t!==e;){if(Dc(t))return t;t=t.parentNode}return null}function oc(t,e,n){return rc(t.container(),n)===rc(e.container(),n)}function ac(t,e){var n,i;return e?(n=e.container(),i=e.offset(),Lc(n)?n.childNodes[i+t]:null):null}function sc(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n}function cc(t,e,n){var i,r,o,a;for(r=t?"previousSibling":"nextSibling";n&&n!==e;){if(Pc(i=n[r])&&(i=i[r]),Mc(i)){if(a=n,rc(i,o=e)===rc(a,o))return i;break}if(Fc(i))break;n=n.parentNode}return null}function lc(t,e,n){var i,r,a,s,c=o(cc,!0,e),l=o(cc,!1,e);if(a=n.startOffset,wa(r=n.startContainer)){if(Lc(r)||(r=r.parentNode),"before"===(s=r.getAttribute("data-mce-caret"))&&Zs(i=r.nextSibling))return Bc(i);if("after"===s&&Zs(i=r.previousSibling))return Oc(i)}if(!n.collapsed)return n;if(Xt.isText(r)){if(Pc(r)){if(1===t){if(i=l(r))return Bc(i);if(i=c(r))return Oc(i)}if(-1===t){if(i=c(r))return Oc(i);if(i=l(r))return Bc(i)}return n}if(rs(r)&&a>=r.data.length-1)return 1===t&&(i=l(r))?Bc(i):n;if(is(r)&&a<=1)return-1===t&&(i=c(r))?Oc(i):n;if(a===r.data.length)return(i=l(r))?Bc(i):n;if(0===a)return(i=c(r))?Oc(i):n}return n}function uc(t,e){return A.from(ac(t?0:-1,e)).filter(Mc)}function dc(t,e,n){var i=lc(t,e,n);return-1===t?Ks.fromRangeStart(i):Ks.fromRangeEnd(i)}function hc(t){return A.from(t.getNode()).map(ve.fromDom)}function fc(t,e){for(;e=t(e);)if(e.isVisible())return e;return e}function gc(t,e){var n=oc(t,e);return!(n||!Xt.isBr(t.getNode()))||n}(Ga=Ks=Ks||{}).fromRangeStart=function(t){return Ga(t.startContainer,t.startOffset)},Ga.fromRangeEnd=function(t){return Ga(t.endContainer,t.endOffset)},Ga.after=function(t){return Ga(t.parentNode,Ts(t)+1)},Ga.before=function(t){return Ga(t.parentNode,Ts(t))},Ga.isAbove=function(t,e){return Oa(E(e.getClientRects()),N(t.getClientRects()),Da).getOr(!1)},Ga.isBelow=function(t,e){return Oa(N(e.getClientRects()),E(t.getClientRects()),Pa).getOr(!1)},Ga.isAtStart=function(t){return!!t&&t.isAtStart()},Ga.isAtEnd=function(t){return!!t&&t.isAtEnd()},Ga.isTextPosition=function(t){return!!t&&Xt.isText(t.container())},Ga.isElementPosition=function(t){return!1===Ga.isTextPosition(t)};var pc,mc,vc=Ks,yc=Xt.isText,bc=Xt.isBogus,_c=Ro.nodeIndex,wc=function(t){var e=t.parentNode;return bc(e)?wc(e):e},Cc=function(t){return t?An.reduce(t.childNodes,function(t,e){return bc(e)&&"BR"!==e.nodeName?t=t.concat(Cc(e)):t.push(e),t},[]):[]},xc=Xt.isContentEditableFalse,Sc={getBookmark:function(t,e,n){return 2===e?Vs(ts,n,t):3===e?function(t){var e=t.getRng();return{start:Ds(t.dom.getRoot(),vc.fromRangeStart(e)),end:Ds(t.dom.getRoot(),vc.fromRangeEnd(e))}}(t):e?function(t){return{rng:t.getRng()}}(t):Us(t,!1)},getUndoBookmark:o(Vs,r,!0),getPersistentBookmark:Us},Tc="_mce_caret",kc=Xt.isElement,zc=Xt.isText,Ec=function(t){kc(t)&&xa(t)&&(Sa(t)?t.removeAttribute("data-mce-caret"):Ws(t)),zc(t)&&qs(t,ts(function(t){try{return t.nodeValue}catch(c){return""}}(t)))},Nc={removeAndReposition:function(t,e){return vc.isTextPosition(e)?function(t,e){return zc(t)&&e.container()===t?function(t,e){var n=Xs(t.data.substr(0,e.offset())),i=Xs(t.data.substr(e.offset())),r=n.text+i.text;return 0<r.length?(qs(t,r),vc(t,e.offset()-n.count)):e}(t,e):Ys(t,e)}(t,e):function(t,e){return e.container()===t.parentNode?function(t,e){var n=e.container(),i=function(t,e){var n=m(t,e);return-1===n?A.none():A.some(n)}(U(n.childNodes),t).map(function(t){return t<e.offset()?vc(n,e.offset()-1):e}).getOr(e);return Ec(t),i}(t,e):Ys(t,e)}(t,e)},remove:Ec},Kc=pe.detect().browser,Ac=Xt.isContentEditableFalse,Mc=Xt.isContentEditableFalse,Dc=Xt.matchStyleValues("display","block table table-cell table-caption list-item"),Pc=xa,Rc=wa,Lc=Xt.isElement,Fc=Ea,Bc=o(sc,!0),Oc=o(sc,!1);function Hc(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null}function Ic(t,e){if(tc(t)){if(fl(e.previousSibling)&&!ul(e.previousSibling))return vc.before(e);if(ul(e))return vc(e,0)}if(ec(t)){if(fl(e.nextSibling)&&!ul(e.nextSibling))return vc.after(e);if(ul(e))return vc(e,e.data.length)}return ec(t)?hl(e)?vc.before(e):vc.after(e):vc.before(e)}function Vc(t){return{next:function(e){return ml(pc.Forwards,e,t)},prev:function(e){return ml(pc.Backwards,e,t)}}}function jc(t){return vc.isTextPosition(t)?0===t.offset():Ea(t.getNode())}function Uc(t){if(vc.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return Ea(t.getNode(!0))}function Gc(t,e){return!vc.isTextPosition(t)&&!vc.isTextPosition(e)&&t.getNode()===e.getNode(!0)}function $c(t,e,n){return vl(t,e,n).bind(function(i){return oc(n,i,e)&&function(t,e,n){return t?!Gc(e,n)&&!function(t){return!vc.isTextPosition(t)&&Xt.isBr(t.getNode())}(e)&&Uc(e)&&jc(n):!Gc(n,e)&&jc(e)&&Uc(n)}(t,n,i)?vl(t,e,i):A.some(i)})}function Wc(t,e){var n=t?e.firstChild:e.lastChild;return Xt.isText(n)?A.some(vc(n,t?0:n.data.length)):n?Ea(n)?A.some(t?vc.before(n):function(t){return Xt.isBr(t)?vc.before(t):vc.after(t)}(n)):function(t,e,n){var i=t?vc.before(n):vc.after(n);return vl(t,e,i)}(t,e,n):A.none()}function qc(t,e){return Xt.isElement(e)&&t.isBlock(e)&&!e.innerHTML&&!Nn.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e}function Xc(t,e){return wl.lastPositionIn(t).fold(function(){return!1},function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0})}function Yc(t,e,n){return!(!1!==e.hasChildNodes()||!$s(t,e)||(function(t,e){var n=t.ownerDocument.createTextNode(Za);t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)}(e,n),0))}function Qc(t,e,n,i){var r,o,a,s,c=n[e?"start":"end"],l=t.getRoot();if(c){for(a=c[0],o=l,r=c.length-1;1<=r;r--){if(s=o.childNodes,Yc(l,o,i))return!0;if(c[r]>s.length-1)return!!Yc(l,o,i)||Xc(o,i);o=s[c[r]]}3===o.nodeType&&(a=Math.min(c[0],o.nodeValue.length)),1===o.nodeType&&(a=Math.min(c[0],o.childNodes.length)),e?i.setStart(o,a):i.setEnd(o,a)}return!0}function Jc(t){return Xt.isText(t)&&0<t.data.length}function Zc(t,e,n){var i,r,o,a,s,c,l=t.get(n.id+"_"+e),u=n.keep;if(l){if(i=l.parentNode,r="start"===e?u?l.hasChildNodes()?(i=l.firstChild,1):Jc(l.nextSibling)?(i=l.nextSibling,0):Jc(l.previousSibling)?(i=l.previousSibling,l.previousSibling.data.length):(i=l.parentNode,t.nodeIndex(l)+1):t.nodeIndex(l):u?l.hasChildNodes()?(i=l.firstChild,1):Jc(l.previousSibling)?(i=l.previousSibling,l.previousSibling.data.length):(i=l.parentNode,t.nodeIndex(l)):t.nodeIndex(l),s=i,c=r,!u){for(a=l.previousSibling,o=l.nextSibling,Pn.each(Pn.grep(l.childNodes),function(t){Xt.isText(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});l=t.get(n.id+"_"+e);)t.remove(l,!0);a&&o&&a.nodeType===o.nodeType&&Xt.isText(a)&&!Nn.opera&&(r=a.nodeValue.length,a.appendData(o.nodeValue),t.remove(o),s=a,c=r)}return A.some(vc(s,c))}return A.none()}function tl(t){return t&&/^(IMG)$/.test(t.nodeName)}function el(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function nl(t,e){for(void 0===e&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)(t=t.childNodes[e])&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}}function il(t,e){for(var n=e;n;){if(1===n.nodeType&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e}function rl(t,e,n,i){var r,o,a=n.nodeValue;return void 0===i&&(i=t?a.length:0),t?(r=a.lastIndexOf(" ",i),-1!==(r=(o=a.lastIndexOf("\xa0",i))<r?r:o)&&!e&&(r<i||!t)&&r<=a.length&&r++):(r=a.indexOf(" ",i),o=a.indexOf("\xa0",i),r=-1!==r&&(-1===o||r<o)?r:o),r}function ol(t,e,n,i,r,o){var a,s,c;if(3===n.nodeType){if(-1!==(s=rl(r,o,n,i)))return{container:n,offset:s};c=n}for(var l=new xo(n,t.getParent(n,t.isBlock)||e);a=l[r?"prev":"next"]();)if(3!==a.nodeType||zl(a.parentNode)){if(t.isBlock(a)||kl.isEq(a,"BR"))break}else if(-1!==(s=rl(r,o,c=a)))return{container:a,offset:s};if(c)return{container:c,offset:i=r?0:c.length}}function al(t,e,n,i,r){var o,a,s,c;for(3===i.nodeType&&0===i.nodeValue.length&&i[r]&&(i=i[r]),o=El(t,i),a=0;a<o.length;a++)for(s=0;s<e.length;s++)if(!("collapsed"in(c=e[s])&&c.collapsed!==n.collapsed)&&t.is(o[a],c.selector))return o[a];return i}function sl(t,e,n,i){var r,o=t.dom,a=o.getRoot();if(e[0].wrapper||(r=o.getParent(n,e[0].block,a)),!r){var s=o.getParent(n,"LI,TD,TH");r=o.getParent(3===n.nodeType?n.parentNode:n,function(e){return e!==a&&Kl(t,e)},s)}if(r&&e[0].wrapper&&(r=El(o,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[i]&&!o.isBlock(r[i])&&!kl.isEq(r=r[i],"br"););return r||n}function cl(t,e,n,i,r,o,a){var s,c,l,u,d,h;if(s=c=a?n:r,u=a?"previousSibling":"nextSibling",d=t.getRoot(),3===s.nodeType&&!Nl(s)&&(a?0<i:o<s.nodeValue.length))return s;for(;;){if(!e[0].block_expand&&t.isBlock(c))return c;for(l=c[u];l;l=l[u])if(!zl(l)&&!Nl(l)&&("BR"!==(h=l).nodeName||!h.getAttribute("data-mce-bogus")||h.nextSibling))return c;if(c===d||c.parentNode===d){s=c;break}c=c.parentNode}return s}(mc=pc=pc||{})[mc.Backwards=-1]="Backwards",mc[mc.Forwards=1]="Forwards";var ll=Xt.isContentEditableFalse,ul=Xt.isText,dl=Xt.isElement,hl=Xt.isBr,fl=Ea,gl=function(t){return us(t)||function(t){return!!fs(t)&&!0!==C(U(t.getElementsByTagName("*")),function(t,e){return t||os(e)},!1)}(t)},pl=Na,ml=function(t,e,n){var r,o,a,s,c;if(!dl(n)||!e)return null;if(e.isEqual(vc.after(n))&&n.lastChild){if(c=vc.after(n.lastChild),ec(t)&&fl(n.lastChild)&&dl(n.lastChild))return hl(n.lastChild)?vc.before(n.lastChild):c}else c=e;var l=c.container(),u=c.offset();if(ul(l)){if(ec(t)&&0<u)return vc(l,--u);if(tc(t)&&u<l.length)return vc(l,++u);r=l}else{if(ec(t)&&0<u&&(o=Hc(l,u-1),fl(o)))return!gl(o)&&(a=ic(o,t,pl,o))?ul(a)?vc(a,a.data.length):vc.after(a):ul(o)?vc(o,o.data.length):vc.before(o);if(tc(t)&&u<l.childNodes.length&&(o=Hc(l,u),fl(o)))return hl(o)?function(t,e){var n=e.nextSibling;return n&&fl(n)?ul(n)?vc(n,0):vc.before(n):ml(pc.Forwards,vc.after(e),t)}(n,o):!gl(o)&&(a=ic(o,t,pl,o))?ul(a)?vc(a,0):vc.before(a):ul(o)?vc(o,0):vc.after(o);r=o||c.getNode()}return(tc(t)&&c.isAtEnd()||ec(t)&&c.isAtStart())&&(r=ic(r,t,i(!0),n,!0),pl(r,n))?Ic(t,r):(o=ic(r,t,pl,n),!(s=An.last(_(function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n}(l,n),ll)))||o&&s.contains(o)?o?Ic(t,o):null:c=tc(t)?vc.after(s):vc.before(s))},vl=function(t,e,n){var i=Vc(e);return A.from(t?i.next(n):i.prev(n))},yl=function(t,e,n,i){return $c(t,e,n).bind(function(n){return i(n)?yl(t,e,n,i):A.some(n)})},bl=o(vl,!0),_l=o(vl,!1),wl={fromPosition:vl,nextPosition:bl,prevPosition:_l,navigate:$c,navigateIgnore:yl,positionIn:Wc,firstPositionIn:o(Wc,!0),lastPositionIn:o(Wc,!1)},Cl=function(t,e,n){return Sc.getBookmark(t,e,n)},xl=function(t,e){(function(t,e){var n=t.dom;if(e){if(Pn.isArray(e.start))return function(t,e){var n=t.createRng();return Qc(t,!0,e,n)&&Qc(t,!1,e,n)?A.some(n):A.none()}(n,e);if("string"==typeof e.start)return A.some(function(t,e){var n,i;return n=t.createRng(),i=Ps(t.getRoot(),e.start),n.setStart(i.container(),i.offset()),i=Ps(t.getRoot(),e.end),n.setEnd(i.container(),i.offset()),n}(n,e));if(e.hasOwnProperty("id"))return function(t,e){var n=Zc(t,"start",e);return Oa(n,Zc(t,"end",e).or(n),function(e,n){var i=t.createRng();return i.setStart(qc(t,e.container()),e.offset()),i.setEnd(qc(t,n.container()),n.offset()),i})}(n,e);if(e.hasOwnProperty("name"))return function(t,e){return A.from(t.select(e.name)[e.index]).map(function(e){var n=t.createRng();return n.selectNode(e),n})}(n,e);if(e.hasOwnProperty("rng"))return A.some(e.rng)}return A.none()})(t,e).each(function(e){t.setRng(e)})},Sl=function(t){return Xt.isElement(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Tl=function(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)},kl={isInlineBlock:tl,moveStart:function(t,e,n){var i,r,o,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!tl(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(a<(o=s.childNodes).length?i=new xo(s=o[a],t.getParent(s,t.isBlock)):(i=new xo(s=o[o.length-1],t.getParent(s,t.isBlock))).next(!0),r=i.current();r;r=i.next())if(3===r.nodeType&&!Tl(r))return n.setStart(r,0),void e.setRng(n)},getNonWhiteSpaceSibling:function(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1===t.nodeType||!Tl(t))return t},isTextBlock:function(t,e){return e.nodeType&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},isValid:function(t,e,n){return t.schema.isValidChild(e,n)},isWhiteSpaceNode:Tl,replaceVars:function(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,function(t,n){return e[n]||t})),t},isEq:function(t,e){return t=""+((t=t||"").nodeName||t),e=""+((e=e||"").nodeName||e),t.toLowerCase()===e.toLowerCase()},normalizeStyleValue:el,getStyle:function(t,e,n){return el(t,t.getStyle(e,n),n)},getTextDecoration:function(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n}),n},getParents:function(t,e,n){return t.getParents(e,n,t.getRoot())}},zl=Sl,El=kl.getParents,Nl=kl.isWhiteSpaceNode,Kl=kl.isTextBlock,Al=function(t,e,n,i){var r,o=e.startContainer,a=e.startOffset,s=e.endContainer,c=e.endOffset,l=t.dom;return 1===o.nodeType&&o.hasChildNodes()&&3===(o=Fa(o,a)).nodeType&&(a=0),1===s.nodeType&&s.hasChildNodes()&&3===(s=Fa(s,e.collapsed?c:c-1)).nodeType&&(c=s.nodeValue.length),o=il(l,o),s=il(l,s),(zl(o.parentNode)||zl(o))&&(o=zl(o)?o:o.parentNode,3===(o=e.collapsed?o.previousSibling||o:o.nextSibling||o).nodeType&&(a=e.collapsed?o.length:0)),(zl(s.parentNode)||zl(s))&&(s=zl(s)?s:s.parentNode,3===(s=e.collapsed?s.nextSibling||s:s.previousSibling||s).nodeType&&(c=e.collapsed?0:s.length)),e.collapsed&&((r=ol(l,t.getBody(),o,a,!0,i))&&(o=r.container,a=r.offset),(r=ol(l,t.getBody(),s,c,!1,i))&&(s=r.container,c=r.offset)),n[0].inline&&(s=i?s:function(t,e){var n=nl(t,c);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=nl(n.node.previousSibling);n.node&&0<n.offset&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&1<n.offset&&(t=n.node).splitText(n.offset-1)}return t}(s)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===o.nodeType&&0!==a||(o=cl(l,n,o,a,s,c,!0)),n[0].inline&&3===s.nodeType&&c!==s.nodeValue.length||(s=cl(l,n,o,a,s,c,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=al(l,n,e,o,"previousSibling"),s=al(l,n,e,s,"nextSibling")),(n[0].block||n[0].selector)&&(o=sl(t,n,o,"previousSibling"),s=sl(t,n,s,"nextSibling"),n[0].block&&(l.isBlock(o)||(o=cl(l,n,o,a,s,c,!0)),l.isBlock(s)||(s=cl(l,n,o,a,s,c,!1)))),1===o.nodeType&&(a=l.nodeIndex(o),o=o.parentNode),1===s.nodeType&&(c=l.nodeIndex(s)+1,s=s.parentNode),{startContainer:o,startOffset:a,endContainer:s,endOffset:c}},Ml=Pn.each,Dl=function(t,e,n){var i,r,o,a,s,c,l,u=e.startContainer,d=e.startOffset,h=e.endContainer,f=e.endOffset;if(0<(l=t.select("td[data-mce-selected],th[data-mce-selected]")).length)Ml(l,function(t){n([t])});else{var g=function(t){var e;return 3===(e=t[0]).nodeType&&e===u&&d>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===f&&0<t.length&&e===h&&3===e.nodeType&&t.splice(t.length-1,1),t},p=function(t,e,n){for(var i=[];t&&t!==n;t=t[e])i.push(t);return i},m=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},v=function(t,e,i){var r=i?"nextSibling":"previousSibling";for(s=(a=t).parentNode;a&&a!==e;a=s)s=a.parentNode,(c=p(a===t?a:a[r],r)).length&&(i||c.reverse(),n(g(c)))};if(1===u.nodeType&&u.hasChildNodes()&&(u=u.childNodes[d]),1===h.nodeType&&h.hasChildNodes()&&(h=function(t,e){var n=h.childNodes;return--e>n.length-1?e=n.length-1:e<0&&(e=0),n[e]||h}(0,f)),u===h)return n(g([u]));for(i=t.findCommonAncestor(u,h),a=u;a;a=a.parentNode){if(a===h)return v(u,i,!0);if(a===i)break}for(a=h;a;a=a.parentNode){if(a===u)return v(h,i);if(a===i)break}r=m(u,i)||u,o=m(h,i)||h,v(u,r,!0),(c=p(r===u?r:r.nextSibling,"nextSibling",o===h?o.nextSibling:o)).length&&n(g(c)),v(h,o)}};function Pl(t){return Bl.get(t)}function Rl(t,e,n,i){var r=e.uid,o=void 0===r?function(t){var e=(new Date).getTime();return"mce-annotation_"+Math.floor(1e9*Math.random())+ ++Ya+String(e)}():r,a=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(e,["uid"]),s=ve.fromTag("span",t);ia(s,$a()),ze(s,""+qa(),o),ze(s,""+Wa(),n);var c=i(o,a),l=c.attributes,u=c.classes,d=void 0===u?[]:u;return ht(s,void 0===l?{}:l),function(t,e){b(d,function(e){ia(t,e)})}(s),s}function Ll(e){var n=function(){var t={};return{register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return t.hasOwnProperty(e)?A.from(t[e]).map(function(t){return t.settings}):A.none()}}}();!function(t,e){t.on("init",function(){t.serializer.addNodeFilter("span",function(t){b(t,function(t){A.from(t.attr(Wa())).bind(e.lookup).each(function(e){!1===e.persistent&&t.unwrap()})})})})}(e,n);var i=function(e,n){function i(t,e){o(t,function(t){return e(t),t})}var r=Vo({}),o=function(t,e){var n=r.get(),i=e(n.hasOwnProperty(t)?n[t]:{listeners:[],previous:Vo(A.none())});n[t]=i,r.set(n)},a=function(e,n){var i=null;return{cancel:function(){null!==i&&(t.clearTimeout(i),i=null)},throttle:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];null!==i&&t.clearTimeout(i),i=t.setTimeout(function(){e.apply(null,n),i=null},30)}}}(function(){var t=r.get();b(function(t,e){var n=O.call(t,0);return n.sort(void 0),n}(xe(t)),function(t){o(t,function(n){var r=n.previous.get();return ma(e,A.some(t)).fold(function(){var e;r.isSome()&&(i(e=t,function(t){b(t.listeners,function(t){return t(!1,e)})}),n.previous.set(A.none()))},function(t){var e=t.uid,o=t.name,a=t.elements;r.is(e)||(function(t,e,n){i(t,function(i){b(i.listeners,function(i){return i(!0,t,{uid:e,nodes:V(n,function(t){return t.dom()})})})})}(o,e,a),n.previous.set(A.some(e)))}),{previous:n.previous,listeners:n.listeners}})})});return e.on("remove",function(){a.cancel()}),e.on("NodeChange",function(){a.throttle()}),{addListener:function(t,e){o(t,function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}})}}}(e);return{register:function(t,e){n.register(t,e)},annotate:function(t,i){n.lookup(t).each(function(n){var r,o,a,s;o=t,a=n,s=i,(r=e).undoManager.transact(function(){var t=r.selection.getRng();if(t.collapsed&&function(t,e){var n=Al(t,e,[{inline:!0}],3===e.startContainer.nodeType&&e.startContainer.nodeValue.length>=e.startOffset&&"\xa0"===e.startContainer.nodeValue[e.startOffset]);e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)}(r,t),r.selection.getRng().collapsed){var e=Rl(r.getDoc(),s,o,a.decorate);_a(e,"\xa0"),r.selection.getRng().insertNode(e.dom()),r.selection.select(e.dom())}else{var n=Sc.getPersistentBookmark(r.selection,!1),i=r.selection.getRng();(function(t,e,n,i,r){function o(){l.set(A.none())}function a(t){b(t,u)}var s=[],c=Rl(t.getDoc(),r,n,i),l=Vo(A.none()),u=function(e){switch(function(t,e,n,i){return xt(e).fold(function(){return"skipping"},function(r){return"br"===i||function(t){return Ce(t)&&"\ufeff"===Pl(t)}(e)?"valid":function(t){return we(t)&&ra(t,$a())}(e)?"existing":Gs(e)?"caret":kl.isValid(t,n,i)&&kl.isValid(t,it(r),n)?"valid":"invalid-child"})}(t,e,"span",it(e))){case"invalid-child":o(),a(Et(e)),o();break;case"valid":!function(t,e){qo(t,e),sa(e,t)}(e,l.get().getOrThunk(function(){var t=ya(c);return s.push(t),l.set(A.some(t)),t}))}};Dl(t.dom,e,function(t){o(),function(t){a(V(t,ve.fromDom))}(t)})})(r,i,o,a.decorate,s),r.selection.moveToBookmark(n)}})})},annotationChanged:function(t,e){i.addListener(t,e)},remove:function(t){ma(e,A.some(t)).each(function(t){b(t.elements,Zo)})},getAll:function(t){return at(function(t,e){var n=oa(ve.fromDom(t.getBody()),"["+Wa()+'="'+e+'"]'),i={};return b(n,function(t){var e=ft(t,qa()),n=i.hasOwnProperty(e)?i[e]:[];i[e]=n.concat([t])}),i}(e,t),function(t){return V(t,function(t){return t.dom()})})}}}function Fl(t,e,n){var i=n?"lastChild":"firstChild",r=n?"prev":"next";if(t[i])return t[i];if(t!==e){var o=t[r];if(o)return o;for(var a=t.parent;a&&a!==e;a=a.parent)if(o=a[r])return o}}var Bl=function(t,e){var n=function(e){return t(e)?A.from(e.dom().nodeValue):A.none()};return{get:function(e){if(!t(e))throw new Error("Can only get text value of a text node");return n(e).getOr("")},getOption:n,set:function(e,n){if(!t(e))throw new Error("Can only set raw text value of a text node");e.dom().nodeValue=n}}}(Ce),Ol=/^[ \t\r\n]*$/,Hl={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Il=(Vl.create=function(t,e){var n=new Vl(t,Hl[t]||1);if(e)for(var i in e)n.attr(i,e[i]);return n},Vl.prototype.replace=function(t){return t.parent&&t.remove(),this.insert(t,this),this.remove(),this},Vl.prototype.attr=function(t,e){var n;if("string"!=typeof t){for(var i in t)this.attr(i,t[i]);return this}if(n=this.attributes){if(void 0===e)return n.map[t];if(null===e){if(t in n.map){delete n.map[t];for(var r=n.length;r--;)if(n[r].name===t)return n.splice(r,1),this}return this}if(t in n.map){for(r=n.length;r--;)if(n[r].name===t){n[r].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,this}},Vl.prototype.clone=function(){var t,e=new Vl(this.name,this.type);if(t=this.attributes){var n=[];n.map={};for(var i=0,r=t.length;i<r;i++){var o=t[i];"id"!==o.name&&(n[n.length]={name:o.name,value:o.value},n.map[o.name]=o.value)}e.attributes=n}return e.value=this.value,e.shortEnded=this.shortEnded,e},Vl.prototype.wrap=function(t){return this.parent.insert(t,this),t.append(this),this},Vl.prototype.unwrap=function(){for(var t=this.firstChild;t;){var e=t.next;this.insert(t,this,!0),t=e}this.remove()},Vl.prototype.remove=function(){var t=this.parent,e=this.next,n=this.prev;return t&&(t.firstChild===this?(t.firstChild=e)&&(e.prev=null):n.next=e,t.lastChild===this?(t.lastChild=n)&&(n.next=null):e.prev=n,this.parent=this.next=this.prev=null),this},Vl.prototype.append=function(t){t.parent&&t.remove();var e=this.lastChild;return e?((e.next=t).prev=e,this.lastChild=t):this.lastChild=this.firstChild=t,t.parent=this,t},Vl.prototype.insert=function(t,e,n){t.parent&&t.remove();var i=e.parent||this;return n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,(t.next=e).prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,(t.prev=e).next=t),t.parent=i,t},Vl.prototype.getAll=function(t){for(var e=[],n=this.firstChild;n;n=Fl(n,this))n.name===t&&e.push(n);return e},Vl.prototype.empty=function(){if(this.firstChild){for(var t=[],e=this.firstChild;e;e=Fl(e,this))t.push(e);for(var n=t.length;n--;)(e=t[n]).parent=e.firstChild=e.lastChild=e.next=e.prev=null}return this.firstChild=this.lastChild=null,this},Vl.prototype.isEmpty=function(t,e,n){void 0===e&&(e={});var i=this.firstChild;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(t[i.name])return!1;for(var r=i.attributes.length;r--;){var o=i.attributes[r].name;if("name"===o||0===o.indexOf("data-mce-bookmark"))return!1}}if(8===i.type)return!1;if(3===i.type&&!Ol.test(i.value))return!1;if(3===i.type&&i.parent&&e[i.parent.name]&&Ol.test(i.value))return!1;if(n&&n(i))return!1}while(i=Fl(i,this));return!0},Vl.prototype.walk=function(t){return Fl(this,null,t)},Vl);function Vl(t,e){this.name=t,1===(this.type=e)&&(this.attributes=[],this.attributes.map={})}function jl(t,e,n){var i,r,o,a,s=1;for(a=t.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;r=o.exec(e);){if(i=o.lastIndex,"/"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i}function Ul(t,e){var n=t.exec(e);if(n){var i=n[1],r=n[2];return"string"==typeof i&&"data-mce-bogus"===i.toLowerCase()?r:null}return null}function Gl(t,e){function n(){}void 0===e&&(e=_i()),!1!==(t=t||{}).fix_self_closing&&(t.fix_self_closing=!0);var i=t.comment?t.comment:n,r=t.cdata?t.cdata:n,o=t.text?t.text:n,a=t.start?t.start:n,s=t.end?t.end:n,c=t.pi?t.pi:n,l=t.doctype?t.doctype:n;return{parse:function(n){function u(t){var e,n;for(e=V.length;e--&&V[e].name!==t;);if(0<=e){for(n=V.length-1;e<=n;n--)(t=V[n]).valid&&s(t.name);V.length=e}}function d(e,n,i,r,o){var a,s;if(i=(n=n.toLowerCase())in C?n:U(i||r||o||""),S&&!b&&!1===function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")}(n)){if(!(a=N[n])&&K){for(s=K.length;s--&&!(a=K[s]).pattern.test(n););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(i in a.validValues))return}if(G[n]&&!t.allow_script_urls){var c=i.replace(/[\s\u0000-\u001F]+/g,"");try{c=decodeURIComponent(c)}catch(y){c=unescape(c)}if($.test(c))return;if(function(t,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?!1===t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))}(t,c))return}b&&(n in G||0===n.indexOf("on"))||(p.map[n]=i,p.push({name:n,value:i}))}var h,f,g,p,m,v,y,b,_,w,C,x,S,T,k,z,E,N,K,A,M,D,P,R,L,F,B,O,H,I=0,V=[],j=0,U=li.decode,G=Pn.makeMap("src,href,data,background,formaction,poster,xlink:href"),$=/((java|vb)script|mhtml):/i;for(L=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),F=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,w=e.getShortEndedElements(),R=t.self_closing_elements||e.getSelfClosingElements(),C=e.getBoolAttrs(),S=t.validate,_=t.remove_internals,H=t.fix_self_closing,B=e.getSpecialElements(),P=n+">";h=L.exec(P);){if(I<h.index&&o(U(n.substr(I,h.index-I))),f=h[6])":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),u(f);else if(f=h[7]){if(h.index+h[0].length>n.length){o(U(n.substr(h.index))),I=h.index+h[0].length;continue}":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),x=f in w,H&&R[f]&&0<V.length&&V[V.length-1].name===f&&u(f);var W=Ul(F,h[8]);if(null!==W){if("all"===W){I=jl(e,n,L.lastIndex),L.lastIndex=I;continue}k=!1}if(!S||(T=e.getElementRule(f))){if(k=!0,S&&(N=T.attributes,K=T.attributePatterns),(E=h[8])?((b=-1!==E.indexOf("data-mce-type"))&&_&&(k=!1),(p=[]).map={},E.replace(F,d)):(p=[]).map={},S&&!b){if(A=T.attributesRequired,M=T.attributesDefault,T.removeEmptyAttrs&&!p.length&&(k=!1),D=T.attributesForced)for(m=D.length;m--;)y=(z=D[m]).name,"{$uid}"===(O=z.value)&&(O="mce_"+j++),p.map[y]=O,p.push({name:y,value:O});if(M)for(m=M.length;m--;)(y=(z=M[m]).name)in p.map||("{$uid}"===(O=z.value)&&(O="mce_"+j++),p.map[y]=O,p.push({name:y,value:O}));if(A){for(m=A.length;m--&&!(A[m]in p.map););-1===m&&(k=!1)}if(z=p.map["data-mce-bogus"]){if("all"===z){I=jl(e,n,L.lastIndex),L.lastIndex=I;continue}k=!1}}k&&a(f,p,x)}else k=!1;if(g=B[f]){g.lastIndex=I=h.index+h[0].length,I=(h=g.exec(n))?(k&&(v=n.substr(I,h.index-I)),h.index+h[0].length):(v=n.substr(I),n.length),k&&(0<v.length&&o(v,!0),s(f)),L.lastIndex=I;continue}x||(E&&E.indexOf("/")===E.length-1?k&&s(f):V.push({name:f,valid:k}))}else(f=h[1])?(">"===f.charAt(0)&&(f=" "+f),t.allow_conditional_comments||"[if"!==f.substr(0,3).toLowerCase()||(f=" "+f),i(f)):(f=h[2])?r(f.replace(/<!--|-->/g,"")):(f=h[3])?l(f):(f=h[4])&&c(f,h[5]);I=h.index+h[0].length}for(I<n.length&&o(U(n.substr(I))),m=V.length-1;0<=m;m--)(f=V[m]).valid&&s(f.name)}}}function $l(t,e){var n,i,r,o,a,s=e,c=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,l=t.schema;for(s=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")}(t.getTempAttrs(),s),a=l.getShortEndedElements();o=c.exec(s);)i=c.lastIndex,r=o[0].length,n=a[o[1]]?i:Cu.findEndTag(l,s,i),s=s.substring(0,i-r)+s.substring(n),c.lastIndex=i-r;return ts(s)}function Wl(t,e,n){var i=t.getParam(e,n);if(-1===i.indexOf("="))return i;var r=t.getParam(e,"","hash");return r.hasOwnProperty(t.id)?r[t.id]:n}function ql(t){var e,n,i,r,o,a=[];return e=(t=t||{}).indent,n=Gu(t.indent_before||""),i=Gu(t.indent_after||""),r=li.getEncodeFunc(t.entity_encoding||"raw",t.entities),o="html"===t.element_format,{start:function(t,s,c){var l,u,d,h;if(e&&n[t]&&0<a.length&&0<(h=a[a.length-1]).length&&"\n"!==h&&a.push("\n"),a.push("<",t),s)for(l=0,u=s.length;l<u;l++)a.push(" ",(d=s[l]).name,'="',r(d.value,!0),'"');a[a.length]=!c||o?">":" />",c&&e&&i[t]&&0<a.length&&0<(h=a[a.length-1]).length&&"\n"!==h&&a.push("\n")},end:function(t){var n;a.push("</",t,">"),e&&i[t]&&0<a.length&&0<(n=a[a.length-1]).length&&"\n"!==n&&a.push("\n")},text:function(t,e){0<t.length&&(a[a.length]=e?t:r(t))},cdata:function(t){a.push("<![CDATA[",t,"]]>")},comment:function(t){a.push("\x3c!--",t,"--\x3e")},pi:function(t,n){n?a.push("<?",t," ",r(n),"?>"):a.push("<?",t,"?>"),e&&a.push("\n")},doctype:function(t){a.push("<!DOCTYPE",t,">",e?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}}function Xl(t,e){void 0===e&&(e=_i());var n=ql(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(i){var r,o;o=t.validate,r={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)for(;a(t),t=t.next;);}},n.reset();var a=function(t){var i,s,c,l,u,d,h,f,g,p=r[t.type];if(p)p(t);else{if(i=t.name,s=t.shortEnded,c=t.attributes,o&&c&&1<c.length&&((d=[]).map={},g=e.getElementRule(t.name))){for(h=0,f=g.attributesOrder.length;h<f;h++)(l=g.attributesOrder[h])in c.map&&(d.map[l]=u=c.map[l],d.push({name:l,value:u}));for(h=0,f=c.length;h<f;h++)(l=c[h].name)in d.map||(d.map[l]=u=c.map[l],d.push({name:l,value:u}));c=d}if(n.start(t.name,c,s),!s){if(t=t.firstChild)for(;a(t),t=t.next;);n.end(i)}}};return 1!==i.type||t.inner?r[11](i):a(i),n.getContent()}}}function Yl(t){var e=wt(t).dom();return t.dom()===e.activeElement}function Ql(e){var n=void 0!==e?e.dom():t.document;return A.from(n.activeElement).map(ve.fromDom)}function Jl(t,e){var n=Ce(e)?Pl(e).length:Et(e).length+1;return n<t?n:t<0?0:t}function Zl(t){return Qu.range(t.start(),Jl(t.soffset(),t.start()),t.finish(),Jl(t.foffset(),t.finish()))}function tu(t,e){return!Xt.isRestrictedNode(e.dom())&&(Me(t,e)||_t(t,e))}function eu(t){return function(e){return tu(t,e.start())&&tu(t,e.finish())}}function nu(t){return Qu.range(ve.fromDom(t.startContainer),t.startOffset,ve.fromDom(t.endContainer),t.endOffset)}function iu(e){var n=t.document.createRange();try{return n.setStart(e.start().dom(),e.soffset()),n.setEnd(e.finish().dom(),e.foffset()),A.some(n)}catch(h){return A.none()}}function ru(t){return(t.bookmark?t.bookmark:A.none()).bind(function(e){return function(t,e){return A.from(e).filter(eu(t)).map(Zl)}(ve.fromDom(t.getBody()),e)}).bind(iu)}function ou(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==id.getParent(e,function(e){return function(t){return ed.isEditorUIElement(t)}(e)||!!n&&t.dom.is(e,n)})}function au(e,n){var i=n.editor;nd(i),i.on("focusin",function(){var t=e.focusedEditor;t!==this&&(t&&t.fire("blur",{focusedEditor:this}),e.setActive(this),(e.focusedEditor=this).fire("focus",{blurredEditor:t}),this.focus(!0))}),i.on("focusout",function(){var n=this;Cn.setEditorTimeout(n,function(){var i=e.focusedEditor;ou(n,function(){try{return t.document.activeElement}catch(i){return t.document.body}}())||i!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),wu||id.bind(t.document,"focusin",wu=function(n){var i,r=e.activeEditor;i=n.target,r&&i.ownerDocument===t.document&&(i===t.document.body||ou(r,i)||e.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null))})}function su(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(id.unbind(t.document,"focusin",wu),wu=null)}function cu(t,e){(function(t,e){return function(t){return t.collapsed?A.from(Fa(t.startContainer,t.startOffset)).map(ve.fromDom):A.none()}(e).bind(function(e){return qn(e)?A.some(e):!1===Me(t,e)?A.some(t):A.none()})})(ve.fromDom(t.getBody()),e).bind(function(t){return wl.firstPositionIn(t.dom())}).fold(function(){t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})}function lu(t){if(t.setActive)try{t.setActive()}catch(c){t.focus()}else t.focus()}function uu(t){return t.inline?function(t){var e=t.getBody();return e&&function(t){return Yl(t)||(e=t,Ql(wt(e)).filter(function(t){return e.dom().contains(t.dom())})).isSome();var e}(ve.fromDom(e))}(t):function(t){return t.iframeElement&&Yl(ve.fromDom(t.iframeElement))}(t)}function du(t){return t instanceof Il}function hu(t,e){var n;t.dom.setHTML(t.getBody(),e),ad(n=t)&&wl.firstPositionIn(n.getBody()).each(function(t){var e=t.getNode(),i=Xt.isTable(e)?wl.firstPositionIn(e).getOr(t):t;n.selection.setRng(i.toRange())})}function fu(t,e,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=du(e)?"":e,du(e)||n.no_events||(t.fire("BeforeSetContent",n),e=n.content),A.from(t.getBody()).fold(i(e),function(i){return du(e)?function(t,e,n,i){!function(t,e,n){var i=function(t,e,n){var i={},r={},o=[];for(var a in n.firstChild&&$u(n.firstChild,function(n){b(t,function(t){t.name===n.name&&(i[t.name]?i[t.name].nodes.push(n):i[t.name]={filter:t,nodes:[n]})}),b(e,function(t){"string"==typeof n.attr(t.name)&&(r[t.name]?r[t.name].nodes.push(n):r[t.name]={filter:t,nodes:[n]})})}),i)i.hasOwnProperty(a)&&o.push(i[a]);for(var a in r)r.hasOwnProperty(a)&&o.push(r[a]);return o}(t,e,n);b(i,function(t){b(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})})}(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var r=Xl({validate:t.validate},t.schema).serialize(n);return i.content=Yn(ve.fromDom(e))?r:Pn.trim(r),hu(t,i.content),i.no_events||t.fire("SetContent",i),n}(t,i,e,n):function(t,e,n,i){var r,o;return 0===n.length||/^\s+$/.test(n)?(o='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+o+"</li>"),n=(r=ku(t))&&t.schema.isValidChild(e.nodeName.toLowerCase(),r.toLowerCase())?t.dom.createHTML(r,t.settings.forced_root_block_attrs,n=o):n||'<br data-mce-bogus="1">',hu(t,n),t.fire("SetContent",i)):("raw"!==i.format&&(n=Xl({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),i.content=Yn(ve.fromDom(e))?n:Pn.trim(n),hu(t,i.content),i.no_events||t.fire("SetContent",i)),i.content}(t,i,e,n)})}function gu(t){return A.from(t).each(function(t){return t.destroy()})}function pu(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var i={},r=0;r<e.length;r++){var o=e[r];for(var a in o)fd.call(o,a)&&(i[a]=t(i[a],o[a]))}return i}}function mu(t){var e=P(t)?t.join(" "):t;return _(V(M(e)?e.split(" "):[],tt),function(t){return 0<t.length})}function vu(t,e){return t.sections().hasOwnProperty(e)}function yu(t,e,n){return A.from(e.settings[n]).filter(t)}function bu(t,e){return e.dom()[t]}function _u(t,e){return parseInt(pt(e,t),10)}(Gl=Gl||{}).findEndTag=jl;var wu,Cu=Gl,xu={trimExternal:$l,trimInternal:$l},Su=function(t){return t.getParam("content_security_policy","")},Tu=function(t){return t.getParam("br_in_pre",!0)},ku=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},zu=function(t){return t.getParam("forced_root_block_attrs",{})},Eu=function(t){return t.getParam("keep_styles",!0)},Nu=function(t){return t.getParam("end_container_on_empty_block",!1)},Ku=function(t){return Pn.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Au=function(t){return Pn.explode(t.getParam("font_size_classes",""))},Mu=function(t){return t.getParam("images_dataimg_filter",i(!0),"function")},Du=function(t){return t.getParam("automatic_uploads",!0,"boolean")},Pu=function(t){return t.getParam("images_reuse_filename",!1,"boolean")},Ru=function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")},Lu=function(t){return t.getParam("images_upload_url","","string")},Fu=function(t){return t.getParam("images_upload_base_path","","string")},Bu=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},Ou=function(t){return t.getParam("images_upload_handler",null,"function")},Hu=function(t){return t.getParam("content_css_cors",!1,"boolean")},Iu=function(t){return t.getParam("referrer_policy","","string")},Vu=function(t){return t.getParam("language","en","string")},ju=function(t){return t.getParam("indent_use_margin",!1)},Uu=function(t){return t.getParam("indentation","40px","string")},Gu=Pn.makeMap,$u=function(t,e){e(t),t.firstChild&&$u(t.firstChild,e),t.next&&$u(t.next,e)},Wu=function(e){if(!P(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],i={};return b(e,function(r,o){var a=xe(r);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],c=r[s];if(void 0!==i[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!P(c))throw new Error("case arguments must be an array");n.push(s),i[s]=function(){var i=arguments.length;if(i!==c.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+c.length+" ("+c+"), got "+i);for(var r=new Array(i),a=0;a<r.length;a++)r[a]=arguments[a];return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[o].apply(null,r)},match:function(t){var e=xe(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!k(n,function(t){return v(e,t)}))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[s].apply(null,r)},log:function(e){t.console.log(e,{constructors:n,constructor:s,params:r})}}}}),i},qu={create:vt("start","soffset","finish","foffset")},Xu=(Wu([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),function(t){return t.fold(r,r,r)}),Yu=Wu([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Qu={domRange:Yu.domRange,relative:Yu.relative,exact:Yu.exact,exactFromRange:function(t){return Yu.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){return Ct(function(t){return t.match({domRange:function(t){return ve.fromDom(t.startContainer)},relative:function(t,e){return Xu(t)},exact:function(t,e,n,i){return t}})}(t))},range:qu.create},Ju=pe.detect().browser,Zu=function(t){var e=function(t){return!0===t.inline||Ju.isIE()}(t)?function(t){return function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?A.from(e.getRangeAt(0)):A.none()).map(nu)}(Ct(t).dom()).filter(eu(t))}(ve.fromDom(t.getBody())):A.none();t.bookmark=e.isSome()?e:t.bookmark},td=ru,ed={isEditorUIElement:function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},nd=function(e){var n=ta(function(){Zu(e)},0);e.on("init",function(){e.inline&&function(e,n){function i(){n.throttle()}Ro.DOM.bind(t.document,"mouseup",i),e.on("remove",function(){Ro.DOM.unbind(t.document,"mouseup",i)})}(e,n),function(t,e){pe.detect().browser.isIE()?function(t){t.on("focusout",function(){Zu(t)})}(t):function(t,e){t.on("mouseup touchend",function(t){e.throttle()})}(t,e),t.on("keyup NodeChange",function(e){!function(t){return"nodechange"===t.type&&t.selectionChange}(e)&&Zu(t)})}(e,n)}),e.on("remove",function(){n.cancel()})},id=Ro.DOM,rd=ou,od=function(t){return t.editorManager.setActive(t)},ad=uu,sd=function(t){return uu(t)||(e=t,Ql().filter(function(t){return!function(t){var e=t.classList;return void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))}(t.dom())&&rd(e,t.dom())}).isSome());var e},cd=function(t,e){return t.fire("PostProcess",e)},ld=function(t,e){return t.fire("SwitchMode",{mode:e})},ud=function(t,e,n,i){t.fire("ObjectResizeStart",{target:e,width:n,height:i})},dd=function(t,e,n,i){t.fire("ObjectResized",{target:e,width:n,height:i})},hd=Ro.DOM,fd=Object.prototype.hasOwnProperty,gd=pu(function(t,e){return D(t)&&D(e)?gd(t,e):e}),pd=pu(function(t,e){return e}),md=vt("sections","settings"),vd=pe.detect(),yd=vd.deviceType.isTouch(),bd=vd.deviceType.isPhone(),_d=["lists","autolink","autosave"],wd={theme:"mobile"},Cd=o(bu,"clientWidth"),xd=o(bu,"clientHeight"),Sd=o(_u,"margin-top"),Td=o(_u,"margin-left"),kd=function(t,e,n){var i=ve.fromDom(t.getBody()),r=t.inline?i:ve.fromDom(i.dom().ownerDocument.documentElement),o=function(t,e,n,i){var r=e.dom().getBoundingClientRect();return{x:n-(t?r.left+e.dom().clientLeft+Td(e):0),y:i-(t?r.top+e.dom().clientTop+Sd(e):0)}}(t.inline,r,e,n);return function(t,e,n){var i=Cd(t),r=xd(t);return 0<=e&&0<=n&&e<=i&&n<=r}(r,o.x,o.y)},zd=function(t){return function(t){return A.from(t).map(ve.fromDom)}(t.inline?t.getBody():t.getContentAreaContainer()).map(function(t){return Me(wt(t),t)}).getOr(!1)};function Ed(t){function e(){var e=t.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():function(){function t(){throw new Error("Theme did not provide a NotificationManager implementation.")}return{open:t,close:t,reposition:t,getArgs:t}}()}function n(){0<a.length&&e().reposition(a)}function i(t){S(a,function(e){return e===t}).each(function(t){a.splice(t,1)})}function r(r){if(!t.removed&&zd(t))return x(a,function(t){return function(t,e){return!(t.type!==e.type||t.text!==e.text||t.progressBar||t.timeout||e.progressBar||e.timeout)}(e().getArgs(t),r)}).getOrThunk(function(){t.editorManager.setActive(t);var o=e().open(r,function(){i(o),n()});return function(t){a.push(t)}(o),n(),o})}var o,a=[];return(o=t).on("SkinLoaded",function(){var t=o.settings.service_message;t&&r({text:t,type:"warn",timeout:0})}),o.on("ResizeEditor ResizeWindow NodeChange",function(){Cn.requestAnimationFrame(n)}),o.on("remove",function(){b(a.slice(),function(t){e().close(t)})}),{open:r,close:function(){A.from(a[0]).each(function(t){e().close(t),i(t),n()})},getNotifications:function(){return a}}}function Nd(t){function e(){var e=t.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():function(){function t(){throw new Error("Theme did not provide a WindowManager implementation.")}return{open:t,openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}}()}function n(t,e){return function(){return e?e.apply(t,arguments):void 0}}function i(e){t.fire("CloseWindow",{dialog:e}),0===(o=_(o,function(t){return t!==e})).length&&t.focus()}function r(e){t.editorManager.setActive(t),Zu(t);var n=e();return function(e){o.push(e),function(e){t.fire("OpenWindow",{dialog:e})}(e)}(n),n}var o=[];return t.on("remove",function(){b(o,function(t){e().close(t)})}),{open:function(t,n){return r(function(){return e().open(t,n,i)})},openUrl:function(t){return r(function(){return e().openUrl(t,i)})},alert:function(t,i,r){e().alert(t,n(r||this,i))},confirm:function(t,i,r){e().confirm(t,n(r||this,i))},close:function(){A.from(o[o.length-1]).each(function(t){e().close(t),i(t)})}}}function Kd(t,e){t.notificationManager.open({type:"error",text:e})}function Ad(t,e){t._skinLoaded?Kd(t,e):t.on("SkinLoaded",function(){Kd(t,e)})}function Md(e){t.console.error(e)}function Dd(t,e,n){return n?"Failed to load "+t+": "+n+" from url "+e:"Failed to load "+t+" url: "+e}var Pd,Rd=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=t.window.console;r&&(r.error?r.error.apply(r,arguments):r.log.apply(r,arguments))},Ld={pluginLoadError:function(t,e){Md(Dd("plugin",t,e))},iconsLoadError:function(t,e){Md(Dd("icons",t,e))},languageLoadError:function(t,e){Md(Dd("language",t,e))},pluginInitError:function(t,e,n){var i=Go.translate(["Failed to initialize plugin: {0}",e]);Rd(i,n),Ad(t,i)},uploadError:function(t,e){Ad(t,Go.translate(["Failed to upload image: {0}",e]))},displayError:Ad,initError:Rd},Fd=(Pd={},{add:function(t,e){Pd[t]=e},get:function(t){return Pd[t]?Pd[t]:{icons:{}}},has:function(t){return ke(Pd,t)}}),Bd=aa.PluginManager,Od=aa.ThemeManager;function Hd(t){var e,n,i=decodeURIComponent(t).split(",");return(n=/data:([^;]+)/.exec(i[0]))&&(e=n[1]),{type:e,data:i[1]}}function Id(t){return(t||"blobid")+Gd++}var Vd=function(e){return 0===e.indexOf("blob:")?(n=e,new Ye(function(e,i){function r(){i("Cannot convert "+n+" to Blob. Resource might not exist or is inaccessible.")}try{var o=new t.XMLHttpRequest;o.open("GET",n,!0),o.responseType="blob",o.onload=function(){200===this.status?e(this.response):r()},o.onerror=r,o.send()}catch(g){r()}})):0===e.indexOf("data:")?function(e){return new Ye(function(n){var i,r,o,a=Hd(e);try{i=t.atob(a.data)}catch(rC){return void n(new t.Blob([]))}for(r=new Uint8Array(i.length),o=0;o<r.length;o++)r[o]=i.charCodeAt(o);n(new t.Blob([r],{type:a.type}))})}(e):null;var n},jd=function(e){return new Ye(function(n){var i=new t.FileReader;i.onloadend=function(){n(i.result)},i.readAsDataURL(e)})},Ud=Hd,Gd=0,$d=0,Wd=function(t){return t+$d+++function(){function t(){return Math.round(4294967295*Math.random()).toString(36)}return"s"+(new Date).getTime().toString(36)+t()+t()+t()}()};function qd(t,e){return function(t,e,n){return Me(e,t)?function(t){return t.slice(0,-1)}(function(t,e){for(var n=F(e)?e:l,i=t.dom(),r=[];null!=i.parentNode;){var o=i.parentNode,a=ve.fromDom(o);if(r.push(a),!0===n(a))break;i=o}return r}(t,function(t){return n(t)||_t(t,e)})):[]}(t,e,i(!1))}function Xd(t,e){return t.hasOwnProperty(e.nodeName)}function Yd(t,e){if(Xt.isText(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||Xd(t,e.nextSibling)))return!0}return!1}function Qd(t){var e,n,i,r,o,a,s,c,l,u,d=t.dom,h=t.selection,f=t.schema,g=f.getBlockElements(),p=h.getStart(),m=t.getBody(),v=ku(t);if(p&&Xt.isElement(p)&&v&&(u=m.nodeName.toLowerCase(),f.isValidChild(u,v.toLowerCase())&&!function(t,e,n){return y(th(ve.fromDom(p),ve.fromDom(e)),function(e){return Xd(t,e.dom())})}(g,m))){for(n=(e=h.getRng()).startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,l=ad(t),p=m.firstChild;p;)if(b=g,Xt.isText(_=p)||Xt.isElement(_)&&!Xd(b,_)&&!Sl(_)){if(Yd(g,p)){p=(s=p).nextSibling,d.remove(s);continue}a||(a=d.create(v,zu(t)),p.parentNode.insertBefore(a,p),c=!0),p=(s=p).nextSibling,a.appendChild(s)}else a=null,p=p.nextSibling;var b,_;c&&l&&(e.setStart(n,i),e.setEnd(r,o),h.setRng(e),t.nodeChanged())}}function Jd(t,e,n,i){var r=n,o=new xo(n,r),a=t.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Pn.trim(n.nodeValue).length)return void(i?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n));if(Nn.ie&&Nn.ie<11&&t.isBlock(n)&&t.isEmpty(n))return void(i?e.setStart(n,0):e.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?e.setStart(r,0):e.setEnd(r,r.childNodes.length))}function Zd(t){var e=t.selection.getSel();return e&&0<e.rangeCount}var th=qd,eh=function(t,e){return[t].concat(qd(t,e))},nh=function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},ih=function(t){return Kt(t).fold(i([t]),function(e){return[t].concat(ih(e))})},rh=function(t){return At(t).fold(i([t]),function(e){return"br"===it(e)?St(e).map(function(e){return[t].concat(rh(e))}).getOr([]):[t].concat(rh(e))})},oh=(ah.prototype.nodeChanged=function(t){var e,n,i,r=this.editor.selection;this.editor.initialized&&r&&!this.editor.settings.disable_nodechange&&!this.editor.readonly&&(i=this.editor.getBody(),(e=r.getStart(!0)||i).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(e,i)||(e=i),n=[],this.editor.dom.getParent(e,function(t){if(t===i)return!0;n.push(t)}),(t=t||{}).element=e,t.parents=n,this.editor.fire("NodeChange",t))},ah.prototype.isSameElementPath=function(t){var e,n;if((n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t)).length===this.lastPath.length){for(e=n.length;0<=e&&n[e]===this.lastPath[e];e--);if(-1===e)return this.lastPath=n,!0}return this.lastPath=n,!1},ah);function ah(t){var e;this.lastPath=[],this.editor=t;var n=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",function(n){var i,r;r={startContainer:(i=t.selection.getRng()).startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset},"nodechange"!==n.type&&nh(r,e)||t.fire("SelectionChange"),e=r}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var e=t.selection.getStart(!0);!e||!Nn.range&&t.selection.isCollapsed()||Zd(t)&&!n.isSameElementPath(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",function(e){!e.isDefaultPrevented()&&Zd(t)&&("IMG"===t.selection.getNode().nodeName?Cn.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())})}function sh(t){var e,n,i,r;return r=t.getBoundingClientRect(),n=(e=t.ownerDocument).documentElement,{top:r.top+(i=e.defaultView).pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}}function ch(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function lh(t){return C(t,function(t,e){return t.concat(function(t){function e(e){return V(e,function(e){return(e=Ka(e)).node=t,e})}if(Xt.isElement(t))return e(t.getClientRects());if(Xt.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}}(e))},[])}var uh,dh,hh=Xt.isContentEditableFalse,fh=Xt.isContentEditableTrue,gh=function(t){t.dragging=!1,t.element=null,ch(t.ghost)},ph=function(e){var n;(function(e){var n,i,r,o,a,s,c={};n=Ro.DOM,s=t.document,i=function(t,e){return function(n){if(function(t){return 0===t.button}(n)){var i=x(e.dom.getParents(n.target),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ms.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}}(hh,fh)).getOr(null);if(function(t,e){return hh(e)&&e!==t}(e.getBody(),i)){var r=e.dom.getPos(i),o=e.getBody(),a=e.getDoc().documentElement;t.element=i,t.screenX=n.screenX,t.screenY=n.screenY,t.maxX=(e.inline?o.scrollWidth:a.offsetWidth)-2,t.maxY=(e.inline?o.scrollHeight:a.offsetHeight)-2,t.relX=n.pageX-r.x,t.relY=n.pageY-r.y,t.width=i.offsetWidth,t.height=i.offsetHeight,t.ghost=function(t,e,n,i){var r=e.cloneNode(!0);t.dom.setStyles(r,{width:n,height:i}),t.dom.setAttrib(r,"data-mce-selected",null);var o=t.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),t.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o}(e,i,t.width,t.height)}}}}(c,e),r=function(t,e){var n=Cn.throttle(function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)},0);return function(i){var r=Math.max(Math.abs(i.screenX-t.screenX),Math.abs(i.screenY-t.screenY));if(t.element&&!t.dragging&&10<r){if(e.fire("dragstart",{target:t.element}).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var o=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}}(t,function(t,e){return function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}}(function(t){return t.inline?sh(t.getBody()):{left:0,top:0}}(t),function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}}(t),function(t,e){if(e.target.ownerDocument===t.getDoc())return{left:e.pageX,top:e.pageY};var n=sh(t.getContentAreaContainer()),i=function(t){var e=t.getBody(),n=t.getDoc().documentElement;return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop}}(t);return{left:e.pageX-n.left+i.left,top:e.pageY-n.top+i.top}}(t,e))}(e,i));!function(t,e){t.parentNode!==e&&e.appendChild(t)}(t.ghost,e.getBody()),function(t,e,n,i,r,o){var a=0,s=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>r&&(a=e.pageX+n-r),e.pageY+i>o&&(s=e.pageY+i-o),t.style.width=n-a+"px",t.style.height=i-s+"px"}(t.ghost,o,t.width,t.height,t.maxX,t.maxY),n(i.clientX,i.clientY)}}}(c,e),o=function(t,e){return function(n){if(t.dragging&&function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!hh(e)}(e,function(t){var n=e.selection.getSel().getRangeAt(0).startContainer;return 3===n.nodeType?n.parentNode:n}(),t.element)){var i=function(e){var n=t.element.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n}(),r=e.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(i=r.targetClone,e.undoManager.transact(function(){ch(t.element),e.insertContent(e.dom.getOuterHTML(i)),e._selectionOverrides.hideFakeCaret()}))}gh(t)}}(c,e),a=function(t,e){return function(){t.dragging&&e.fire("dragend"),gh(t)}}(c,e),e.on("mousedown",i),e.on("mousemove",r),e.on("mouseup",o),n.bind(s,"mousemove",r),n.bind(s,"mouseup",a),e.on("remove",function(){n.unbind(s,"mousemove",r),n.unbind(s,"mouseup",a)})})(e),(n=e).on("drop",function(t){var e=void 0!==t.clientX?n.getDoc().elementFromPoint(t.clientX,t.clientY):null;(hh(e)||hh(n.dom.getContentEditableParent(e)))&&t.preventDefault()})};function mh(t,e,n,i,r,o){function a(i){var o,a,s;for(s=lh([i]),-1===t&&(s=s.reverse()),o=0;o<s.length;o++)if(!n(a=s[o],c)){if(0<u.length&&e(a,An.last(u))&&l++,a.line=l,r(a))return!0;u.push(a)}}var s,c,l=0,u=[];return(c=An.last(o.getClientRects()))&&(a(s=o.getNode()),function(t,e,n,i){for(;i=ic(i,t,Na,e);)if(n(i))return}(t,i,a,s)),u}function vh(t){return function(e){return function(t,e){return e.line>t}(t,e)}}function yh(t){return function(e){return function(t,e){return e.line===t}(t,e)}}function bh(t,e){return Math.abs(t.left-e)}function _h(t,e){return Math.abs(t.right-e)}function wh(t,e){return t>=e.left&&t<=e.right}function Ch(t,e){return An.reduce(t,function(t,n){var i,r;return i=Math.min(bh(t,e),_h(t,e)),r=Math.min(bh(n,e),_h(n,e)),wh(e,n)?n:wh(e,t)?t:r===i&&mf(n.node)?n:r<i?n:t})}function xh(t,e,n,i){for(;i=vf(i,t,Na,e);)if(n(i))return}function Sh(t,e,n){var i,r=lh(function(t){return _(U(t.getElementsByTagName("*")),Zs)}(t));return(i=(i=Ch(_(r,function(t){return n>=t.top&&n<=t.bottom}),e))&&Ch(function(t,e){function n(t,n){var r;return r=_(lh([n]),function(n){return!t(n,e)}),i=i.concat(r),0===r.length}var i=[];return i.push(e),xh(uh.Up,t,o(n,Da),e.node),xh(uh.Down,t,o(n,Pa),e.node),i}(t,i),e))&&Zs(i.node)?function(t,e){return{node:t.node,before:bh(t,e)<_h(t,e)}}(i,e):null}function Th(t,e,n,i,r){return e._selectionOverrides.showCaret(t,n,i,r)}function kh(t,e){return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}(e)}function zh(t,e,n){var i=lc(1,t.getBody(),e),r=vc.fromRangeStart(i),o=r.getNode();if(_f(o))return Th(1,t,o,!r.isAtEnd(),!1);var a=r.getNode(!0);if(_f(a))return Th(1,t,a,!1,!1);var s=t.dom.getParent(r.getNode(),function(t){return _f(t)||bf(t)});return _f(s)?Th(1,t,s,!1,n):null}function Eh(t,e,n){return e&&e.collapsed&&zh(t,e,n)||e}function Nh(t){return/^[\r\n\t ]$/.test(t)}function Kh(t){return!Nh(t)&&!xf(t)}function Ah(t,e,n){return A.from(n.container()).filter(Xt.isText).exists(function(i){var r=t?0:-1;return e(i.data.charAt(n.offset()+r))})}function Mh(t){var e=t.container();return Xt.isText(e)&&0===e.data.length}function Dh(t,e){return function(n){return A.from(ac(t?0:-1,n)).filter(e).isSome()}}function Ph(t){return"IMG"===t.nodeName&&"block"===pt(ve.fromDom(t),"display")}function Rh(t){return Xt.isContentEditableFalse(t)&&!Xt.isBogusAll(t)}function Lh(t,e){for(var n=t.getBody();e&&e!==n;){if(Mf(e)||Df(e))return e;e=e.parentNode}return null}function Fh(e){function n(t){t&&e.selection.setRng(t)}function i(){return e.selection.getRng()}function r(t,n,i,r){return void 0===r&&(r=!0),e.fire("ShowCaret",{target:n,direction:t,before:i}).isDefaultPrevented()?null:(r&&e.selection.scrollIntoView(n,-1===t),d.show(i,n))}function o(t,e){return e=lc(t,u,e),-1===t?vc.fromRangeStart(e):vc.fromRangeEnd(e)}function a(t){return xa(t)||is(t)||rs(t)}var s,c,l,u=e.getBody(),d=function(n,i,r){var o,a,s=Vo(A.none()),c=function(){!function(t){var e,n,i,r,o;for(e=Co("*[contentEditable=false]",t),r=0;r<e.length;r++)i=(n=e[r]).previousSibling,rs(i)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(o.length-1,1)),is(i=n.nextSibling)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))}(n),a&&(Nc.remove(a),a=null),s.get().each(function(t){Co(t.caret).remove(),s.set(A.none())}),Cn.clearInterval(o)},l=function(){o=Cn.setInterval(function(){ad(e)?Co("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):Co("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)};return{show:function(i,r){var o,u;if(c(),function(t){return Xt.isElement(t)&&/^(TD|TH)$/i.test(t.tagName)}(r))return null;if(!function(t){return e.dom.isBlock(t)}(r))return a=function(t,e){var n,i,r;if(i=t.ownerDocument.createTextNode(Za),r=t.parentNode,e){if(ns(n=t.previousSibling)){if(xa(n))return n;if(rs(n))return n.splitText(n.data.length-1)}r.insertBefore(i,t)}else{if(ns(n=t.nextSibling)){if(xa(n))return n;if(is(n))return n.splitText(1),n}t.nextSibling?r.insertBefore(i,t.nextSibling):r.appendChild(i)}return i}(r,i),u=r.ownerDocument.createRange(),Ac(a.nextSibling)?(u.setStart(a,0),u.setEnd(a,0)):(u.setStart(a,1),u.setEnd(a,1)),u;a=function(e,n,i){var r,o;return(r=n.ownerDocument.createElement("p")).setAttribute("data-mce-caret",i?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(function(){var e=t.document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e}()),o=n.parentNode,i?o.insertBefore(r,n):n.nextSibling?o.insertBefore(r,n.nextSibling):o.appendChild(r),r}(0,r,i),o=Qs(n,r,i),Co(a).css("top",o.top);var d=Co('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(n)[0];return s.set(A.some({caret:d,element:r,before:i})),s.get().each(function(t){i&&Co(t.caret).addClass("mce-visual-caret-before")}),l(),(u=r.ownerDocument.createRange()).setStart(a,0),u.setEnd(a,0),u},hide:c,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){s.get().each(function(t){var e=Qs(n,t.element,t.before);Co(t.caret).css(G({},e))})},destroy:function(){return Cn.clearInterval(o)}}}(e.getBody()),h="sel-"+e.dom.uniqueId(),f=function(t){return a(t.startContainer)||a(t.endContainer)},g=function(t,n){var i,a,c,l,u,d,g,p,v,y,_=e.$,w=e.dom;if(!t)return null;if(t.collapsed){if(!f(t))if(!1===n){if(Zs((p=o(-1,t)).getNode(!0)))return r(-1,p.getNode(!0),!1,!1);if(Zs(p.getNode()))return r(-1,p.getNode(),!p.isAtEnd(),!1)}else{if(Zs((p=o(1,t)).getNode()))return r(1,p.getNode(),!p.isAtEnd(),!1);if(Zs(p.getNode(!0)))return r(1,p.getNode(!0),!1,!1)}return null}return u=t.startOffset,d=t.endOffset,3===(l=t.startContainer).nodeType&&0===u&&Df(l.parentNode)&&(u=w.nodeIndex(l=l.parentNode),l=l.parentNode),1!==l.nodeType?null:(d===u+1&&l===t.endContainer&&(i=l.childNodes[u]),Df(i)?(v=y=i.cloneNode(!0),(g=e.fire("ObjectSelected",{target:i,targetClone:v})).isDefaultPrevented()?null:(a=ga(ve.fromDom(e.getBody()),"#"+h).fold(function(){return _([])},function(t){return _([t.dom()])}),v=g.targetClone,0===a.length&&(a=_('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",h)).appendTo(e.getBody()),t=e.dom.createRng(),v===y&&Nn.ie?(a.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(v),t.setStartAfter(a[0].firstChild.firstChild),t.setEndAfter(v)):(a.empty().append("\xa0").append(v).append("\xa0"),t.setStart(a[0].firstChild,1),t.setEnd(a[0].lastChild,0)),a.css({top:w.getPos(i,e.getBody()).y}),a[0].focus(),(c=e.selection.getSel()).removeAllRanges(),c.addRange(t),b(oa(ve.fromDom(e.getBody()),"*[data-mce-selected]"),function(t){gt(t,"data-mce-selected")}),i.setAttribute("data-mce-selected","1"),s=i,m(),t)):null)},p=function(){s&&(s.removeAttribute("data-mce-selected"),ga(ve.fromDom(e.getBody()),"#"+h).each(ca),s=null),ga(ve.fromDom(e.getBody()),"#"+h).each(ca),s=null},m=function(){d.hide()};return Nn.ceFalse&&(e.on("mouseup",function(t){var r=i();r.collapsed&&kd(e,t.clientX,t.clientY)&&n(zh(e,r,!1))}),e.on("click",function(t){var n;(n=Lh(e,t.target))&&(Df(n)&&(t.preventDefault(),e.focus()),Mf(n)&&e.dom.isChildOf(n,e.selection.getNode())&&p())}),e.on("blur NewBlock",function(){p()}),e.on("ResizeWindow FullscreenStateChanged",function(){return d.reposition()}),l=!1,(c=e).on("touchstart",function(){l=!1}),c.on("touchmove",function(){l=!0}),c.on("touchend",function(t){var e=Lh(c,t.target);Df(e)&&(l||(t.preventDefault(),g(kh(c,e))))}),e.on("mousedown",function(t){var i,o=t.target;if((o===u||"HTML"===o.nodeName||e.dom.isChildOf(o,u))&&!1!==kd(e,t.clientX,t.clientY))if(i=Lh(e,o))Df(i)?(t.preventDefault(),g(kh(e,i))):(p(),Mf(i)&&t.shiftKey||yf(t.clientX,t.clientY,e.selection.getRng())||(m(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===Zs(o)){p(),m();var a=Sh(u,t.clientX,t.clientY);if(a&&!function(t,n){var i=e.dom.getParent(t,e.dom.isBlock),r=e.dom.getParent(n,e.dom.isBlock);return!(!i||!e.dom.isChildOf(i,r)||!1!==Df(Lh(e,i)))||i&&!function(t,n){return e.dom.getParent(i,e.dom.isBlock)===e.dom.getParent(n,e.dom.isBlock)}(0,r)&&function(t){var e=Vc(t);if(!t.firstChild)return!1;var n=vc.before(t.firstChild),i=e.next(n);return i&&!Kf(i)&&!Af(i)}(i)}(t.target,a.node)){t.preventDefault();var s=r(1,a.node,a.before,!1);e.getBody().focus(),n(s)}}}),e.on("keypress",function(t){Cf.modifierPressed(t)||Df(e.selection.getNode())&&t.preventDefault()}),e.on("GetSelectionRange",function(t){var e=t.range;if(s){if(!s.parentNode)return void(s=null);(e=e.cloneRange()).selectNode(s),t.range=e}}),e.on("SetSelectionRange",function(t){var e;(e=g(t.range,t.forward))&&(t.range=e)}),e.on("AfterSetSelectionRange",function(t){var n=t.range;f(n)||"mcepastebin"===n.startContainer.parentNode.id||m(),e.dom.hasClass(n.startContainer.parentNode,"mce-offscreen-selection")||p()}),e.on("copy",function(t){var n=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!Nn.ie){var i=function(){var t=e.dom.get(h);return t?t.getElementsByTagName("*")[0]:t}();i&&(t.preventDefault(),n.clearData(),n.setData("text/html",i.outerHTML),n.setData("text/plain",i.outerText))}}),ph(e),wf(e)),{showCaret:r,showBlockCaretContainer:function(t){t.hasAttribute("data-mce-caret")&&(za(t),n(i()),e.selection.scrollIntoView(t[0]))},hideFakeCaret:m,destroy:function(){d.destroy(),s=null}}}function Bh(t){return Xt.isElement(t)?t.outerHTML:Xt.isText(t)?li.encodeRaw(t.data,!1):Xt.isComment(t)?"\x3c!--"+t.data+"--\x3e":""}function Oh(t){return"fragmented"===t.type?t.fragments.join(""):t.content}function Hh(e){var n=ve.fromTag("body",Pf.get().getOrThunk(function(){var e=t.document.implementation.createHTMLDocument("undo");return Pf.set(A.some(e)),e}));return _a(n,Oh(e)),b(oa(n,"*[data-mce-bogus]"),Zo),n.dom().innerHTML}function Ih(t){function e(){return 0===d}function n(t){e()&&(c.typing=t)}function i(e){t.setDirty(e)}function r(t){n(!1),c.add({},t)}function o(){c.typing&&(n(!1),c.add())}var a,s,c=this,l=0,u=[],d=0;return t.on("init",function(){c.add()}),t.on("BeforeExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(o(),c.beforeChange())}),t.on("ExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&r(t)}),t.on("ObjectResizeStart cut",function(){c.beforeChange()}),t.on("SaveContent ObjectResized blur",r),t.on("dragend",r),t.on("keyup",function(e){var n=e.keyCode;e.isDefaultPrevented()||((33<=n&&n<=36||37<=n&&n<=40||45===n||e.ctrlKey)&&(r(),t.nodeChanged()),46!==n&&8!==n||t.nodeChanged(),s&&c.typing&&!1===Ff(Rf(t),u[0])&&(!1===t.isDirty()&&(i(!0),t.fire("change",{level:u[0],lastLevel:null})),t.fire("TypingUndo"),s=!1,t.nodeChanged()))}),t.on("keydown",function(t){var e=t.keyCode;t.isDefaultPrevented()||(33<=e&&e<=36||37<=e&&e<=40||45===e?c.typing&&r(t):!(e<16||20<e)||224===e||91===e||c.typing||t.ctrlKey&&!t.altKey||t.metaKey||(c.beforeChange(),n(!0),c.add({},t),s=!0))}),t.on("mousedown",function(t){c.typing&&r(t)}),t.on("input",function(t){t.inputType&&(function(t){return"insertReplacementText"===t.inputType}(t)||function(t){return"insertText"===t.inputType&&null===t.data}(t))&&r(t)}),t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||t.nodeChanged()}),c={data:u,typing:!1,beforeChange:function(){e()&&(a=Sc.getUndoBookmark(t.selection))},add:function(n,r){var o,s,c,d=t.settings;if(c=Rf(t),n=Pn.extend(n=n||{},c),!1===e()||t.removed)return null;if(t.fire("BeforeAddUndo",{level:n,lastLevel:s=u[l],originalEvent:r}).isDefaultPrevented())return null;if(s&&Ff(s,n))return null;if(u[l]&&(u[l].beforeBookmark=a),d.custom_undo_redo_levels&&u.length>d.custom_undo_redo_levels){for(o=0;o<u.length-1;o++)u[o]=u[o+1];u.length--,l=u.length}n.bookmark=Sc.getUndoBookmark(t.selection),l<u.length-1&&(u.length=l+1),u.push(n),l=u.length-1;var h={level:n,lastLevel:s,originalEvent:r};return t.fire("AddUndo",h),0<l&&(i(!0),t.fire("change",h)),n},undo:function(){var e;return c.typing&&(c.add(),c.typing=!1,n(!1)),0<l&&(e=u[--l],Lf(t,e,!0),i(!0),t.fire("Undo",{level:e})),e},redo:function(){var e;return l<u.length-1&&(e=u[++l],Lf(t,e,!1),i(!0),t.fire("Redo",{level:e})),e},clear:function(){u=[],l=0,c.typing=!1,c.data=u,t.fire("ClearUndos")},reset:function(){c.clear(),c.add()},hasUndo:function(){return 0<l||c.typing&&u[0]&&!Ff(Rf(t),u[0])},hasRedo:function(){return l<u.length-1&&!c.typing},transact:function(t){return o(),c.beforeChange(),c.ignore(t),c.add()},ignore:function(t){try{d++,t()}finally{d--}},extra:function(e,n){var i;c.transact(e)&&(i=u[l].bookmark,Lf(t,u[l-1],!0),c.transact(n)&&(u[l-1].beforeBookmark=i))}}}function Vh(t,e,n){var i=t.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&t.dom.is(e,i[r].selector))return!0;return!1}function jh(t,e,n,i){var r=t.dom.getRoot();return e!==r&&(e=t.dom.getParent(e,function(e){return!!Vh(t,e,n)||e.parentNode===r||!!Vf(t,e,n,i,!0)}),Vf(t,e,n,i))}function Uh(t,e,n){return!!If(e,n.inline)||!!If(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0)}function Gh(t,e,n,i,r,o){var a,s,c,l=n[i];if(n.onmatch)return n.onmatch(e,n,i);if(l)if(void 0===l.length){for(a in l)if(l.hasOwnProperty(a)){if(s="attributes"===i?t.getAttrib(e,a):kl.getStyle(t,e,a),r&&!s&&!n.exact)return;if((!r||n.exact)&&!If(s,kl.normalizeStyleValue(t,kl.replaceVars(l[a],o),a)))return}}else for(c=0;c<l.length;c++)if("attributes"===i?t.getAttrib(e,l[c]):kl.getStyle(t,e,l[c]))return n;return n}function $h(t,e){return t.splitText(e)}function Wh(t){var e=t.startContainer,n=t.startOffset,i=t.endContainer,r=t.endOffset;return e===i&&Xt.isText(e)?0<n&&n<e.nodeValue.length&&(e=(i=$h(e,n)).previousSibling,n<r?(e=i=$h(i,r-=n).previousSibling,r=i.nodeValue.length,n=0):r=0):(Xt.isText(e)&&0<n&&n<e.nodeValue.length&&(e=$h(e,n),n=0),Xt.isText(i)&&0<r&&r<i.nodeValue.length&&(r=(i=$h(i,r).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:i,endOffset:r}}function qh(t,e,n){if(0!==n){var i=t.data.slice(e,e+n);t.replaceData(e,n,function(t,e,n){return C(t,function(i,r){return-1!==" \f\n\r\t\v".indexOf(r)||"\xa0"===r?i.previousCharIsSpace||""===i.str&&e||i.str.length===t.length-1&&n?{previousCharIsSpace:!1,str:i.str+"\xa0"}:{previousCharIsSpace:!0,str:i.str+" "}:{previousCharIsSpace:!1,str:i.str+r}},{previousCharIsSpace:!1,str:""}).str}(i,0===e,e+n>=t.data.length))}}function Xh(t,e){var n=t.data.slice(e);return qh(t,e,n.length-n.replace(/^\s+/g,"").length)}function Yh(t,e){return Ea(e)&&!1===function(t,e){return Xt.isText(e)&&/^[ \t\r\n]*$/.test(e.data)&&!1===function(t,e){var n=ve.fromDom(t);return function(t,e,n){return fa(t,"pre,code",n).isSome()}(ve.fromDom(e),0,o(_t,n))}(t,e)}(t,e)||function(t){return Xt.isElement(t)&&"A"===t.nodeName&&t.hasAttribute("name")}(e)||Uf(e)}function Qh(t,e){return function(t,e){var n=t.container(),i=t.offset();return!1===vc.isTextPosition(t)&&n===e.parentNode&&i>vc.before(e).offset()}(e,t)?vc(e.container(),e.offset()-1):e}function Jh(t){return Ea(t.previousSibling)?A.some(function(t){return Xt.isText(t)?vc(t,t.data.length):vc.after(t)}(t.previousSibling)):t.previousSibling?wl.lastPositionIn(t.previousSibling):A.none()}function Zh(t){return Ea(t.nextSibling)?A.some(function(t){return Xt.isText(t)?vc(t,0):vc.before(t)}(t.nextSibling)):t.nextSibling?wl.firstPositionIn(t.nextSibling):A.none()}function tf(t,e,n){n.fold(function(){t.focus()},function(n){t.selection.setRng(n.toRange(),e)})}function ef(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(it(e))}function nf(t){if(Wf(t)){var e=ve.fromHtml('<br data-mce-bogus="1">');return Jo(t),sa(t,e),A.some(vc.before(e.dom()))}return A.none()}function rf(t){return 0<function(t){for(var e=[];t;){if(3===t.nodeType&&t.nodeValue!==Xf||1<t.childNodes.length)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e}(t).length}function of(t){if(t){var e=new xo(t,t);for(t=e.current();t;t=e.next())if(3===t.nodeType)return t}return null}function af(t){var e=ve.fromTag("span");return ht(e,{id:Yf,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&sa(e,ve.fromText(Xf)),e}function sf(t,e,n){void 0===n&&(n=!0);var i=t.dom,r=t.selection;if(rf(e))qf(t,!1,ve.fromDom(e),n);else{var o=r.getRng(),a=i.getParent(e,i.isBlock),s=function(t){var e=of(t);return e&&e.nodeValue.charAt(0)===Xf&&e.deleteData(0,1),e}(e);o.startContainer===s&&0<o.startOffset&&o.setStart(s,o.startOffset-1),o.endContainer===s&&0<o.endOffset&&o.setEnd(s,o.endOffset-1),i.remove(e,!0),a&&i.isEmpty(a)&&Of(ve.fromDom(a)),r.setRng(o)}}function cf(t,e,n){void 0===n&&(n=!0);var i=t.dom,r=t.selection;if(e)sf(t,e,n);else if(!(e=$s(t.getBody(),r.getStart())))for(;e=i.get(Yf);)sf(t,e,!1)}function lf(t,e,n){var i=t.dom,r=i.getParent(n,o(kl.isTextBlock,t));r&&i.isEmpty(r)?n.parentNode.replaceChild(e,n):(Bf(ve.fromDom(n)),i.isEmpty(n)?n.parentNode.replaceChild(e,n):i.insertAfter(e,n))}function uf(t,e){return t.appendChild(e),e}function df(t,e){var n=w(t,function(t,e){return uf(t,e.cloneNode(!1))},e);return uf(n,n.ownerDocument.createTextNode(Xf))}function hf(t,e){return t.schema.getTextInlineElements().hasOwnProperty(it(e))&&!Gs(e.dom())&&!Xt.isBogus(e.dom())}(dh=uh=uh||{})[dh.Up=-1]="Up",dh[dh.Down=1]="Down";var ff,gf=o(mh,uh.Up,Da,Pa),pf=o(mh,uh.Down,Pa,Da),mf=Xt.isContentEditableFalse,vf=ic,yf=function(t,e,n){if(n.collapsed)return!1;if(Nn.ie&&Nn.ie<=11&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var i=n.startContainer.childNodes[n.startOffset];if(Xt.isElement(i))return y(i.getClientRects(),function(n){return Ra(n,t,e)})}return y(n.getClientRects(),function(n){return Ra(n,t,e)})},bf=Xt.isContentEditableTrue,_f=Xt.isContentEditableFalse,wf=function(e){var n=ta(function(){if(!e.removed&&e.getBody().contains(t.document.activeElement)&&e.selection.getRng().collapsed){var n=Eh(e,e.selection.getRng(),!1);e.selection.setRng(n)}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},Cf={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return Nn.mac?t.metaKey:t.ctrlKey&&!t.altKey}},xf=function(t){return"\xa0"===t},Sf=o(Ah,!0,Nh),Tf=o(Ah,!1,Nh),kf=Dh(!0,Ph),zf=Dh(!1,Ph),Ef=Dh(!0,Xt.isTable),Nf=Dh(!1,Xt.isTable),Kf=Dh(!0,Rh),Af=Dh(!1,Rh),Mf=Xt.isContentEditableTrue,Df=Xt.isContentEditableFalse,Pf=Vo(A.none()),Rf=function(t){var e,n;return function(t){return-1!==t.indexOf("</iframe>")}(e=(n=T(function(t){return _(V(U(t.childNodes),Bh),function(t){return 0<t.length})}(t.getBody()),function(e){var n=xu.trimInternal(t.serializer,e);return 0<n.length?[n]:[]})).join(""))?{type:"fragmented",fragments:n,content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Lf=function(e,n,i){"fragmented"===n.type?function(e,n){!function(e,n){var i=0;b(e,function(e){0===e[0]?i++:1===e[0]?(function(e,n,i){var r=function(e){var n,i,r;for(r=t.document.createElement("div"),n=t.document.createDocumentFragment(),e&&(r.innerHTML=e);i=r.firstChild;)n.appendChild(i);return n}(n);if(e.hasChildNodes()&&i<e.childNodes.length){var o=e.childNodes[i];o.parentNode.insertBefore(r,o)}else e.appendChild(r)}(n,e[1],i),i++):2===e[0]&&function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}}(n,i)})}(function(t,e){function n(n,i,r,o){for(var a=n;a-i<o&&a<r&&t[a]===e[a-i];)++a;return function(t,e,n){return{start:t,end:a,diag:n}}(n,0,i)}var i=t.length+e.length+2,r=new Array(i),o=new Array(i),a=function(n,i,r,o,c){var l=s(n,i,r,o);if(null===l||l.start===i&&l.diag===i-o||l.end===n&&l.diag===n-r)for(var u=n,d=r;u<i||d<o;)u<i&&d<o&&t[u]===e[d]?(c.push([0,t[u]]),++u,++d):o-r<i-n?(c.push([2,t[u]]),++u):(c.push([1,e[d]]),++d);else{a(n,l.start,r,l.start-l.diag,c);for(var h=l.start;h<l.end;++h)c.push([0,t[h]]);a(l.end,i,l.end-l.diag,o,c)}},s=function(i,a,s,c){var l=a-i,u=c-s;if(0==l||0==u)return null;var d,h,f,g,p,m=l-u,v=u+l,y=(v%2==0?v:1+v)/2;for(r[1+y]=i,o[1+y]=a+1,d=0;d<=y;++d){for(h=-d;h<=d;h+=2){for(r[f=h+y]=h===-d||h!==d&&r[f-1]<r[f+1]?r[f+1]:r[f-1]+1,p=(g=r[f])-i+s-h;g<a&&p<c&&t[g]===e[p];)r[f]=++g,++p;if(m%2!=0&&m-d<=h&&h<=m+d&&o[f-m]<=r[f])return n(o[f-m],h+i-s,a,c)}for(h=m-d;h<=m+d;h+=2){for(o[f=h+y-m]=h===m-d||h!==m+d&&o[f+1]<=o[f-1]?o[f+1]-1:o[f-1],p=(g=o[f]-1)-i+s-h;i<=g&&s<=p&&t[g]===e[p];)o[f]=g--,p--;if(m%2==0&&-d<=h&&h<=d&&o[f]<=r[f+m])return n(o[f],h+i-s,a,c)}}},c=[];return a(0,t.length,0,e.length,c),c}(V(U(n.childNodes),Bh),e),n)}(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw"}),e.selection.moveToBookmark(i?n.beforeBookmark:n.bookmark)},Ff=function(t,e){return!(!t||!e)&&(!!function(t,e){return Oh(t)===Oh(e)}(t,e)||function(t,e){return Hh(t)===Hh(e)}(t,e))},Bf=function(t){var e=oa(t,"br"),n=_(function(t){for(var e=[],n=t.dom();n;)e.push(ve.fromDom(n)),n=n.lastChild;return e}(t).slice(-1),Fn);e.length===n.length&&b(n,ca)},Of=function(t){Jo(t),sa(t,ve.fromHtml('<br data-mce-bogus="1">'))},Hf=function(t){At(t).each(function(e){St(e).each(function(n){jn(t)&&Fn(e)&&jn(n)&&ca(e)})})},If=kl.isEq,Vf=function(t,e,n,i,r){var o,a,s,c,l=t.formatter.get(n),u=t.dom;if(l&&e)for(a=0;a<l.length;a++)if(Uh(t.dom,e,o=l[a])&&Gh(u,e,o,"attributes",r,i)&&Gh(u,e,o,"styles",r,i)){if(c=o.classes)for(s=0;s<c.length;s++)if(!t.dom.hasClass(e,c[s]))return;return o}},jf={matchNode:Vf,matchName:Uh,match:function(t,e,n,i){var r;return i?jh(t,i,e,n):(i=t.selection.getNode(),!!jh(t,i,e,n)||!((r=t.selection.getStart())===i||!jh(t,r,e,n)))},matchAll:function(t,e,n){var i,r=[],o={};return i=t.selection.getStart(),t.dom.getParent(i,function(i){var a,s;for(a=0;a<e.length;a++)!o[s=e[a]]&&Vf(t,i,s,n)&&(o[s]=!0,r.push(s))},t.dom.getRoot()),r},canApply:function(t,e){var n,i,r,o,a,s=t.formatter.get(e),c=t.dom;if(s)for(n=t.selection.getStart(),i=kl.getParents(c,n),o=s.length-1;0<=o;o--){if(!(a=s[o].selector)||s[o].defaultBlock)return!0;for(r=i.length-1;0<=r;r--)if(c.is(i[r],a))return!0}return!1},matchesUnInheritedFormatSelector:Vh},Uf=Xt.hasAttribute("data-mce-bookmark"),Gf=Xt.hasAttribute("data-mce-bogus"),$f=Xt.hasAttributeValue("data-mce-bogus","all"),Wf=function(t){return function(t){var e,n=0;if(Yh(t,t))return!1;if(!(e=t.firstChild))return!0;var i=new xo(e,t);do{if($f(e))e=i.next(!0);else if(Gf(e))e=i.next();else if(Xt.isBr(e))n++,e=i.next();else{if(Yh(t,e))return!1;e=i.next()}}while(e);return n<=1}(t.dom())},qf=function(t,e,n,i){void 0===i&&(i=!0);var r=function(t,e,n){return function(t,e,n){return t?function(t,e){return Zh(e).orThunk(function(){return Jh(e)}).orThunk(function(){return function(t,e){return wl.nextPosition(t,vc.after(e)).fold(function(){return wl.prevPosition(t,vc.before(e))},A.some)}(t,e)})}(e,n):function(t,e){return Jh(e).orThunk(function(){return Zh(e)}).orThunk(function(){return function(t,e){var n=vc.before(e.previousSibling?e.previousSibling:e.parentNode);return wl.prevPosition(t,n).fold(function(){return wl.nextPosition(t,vc.after(e))},A.some)}(t,e)})}(e,n)}(t,e,n).map(o(Qh,n))}(e,t.getBody(),n.dom()),a=da(n,o(ef,t),function(t){return function(e){return e.dom()===t}}(t.getBody())),s=function(t,e,n){var i=St(t).filter(Ce),r=Tt(t).filter(Ce);return ca(t),function(t,e,i,r){return t.isSome()&&e.isSome()&&i.isSome()?A.some(function(t,e,i){var r=t.dom(),o=e.dom(),a=r.data.length;return function(t,e,n){var i=et(t.data).length;t.appendData(e.data),ca(ve.fromDom(e)),n&&Xh(t,i)}(r,o,n),i.container()===o?vc(r,a):i}(t.getOrDie(),e.getOrDie(),i.getOrDie())):A.none()}(i,r,e).orThunk(function(){return n&&(i.each(function(t){return function(t,e){var n=t.data.slice(0,e),i=n.length-et(n).length;return qh(t,e-i,i)}(t.dom(),t.dom().length)}),r.each(function(t){return Xh(t.dom(),0)})),e})}(n,r,function(t,e){return ke(t.schema.getTextInlineElements(),it(e))}(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):a.bind(nf).fold(function(){i&&tf(t,e,s)},function(n){i&&tf(t,e,A.some(n))})},Xf=Za,Yf="_mce_caret",Qf={},Jf=An.filter,Zf=An.each;function tg(t){this.compare=function(e,n){if(e.nodeName!==n.nodeName)return!1;function i(e){var n={};return gg(t.getAttribs(e),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=t.getAttrib(e,r))}),n}function r(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(void 0===(n=e[i]))return!1;if(t[i]!==n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0}return!(!r(i(e),i(n))||!r(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))||Sl(e)||Sl(n))}}function eg(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)}function ng(t,e,n){var i,r,o;return r=e[n?"startOffset":"endOffset"],Xt.isElement(i=e[n?"startContainer":"endContainer"])&&(!n&&r&&r--,i=i.childNodes[(o=i.childNodes.length-1)<r?o:r]),Xt.isText(i)&&n&&r>=i.nodeValue.length&&(i=new xo(i,t.getBody()).next()||i),Xt.isText(i)&&!n&&0===r&&(i=new xo(i,t.getBody()).prev()||i),i}function ig(t,e,n,i){var r=t.create(n,i);return e.parentNode.insertBefore(r,e),r.appendChild(e),r}function rg(t,e,n,i,r){var o=ve.fromDom(e),a=ve.fromDom(t.create(i,r));return Qo(a,n?zt(o):kt(o)),n?(qo(o,a),Yo(a,o)):(Xo(o,a),sa(a,o)),a.dom()}function og(t,e,n,i){return!(e=kl.getNonWhiteSpaceSibling(e,n,i))||"BR"===e.nodeName||t.isBlock(e)}function ag(t,e,n,i,r){var o,a,s,c=t.dom;if(!(function(t,e,n){return!!vg(e,n.inline)||!!vg(e,n.block)||(n.selector?Xt.isElement(e)&&t.is(e,n.selector):void 0)}(c,i,e)||e.links&&"A"===i.tagName))return!1;if("all"!==e.remove)for(mg(e.styles,function(t,o){t=kl.normalizeStyleValue(c,kl.replaceVars(t,n),o),"number"==typeof o&&(o=t,r=0),!e.remove_similar&&r&&!vg(kl.getStyle(c,r,o),t)||c.setStyle(i,o,""),s=1}),s&&""===c.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),mg(e.attributes,function(t,o){var a;if(t=kl.replaceVars(t,n),"number"==typeof o&&(o=t,r=0),e.remove_similar||!r||vg(c.getAttrib(r,o),t)){if("class"===o&&(t=c.getAttrib(i,o))&&(a="",mg(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(a+=(a?" ":"")+t)}),a))return void c.setAttrib(i,o,a);"class"===o&&i.removeAttribute("className"),pg.test(o)&&i.removeAttribute("data-mce-"+o),i.removeAttribute(o)}}),mg(e.classes,function(t){t=kl.replaceVars(t,n),r&&!c.hasClass(r,t)||c.removeClass(i,t)}),a=c.getAttribs(i),o=0;o<a.length;o++){var l=a[o].nodeName;if(0!==l.indexOf("_")&&0!==l.indexOf("data-"))return!1}return"none"!==e.remove?(function(t,e,n){var i,r=e.parentNode,o=t.dom,a=ku(t);n.block&&(a?r===o.getRoot()&&(n.list_block&&vg(e,n.list_block)||mg(Pn.grep(e.childNodes),function(e){kl.isValid(t,a,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=ig(o,e,a),o.setAttribs(i,t.settings.forced_root_block_attrs)):i=0})):o.isBlock(e)&&!o.isBlock(r)&&(og(o,e,!1)||og(o,e.firstChild,!0,1)||e.insertBefore(o.create("br"),e.firstChild),og(o,e,!0)||og(o,e.lastChild,!1,1)||e.appendChild(o.create("br")))),n.selector&&n.inline&&!vg(n.inline,e)||o.remove(e,1)}(t,i,e),!0):void 0}function sg(t){return t&&1===t.nodeType&&!Sl(t)&&!Gs(t)&&!Xt.isBogus(t)}function cg(t,e){var n;for(n=t;n;n=n[e]){if(3===n.nodeType&&0!==n.nodeValue.length)return t;if(1===n.nodeType&&!Sl(n))return n}return t}function lg(t,e,n){var i,r,o=new tg(t);if(e&&n&&(e=cg(e,"previousSibling"),n=cg(n,"nextSibling"),o.compare(e,n))){for(i=e.nextSibling;i&&i!==n;)i=(r=i).nextSibling,e.appendChild(r);return t.remove(n),Pn.each(Pn.grep(n.childNodes),function(t){e.appendChild(t)}),e}return n}function ug(t,e){return o(function(e,n){return!(!n||!kl.getStyle(t,n,e))},e)}function dg(t,e,n){return o(function(e,n,i){t.setStyle(i,e,n),""===i.getAttribute("style")&&i.removeAttribute("style"),Cg(t,i)},e,n)}function hg(t,e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=kl.getTextDecoration(t,e.parentNode),t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null))}function fg(t,e,n,i,r){return null===e.get()&&function(t,e){var n=Vo({});t.set({}),e.on("NodeChange",function(i){Mg(e,i.element,n,t.get())})}(e,t),function(t,e,n,i){var r=t.get();b(e.split(","),function(t){r[t]||(r[t]={similar:i,callbacks:[]}),r[t].callbacks.push(n)}),t.set(r)}(e,n,i,r),{unbind:function(){return function(t,e,n){var i=t.get();b(e.split(","),function(t){i[t].callbacks=_(i[t].callbacks,function(t){return t!==n}),0===i[t].callbacks.length&&delete i[t]}),t.set(i)}(e,n,i)}}}ff=function(t){var e,n,i=t.selection.getRng();e=Xt.matchNodeNames(["pre"]),i.collapsed||(n=t.selection.getSelectedBlocks(),Zf(Jf(Jf(n,e),function(t){return e(t.previousSibling)&&-1!==An.indexOf(n,t.previousSibling)}),function(t){!function(t,e){Co(e).remove(),Co(t).append("<br><br>").append(e.childNodes)}(t.previousSibling,t)}))},Qf.pre||(Qf.pre=[]),Qf.pre.push(ff);var gg=Pn.each,pg=/^(src|href|style)$/,mg=Pn.each,vg=kl.isEq,yg=ag,bg=function(t,e,n,i,r){function o(i){var o=function(t,e,n,i,r){var o;return mg(kl.getParents(t.dom,e.parentNode).reverse(),function(e){var a;o||"_start"===e.id||"_end"===e.id||(a=jf.matchNode(t,e,n,i,r))&&!1!==a.split&&(o=e)}),o}(t,i,e,n,r);return function(t,e,n,i,r,o,a,s){var c,l,u,d,h,f,g=t.dom;if(n){for(f=n.parentNode,c=i.parentNode;c&&c!==f;c=c.parentNode){for(l=g.clone(c,!1),h=0;h<e.length;h++)if(ag(t,e[h],s,l,l)){l=0;break}l&&(u&&l.appendChild(u),d=d||l,u=l)}a.mixed&&g.isBlock(n)||(i=g.split(n,i)),u&&(r.parentNode.insertBefore(u,r),d.appendChild(r))}return i}(t,u,o,i,i,0,d,n)}function a(t){var e=f.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return function(t){return Sl(t)&&Xt.isElement(t)&&("_start"===t.id||"_end"===t.id)}(n)&&(n=n[t?"firstChild":"lastChild"]),Xt.isText(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),f.remove(e,!0),n}function s(e){var n,i,r=e.commonAncestorContainer;if(e=Al(t,e,u,!0),d.split){if(e=Wh(e),(n=ng(t,e,!0))!==(i=ng(t,e))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&/^(TH|TD)$/.test(i.nodeName)&&i.firstChild&&(i=i.firstChild||i),eg(f,n,i)){var s=A.from(n.firstChild).getOr(n);return o(rg(f,s,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void a(!0)}if(eg(f,i,n))return s=A.from(i.lastChild).getOr(i),o(rg(f,s,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void a(!1);n=ig(f,n,"span",{id:"_start","data-mce-type":"bookmark"}),i=ig(f,i,"span",{id:"_end","data-mce-type":"bookmark"}),o(n),o(i),n=a(!0),i=a()}else n=i=o(n);e.startContainer=n.parentNode?n.parentNode:n,e.startOffset=f.nodeIndex(n),e.endContainer=i.parentNode?i.parentNode:i,e.endOffset=f.nodeIndex(i)+1}Dl(f,e,function(e){mg(e,function(e){p(e),Xt.isElement(e)&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===kl.getTextDecoration(f,e.parentNode)&&ag(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var c,l,u=t.formatter.get(e),d=u[0],h=!0,f=t.dom,g=t.selection,p=function(e){var i,r,o,a,s;if(Xt.isElement(e)&&f.getContentEditable(e)&&(a=h,h="true"===f.getContentEditable(e),s=!0),i=Pn.grep(e.childNodes),h&&!s)for(r=0,o=u.length;r<o&&!ag(t,u[r],n,e,e);r++);if(d.deep&&i.length){for(r=0,o=i.length;r<o;r++)p(i[r]);s&&(h=a)}};if(i)i.nodeType?((l=f.createRng()).setStartBefore(i),l.setEndAfter(i),s(l)):s(i);else if("false"!==f.getContentEditable(g.getNode()))g.isCollapsed()&&d.inline&&!f.select("td[data-mce-selected],th[data-mce-selected]").length?function(t,e,n,i){var r,o,a,s,c,l,u=t.dom,d=t.selection,h=[],f=d.getRng();for(3===(s=r=f.startContainer).nodeType&&(f.startOffset!==r.nodeValue.length&&(a=!0),s=s.parentNode);s;){if(jf.matchNode(t,s,e,n,i)){c=s;break}s.nextSibling&&(a=!0),h.push(s),s=s.parentNode}if(c)if(a){o=d.getBookmark(),f.collapse(!0);var g=Al(t,f,t.formatter.get(e),!0);g=Wh(g),t.formatter.remove(e,n,g),d.moveToBookmark(o)}else{l=$s(t.getBody(),c);var p=af(!1).dom(),m=df(h,p);lf(t,p,l||c),sf(t,l,!1),d.setCursorLocation(m,1),u.isEmpty(c)&&u.remove(c)}}(t,e,n,r):(c=Sc.getPersistentBookmark(t.selection,!0),s(g.getRng()),g.moveToBookmark(c),d.inline&&jf.match(t,e,n,g.getStart())&&kl.moveStart(f,g,g.getRng()),t.nodeChanged());else{i=g.getNode();for(var m=0,v=u.length;m<v&&(!u[m].ceFalseOverride||!ag(t,u[m],n,i,i));m++);}},_g=Pn.each,wg=function(t,e,n){_g(t.childNodes,function(t){sg(t)&&(e(t)&&n(t),t.hasChildNodes()&&wg(t,e,n))})},Cg=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},xg=function(t,e,n,i){_g(e,function(e){_g(t.dom.select(e.inline,i),function(i){sg(i)&&yg(t,e,n,i,e.exact?i:null)}),function(t,e,n){e.clear_child_styles&&_g(t.select(e.links?"*:not(a)":"*",i),function(n){sg(n)&&_g(e.styles,function(e,i){t.setStyle(n,i,"")})})}(t.dom,e)})},Sg=function(t,e,n,i){e.styles&&e.styles.backgroundColor&&wg(i,ug(t,"fontSize"),dg(t,"backgroundColor",kl.replaceVars(e.styles.backgroundColor,n)))},Tg=function(t,e,n,i){"sub"!==e.inline&&"sup"!==e.inline||(wg(i,ug(t,"fontSize"),dg(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",i),!0))},kg=function(t,e,n,i){i&&!1!==e.merge_siblings&&(i=lg(t,kl.getNonWhiteSpaceSibling(i),i),i=lg(t,i,kl.getNonWhiteSpaceSibling(i,!0)))},zg=function(t,e,n,i,r){jf.matchNode(t,r.parentNode,n,i)&&yg(t,e,i,r)||e.merge_with_parents&&t.dom.getParent(r.parentNode,function(o){if(jf.matchNode(t,o,n,i))return yg(t,e,i,r),!0})},Eg=function(e){return e.collapsed?e:(i=vc.fromRangeStart(n=e),r=vc.fromRangeEnd(n),wl.fromPosition(!1,o=n.commonAncestorContainer,r).map(function(e){return!oc(i,r,o)&&oc(i,e,o)?function(e,n,i,r){var o=t.document.createRange();return o.setStart(e,n),o.setEnd(i,r),o}(i.container(),i.offset(),e.container(),e.offset()):n}).getOr(n));var n,i,r,o},Ng=Pn.each,Kg=function(t,e,n,i){function r(t,e){if(e=e||d,t){if(e.onformat&&e.onformat(t,e,n,i),Ng(e.styles,function(e,i){f.setStyle(t,i,kl.replaceVars(e,n))}),e.styles){var r=f.getAttrib(t,"style");r&&t.setAttribute("data-mce-style",r)}Ng(e.attributes,function(e,i){f.setAttrib(t,i,kl.replaceVars(e,n))}),Ng(e.classes,function(e){e=kl.replaceVars(e,n),f.hasClass(t,e)||f.addClass(t,e)})}}function a(t,e){var n=!1;return!!d.selector&&(Ng(t,function(t){if(!("collapsed"in t&&t.collapsed!==h))return f.is(e,t.selector)&&!Gs(e)?(r(e,t),!(n=!0)):void 0}),n)}function s(i,o,s,c){var l,h,f=[],g=!0;r(h=i.create(l=d.inline||d.block)),Dl(i,o,function(o){var s,p=function(o){var m,v,y,b;if(b=g,m=o.nodeName.toLowerCase(),v=o.parentNode.nodeName.toLowerCase(),1===o.nodeType&&i.getContentEditable(o)&&(b=g,g="true"===i.getContentEditable(o),y=!0),kl.isEq(m,"br"))return s=0,void(d.block&&i.remove(o));if(d.wrapper&&jf.matchNode(t,o,e,n))s=0;else{if(g&&!y&&d.block&&!d.wrapper&&kl.isTextBlock(t,m)&&kl.isValid(t,v,l))return r(o=i.rename(o,l)),f.push(o),void(s=0);if(d.selector){var _=a(u,o);if(!d.inline||_)return void(s=0)}!g||y||!kl.isValid(t,l,m)||!kl.isValid(t,v,l)||!c&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||Gs(o)||d.inline&&i.isBlock(o)?(s=0,Ng(Pn.grep(o.childNodes),p),y&&(g=b),s=0):(s||(s=i.clone(h,!1),o.parentNode.insertBefore(s,o),f.push(s)),s.appendChild(o))}};Ng(o,p)}),!0===d.links&&Ng(f,function(t){var e=function(t){"A"===t.nodeName&&r(t,d),Ng(Pn.grep(t.childNodes),e)};e(t)}),Ng(f,function(o){var a,s,c,l,h;s=0,Ng(o.childNodes,function(t){kl.isWhiteSpaceNode(t)||Sl(t)||s++}),a=s,!(1<f.length)&&i.isBlock(o)||0!==a?(d.inline||d.wrapper)&&(d.exact||1!==a||((l=function(t){var e=!1;return Ng(t.childNodes,function(t){if(function(t){return t&&1===t.nodeType&&!Sl(t)&&!Gs(t)&&!Xt.isBogus(t)}(t))return e=t,!1}),e}(c=o))&&!Sl(l)&&jf.matchName(i,l,d)&&(r(h=i.clone(l,!1)),i.replace(h,c,!0),i.remove(l,1)),o=h||c),xg(t,u,n,o),zg(t,d,e,n,o),Sg(i,d,n,o),Tg(i,d,n,o),kg(i,d,n,o)):i.remove(o,1)})}var c,l,u=t.formatter.get(e),d=u[0],h=!i&&t.selection.isCollapsed(),f=t.dom,g=t.selection;if("false"!==f.getContentEditable(g.getNode())){if(d){if(i)i.nodeType?a(u,i)||((l=f.createRng()).setStartBefore(i),l.setEndAfter(i),s(f,Al(t,l,u),0,!0)):s(f,i,0,!0);else if(h&&d.inline&&!f.select("td[data-mce-selected],th[data-mce-selected]").length)!function(t,e,n){var i,r,o,a,s,c,l=t.selection;a=(i=l.getRng()).startOffset,c=i.startContainer.nodeValue,(r=$s(t.getBody(),l.getStart()))&&(o=of(r));var u=/[^\s\u00a0\u00ad\u200b\ufeff]/;c&&0<a&&a<c.length&&u.test(c.charAt(a))&&u.test(c.charAt(a-1))?(s=l.getBookmark(),i.collapse(!0),i=Wh(i=Al(t,i,t.formatter.get(e))),t.formatter.apply(e,n,i),l.moveToBookmark(s)):(r&&o.nodeValue===Xf||(o=(r=function(t,e){return t.importNode(e,!0)}(t.getDoc(),af(!0).dom())).firstChild,i.insertNode(r),a=1),t.formatter.apply(e,n,r),l.setCursorLocation(o,a))}(t,e,n);else{var p=t.selection.getNode();t.settings.forced_root_block||!u[0].defaultBlock||f.getParent(p,f.isBlock)||Kg(t,u[0].defaultBlock),t.selection.setRng(Eg(t.selection.getRng())),c=Sc.getPersistentBookmark(t.selection,!0),s(f,Al(t,g.getRng(),u)),d.styles&&function(t,e,n,i){(d.styles.color||d.styles.textDecoration)&&(Pn.walk(i,o(hg,t),"childNodes"),hg(t,i))}(f,0,0,p),g.moveToBookmark(c),kl.moveStart(f,g,g.getRng()),t.nodeChanged()}!function(t,n){Zf(Qf[e],function(t){t(n)})}(0,t)}}else{i=g.getNode();for(var m=0,v=u.length;m<v;m++)if(u[m].ceFalseOverride&&f.is(i,u[m].selector))return void r(i,u[m])}},Ag={applyFormat:Kg},Mg=function(t,e,n,i){var r=xe(n.get()),o={},a={},s=_(kl.getParents(t.dom,e),function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")});ot(i,function(e,n){Pn.each(s,function(i){return t.formatter.matchNode(i,n,{},e.similar)?(-1===r.indexOf(n)&&(b(e.callbacks,function(t){t(!0,{node:i,format:n,parents:s})}),o[n]=e.callbacks),a[n]=e.callbacks,!1):!jf.matchesUnInheritedFormatSelector(t,i,n)&&void 0})});var c=Dg(n.get(),a,e,s);n.set(G(G({},o),c))},Dg=function(t,e,n,i){return st(t,function(t,r){return!!ke(e,r)||(b(t,function(t){t(!1,{node:n,format:r,parents:i})}),!1)}).t},Pg=function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,n,i){Pn.each(i,function(n,i){t.setAttrib(e,i,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Pn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){e[t]={block:t,remove:"all"}}),e};function Rg(t,e){function n(t){var e;return function(t,e){e.classes.length&&Ug.addClass(t,e.classes.join(" ")),Ug.setAttribs(t,e.attrs)}(e=Ug.create((r="string"==typeof t?{name:t,classes:[],attrs:{}}:t).name),r),e}var i,r,o,a=e&&e.schema||_i({}),s=function(t,e,i){var r,o,c,l=0<e.length&&e[0],u=l&&l.name;if(c=function(t,e){var n="string"!=typeof t?t.nodeName.toLowerCase():t,i=a.getElementRule(n),r=i&&i.parentsRequired;return!(!r||!r.length)&&(e&&-1!==Pn.inArray(r,e)?e:r[0])}(t,u))u===c?(o=e[0],e=e.slice(1)):o=c;else if(l)o=e[0],e=e.slice(1);else if(!i)return t;return o&&(r=n(o)).appendChild(t),i&&(r||(r=Ug.create("div")).appendChild(t),Pn.each(i,function(e){var i=n(e);r.insertBefore(i,t)})),s(r,e,o&&o.siblings)};return t&&t.length?(i=n(r=t[0]),(o=Ug.create("div")).appendChild(s(i,t.slice(1),r.siblings)),o):""}function Lg(t){var e,n={classes:[],attrs:{}};return"*"!==(t=n.selector=Pn.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(t,e,i,r,o){switch(e){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==Pn.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===r){var a=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=e||"div",n}function Fg(t){var e=function(t){var e={},n=function(t,i){t&&("string"!=typeof t?Pn.each(t,function(t,e){n(e,t)}):(P(i)||(i=[i]),Pn.each(i,function(t){void 0===t.deep&&(t.deep=!t.selector),void 0===t.split&&(t.split=!t.selector||t.inline),void 0===t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),e[t]=i))};return n(Pg(t.dom)),n(t.settings.formats),{get:function(t){return t?e[t]:e},has:function(t){return ke(e,t)},register:n,unregister:function(t){return t&&e[t]&&delete e[t],e}}}(t),n=Vo(null);return Wg(t),function(t){t.on("mouseup keydown",function(e){!function(t,e){var n=t.selection,i=t.getBody();cf(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||n.getStart().innerHTML!==Xf||cf(t,$s(i,n.getStart())),37!==e&&39!==e||cf(t,$s(i,n.getStart()))}(t,e.keyCode)})}(t),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:o(Ag.applyFormat,t),remove:o(bg,t),toggle:o($g,t,e),match:o(jf.match,t),matchAll:o(jf.matchAll,t),matchNode:o(jf.matchNode,t),canApply:o(jf.canApply,t),formatChanged:o(fg,t,n),getCssText:o(Gg,t)}}function Bg(t,e,n,i){(t.padd_empty_with_br||e.insert)&&n[i.name]?i.empty().append(new Il("br",1)).shortEnded=!0:i.empty().append(new Il("#text",3)).value="\xa0"}function Og(t,e,n,i){return i.isEmpty(e,n,function(e){return function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty}(t,e)})}function Hg(t,e){void 0===e&&(e=_i());var n={},i=[],r={},o={};(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var a=function(t){var e,a,s;(a=t.name)in n&&((s=r[a])?s.push(t):r[a]=[t]),e=i.length;for(;e--;)(a=i[e].name)in t.attributes.map&&((s=o[a])?s.push(t):o[a]=[t]);return t},s={schema:e,addAttributeFilter:function(t,e){tp(ep(t),function(t){var n;for(n=0;n<i.length;n++)if(i[n].name===t)return void i[n].callbacks.push(e);i.push({name:t,callbacks:[e]})})},getAttributeFilters:function(){return[].concat(i)},addNodeFilter:function(t,e){tp(ep(t),function(t){var i=n[t];i||(n[t]=i=[]),i.push(e)})},getNodeFilters:function(){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},filterNode:a,parse:function(s,c){var l,u,d,h,f,g,p,m,v,y,b,_=[];c=c||{},r={},o={},v=np(Zg("script,style,head,html,body,title,meta,param"),e.getBlockElements());var w,C=e.getNonEmptyElements(),x=e.children,S=t.validate,T=!1===(w="forced_root_block"in c?c.forced_root_block:t.forced_root_block)?"":!0===w?"p":w,k=e.getWhiteSpaceElements(),z=/^[ \t\r\n]+/,E=/[ \t\r\n]+$/,N=/[ \t\r\n]+/g,K=/^[ \t\r\n]+$/;function A(t){var n,i,r,o,a=e.getBlockElements();for(n=t.prev;n&&3===n.type;){if(0<(r=n.value.replace(E,"")).length)return void(n.value=r);if(i=n.next){if(3===i.type&&i.value.length){n=n.prev;continue}if(!a[i.name]&&"script"!==i.name&&"style"!==i.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}}y=k.hasOwnProperty(c.context)||k.hasOwnProperty(t.root_name);var M=function(t,e){var i,o=new Il(t,e);return t in n&&((i=r[t])?i.push(o):r[t]=[o]),o};l=Cu({validate:S,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,self_closing_elements:function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n}(e.getSelfClosingElements()),cdata:function(t){b.append(M("#cdata",4)).value=t},text:function(t,e){var n;y||(t=t.replace(N," "),function(t,e){return t&&(v[t.name]||"br"===t.name)}(b.lastChild)&&(t=t.replace(z,""))),0!==t.length&&((n=M("#text",3)).raw=!!e,b.append(n).value=t)},comment:function(t){b.append(M("#comment",8)).value=t},pi:function(t,e){b.append(M(t,7)).value=e,A(b)},doctype:function(t){b.append(M("#doctype",10)).value=t,A(b)},start:function(t,n,r){var a,s,c,l,u;if(c=S?e.getElementRule(t):{}){for((a=M(c.outputName||t,1)).attributes=n,a.shortEnded=r,b.append(a),(u=x[b.name])&&x[a.name]&&!u[a.name]&&_.push(a),s=i.length;s--;)(l=i[s].name)in n.map&&((p=o[l])?p.push(a):o[l]=[a]);v[t]&&A(a),r||(b=a),!y&&k[t]&&(y=!0)}},end:function(n){var i,r,o,a,s;if(r=S?e.getElementRule(n):{}){if(v[n]&&!y){if((i=b.firstChild)&&3===i.type)if(0<(o=i.value.replace(z,"")).length)i.value=o,i=i.next;else for(a=i.next,i.remove(),i=a;i&&3===i.type;)a=i.next,0!==(o=i.value).length&&!K.test(o)||(i.remove(),i=a),i=a;if((i=b.lastChild)&&3===i.type)if(0<(o=i.value.replace(E,"")).length)i.value=o,i=i.prev;else for(a=i.prev,i.remove(),i=a;i&&3===i.type;)a=i.prev,0!==(o=i.value).length&&!K.test(o)||(i.remove(),i=a),i=a}if(y&&k[n]&&(y=!1),r.removeEmpty&&Og(e,C,k,b)&&!b.attr("name")&&!b.attr("id"))return s=b.parent,v[b.name]?b.empty().remove():b.unwrap(),void(b=s);r.paddEmpty&&(function(t){return Jg(t,"#text")&&"\xa0"===t.firstChild.value}(b)||Og(e,C,k,b))&&Bg(t,c,v,b),b=b.parent}}},e);var D=b=new Il(c.context||t.root_name,11);if(l.parse(s),S&&_.length&&(c.context?c.invalid=!0:function(t){var n,i,r,o,s,c,l,u,d,h,f,g,p,m,v,y;for(g=Zg("tr,td,th,tbody,thead,tfoot,table"),h=e.getNonEmptyElements(),f=e.getWhiteSpaceElements(),p=e.getTextBlockElements(),m=e.getSpecialElements(),n=0;n<t.length;n++)if((i=t[n]).parent&&!i.fixed)if(p[i.name]&&"li"===i.parent.name){for(v=i.next;v&&p[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(o=[i],r=i.parent;r&&!e.isValidChild(r.name,i.name)&&!g[r.name];r=r.parent)o.push(r);if(r&&1<o.length){for(o.reverse(),s=c=a(o[0].clone()),d=0;d<o.length-1;d++){for(e.isValidChild(c.name,o[d].name)?(l=a(o[d].clone()),c.append(l)):l=c,u=o[d].firstChild;u&&u!==o[d+1];)y=u.next,l.append(u),u=y;c=l}Og(e,h,f,s)?r.insert(i,o[0],!0):(r.insert(s,o[0],!0),r.insert(i,s)),(Og(e,h,f,r=o[0])||Jg(r,"br"))&&r.empty().remove()}else if(i.parent){if("li"===i.name){if((v=i.prev)&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if((v=i.next)&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(a(new Il("ul",1)));continue}e.isValidChild(i.parent.name,"div")&&e.isValidChild("div",i.name)?i.wrap(a(new Il("div",1))):m[i.name]?i.empty().remove():i.unwrap()}}}(_)),T&&("body"===D.name||c.isRootContent)&&function(){function n(t){t&&((o=t.firstChild)&&3===o.type&&(o.value=o.value.replace(z,"")),(o=t.lastChild)&&3===o.type&&(o.value=o.value.replace(E,"")))}var i,r,o=D.firstChild;if(e.isValidChild(D.name,T.toLowerCase())){for(;o;)i=o.next,3===o.type||1===o.type&&"p"!==o.name&&!v[o.name]&&!o.attr("data-mce-type")?(r||((r=M(T,1)).attr(t.forced_root_block_attrs),D.insert(r,o)),r.append(o)):(n(r),r=null),o=i;n(r)}}(),!c.invalid){for(m in r)if(r.hasOwnProperty(m)){for(p=n[m],f=(u=r[m]).length;f--;)u[f].parent||u.splice(f,1);for(d=0,h=p.length;d<h;d++)p[d](u,m,c)}for(d=0,h=i.length;d<h;d++)if((p=i[d]).name in o){for(f=(u=o[p.name]).length;f--;)u[f].parent||u.splice(f,1);for(f=0,g=p.callbacks.length;f<g;f++)p.callbacks[f](u,p.name,c)}}return D}};return function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",function(t,i,r){var o,a,s,c,l,u,d,h,f=t.length,g=Pn.extend({},n.getBlockElements()),p=n.getNonEmptyElements(),m=n.getNonEmptyElements();for(g.body=1,o=0;o<f;o++)if(s=(a=t[o]).parent,g[a.parent.name]&&a===s.lastChild){for(l=a.prev;l;){if("span"!==(u=l.name)||"bookmark"!==l.attr("data-mce-type")){if("br"!==u)break;if("br"===u){a=null;break}}l=l.prev}a&&(a.remove(),Og(n,p,m,s)&&(d=n.getElementRule(s.name))&&(d.removeEmpty?s.remove():d.paddEmpty&&Bg(e,r,g,s)))}else{for(c=a;s&&s.firstChild===c&&s.lastChild===c&&!g[(c=s).name];)s=s.parent;c===s&&!0!==e.padd_empty_with_br&&((h=new Il("#text",3)).value="\xa0",a.replace(h))}}),t.addAttributeFilter("href",function(t){var n,i,r,o=t.length;if(!e.allow_unsafe_link_target)for(;o--;)"a"===(n=t[o]).name&&"_blank"===n.attr("target")&&n.attr("rel",(r=(i=n.attr("rel"))?Pn.trim(i):"",/\b(noopener)\b/g.test(r)?r:r.split(" ").filter(function(t){return 0<t.length}).concat(["noopener"]).sort().join(" ")))}),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(t){for(var e,n,i,r,o=t.length;o--;)if("a"===(r=t[o]).name&&r.firstChild&&!r.attr("href"))for(i=r.parent,e=r.lastChild;n=e.prev,i.insert(e,r),e=n;);}),e.fix_list_elements&&t.addNodeFilter("ul,ol",function(t){for(var e,n,i=t.length;i--;)if("ul"===(n=(e=t[i]).parent).name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var r=new Il("li",1);r.attr("style","list-style-type: none"),e.wrap(r)}}),e.validate&&n.getValidClasses()&&t.addAttributeFilter("class",function(t){for(var e,i,r,o,a,s,c,l=t.length,u=n.getValidClasses();l--;){for(i=(e=t[l]).attr("class").split(" "),a="",r=0;r<i.length;r++)o=i[r],c=!1,(s=u["*"])&&s[o]&&(c=!0),s=u[e.name],!c&&s&&s[o]&&(c=!0),c&&(a&&(a+=" "),a+=o);a.length||(a=null),e.attr("class",a)}})}(s,t),Qg(s,t),s}function Ig(t,e,n){-1===Pn.inArray(e,n)&&(t.addAttributeFilter(n,function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),e.push(n))}function Vg(t,e){var n=function(t,e){var n,i,r,a=["data-mce-selected"];return n=e&&e.dom?e.dom:Ro.DOM,i=e&&e.schema?e.schema:_i(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs,r=Hg(t,i),qg(r,t,n),{schema:i,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:function(o,a){var s=pd({format:"html"},a||{}),c=function(t,e,i){var r=ts(i.getInner?e.innerHTML:n.getOuterHTML(e));return i.selection||Yn(ve.fromDom(e))?r:Pn.trim(r)}(0,Yg(e,o,s),s),l=function(t,e,n){var i=n.selection?pd({forced_root_block:!1},n):n,r=t.parse(e,i);return Xg(r),r}(r,c,s);return"tree"===s.format?l:function(n,r,o,a,s){return function(t,e,n){return e.no_events||!t?n:cd(t,pd(e,{content:n})).content}(e,s,function(e,n,r){return Xl(t,i).serialize(r)}(0,0,l))}(0,0,0,0,s)},addRules:function(t){i.addValidElements(t)},setRules:function(t){i.setValidElements(t)},addTempAttr:o(Ig,r,a),getTempAttrs:function(){return a}}}(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}}var jg=Pn.each,Ug=Ro.DOM,Gg=function(t,e){var n,i,r,o,a,s,c="";if(!1===(s=t.settings.preview_styles))return"";function l(t){return t.replace(/%(\w+)/g,"")}if("string"!=typeof s&&(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(s=e.preview)?"":(n=e.block||e.inline||"span",i=(o=function(t){return t&&"string"==typeof t?(t=(t=t.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Pn.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var e=Pn.map(t.split(/(?:~\+|~|\+)/),Lg),n=e.pop();return e.length&&(n.siblings=e),n}).reverse()):[]}(e.selector)).length?(o[0].name||(o[0].name=n),n=e.selector,Rg(o,t)):Rg([n],t),r=Ug.select(n,i)[0]||i.firstChild,jg(e.styles,function(t,e){(t=l(t))&&Ug.setStyle(r,e,t)}),jg(e.attributes,function(t,e){(t=l(t))&&Ug.setAttrib(r,e,t)}),jg(e.classes,function(t){t=l(t),Ug.hasClass(r,t)||Ug.addClass(r,t)}),t.fire("PreviewFormats"),Ug.setStyles(i,{position:"absolute",left:-65535}),t.getBody().appendChild(i),a=Ug.getStyle(t.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,jg(s.split(" "),function(e){var n=Ug.getStyle(r,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=Ug.getStyle(t.getBody(),e,!0),"#ffffff"===Ug.toHex(n).toLowerCase())||"color"===e&&"#000000"===Ug.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*a+"px"}"border"===e&&n&&(c+="padding:0 2px;"),c+=e+":"+n+";"}}),t.fire("AfterPreviewFormats"),Ug.remove(i),c)},$g=function(t,e,n,i,r){var o=e.get(n);!jf.match(t,n,i,r)||"toggle"in o[0]&&!o[0].toggle?Ag.applyFormat(t,n,i,r):bg(t,n,i,r)},Wg=function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},qg=function(t,e,n){t.addAttributeFilter("data-mce-tabindex",function(t,e){for(var n,i=t.length;i--;)(n=t[i]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(e,null)}),t.addAttributeFilter("src,href,style",function(t,i){for(var r,o,a=t.length,s="data-mce-"+i,c=e.url_converter,l=e.url_converter_scope;a--;)void 0!==(o=(r=t[a]).attr(s))?(r.attr(i,0<o.length?o:null),r.attr(s,null)):(o=r.attr(i),"style"===i?o=n.serializeStyle(n.parseStyle(o),r.name):c&&(o=c.call(l,o,i,r.name)),r.attr(i,0<o.length?o:null))}),t.addAttributeFilter("class",function(t){for(var e,n,i=t.length;i--;)(n=(e=t[i]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",0<n.length?n:null))}),t.addAttributeFilter("data-mce-type",function(t,e,n){for(var i,r=t.length;r--;)"bookmark"!==(i=t[r]).attr("data-mce-type")||n.cleanup||(A.from(i.firstChild).exists(function(t){return!Ja(t.value)})?i.unwrap():i.remove())}),t.addNodeFilter("noscript",function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=li.decode(e.value))}),t.addNodeFilter("script,style",function(t,n){for(var i,r,o,a=t.length,s=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)r=(i=t[a]).firstChild?i.firstChild.value:"","script"===n?((o=i.attr("type"))&&i.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===e.element_format&&0<r.length&&(i.firstChild.value="// <![CDATA[\n"+s(r)+"\n// ]]>")):"xhtml"===e.element_format&&0<r.length&&(i.firstChild.value="\x3c!--\n"+s(r)+"\n--\x3e")}),t.addNodeFilter("#comment",function(t){for(var e,n=t.length;n--;)0===(e=t[n]).value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))}),t.addNodeFilter("xml:namespace,input",function(t,e){for(var n,i=t.length;i--;)7===(n=t[i]).type?n.remove():1===n.type&&("input"!==e||n.attr("type")||n.attr("type","text"))}),t.addAttributeFilter("data-mce-type",function(e){b(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})},Xg=function(t){function e(t){return t&&"br"===t.name}var n,i;e(n=t.lastChild)&&e(i=n.prev)&&(n.remove(),i.remove())},Yg=function(e,n,i){return function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events}(e,i)?function(e,n,i){var r,o,a,s=e.dom;return n=n.cloneNode(!0),(r=t.document.implementation).createHTMLDocument&&(o=r.createHTMLDocument(""),Pn.each("BODY"===n.nodeName?n.childNodes:[n],function(t){o.body.appendChild(o.importNode(t,!0))}),n="BODY"!==n.nodeName?o.body.firstChild:o.body,a=s.doc,s.doc=o),function(t,e){t.fire("PreProcess",e)}(e,pd(i,{node:n})),a&&(s.doc=a),n}(e,n,i):n},Qg=function(t,e){e.inline_styles&&function(t,e){var n=ki();e.convert_fonts_to_spans&&function(t,e,n){t.addNodeFilter("font",function(t){b(t,function(t){var i=e.parse(t.attr("style")),r=t.attr("color"),o=t.attr("face"),a=t.attr("size");r&&(i.color=r),o&&(i["font-family"]=o),a&&(i["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(i)),function(t,e){b(["color","face","size"],function(e){t.attr(e,null)})}(t)})})}(t,n,Pn.explode(e.font_size_legacy_values)),function(t,e){t.addNodeFilter("strike",function(t){b(t,function(t){var n=e.parse(t.attr("style"));n["text-decoration"]="line-through",t.name="span",t.attr("style",e.serialize(n))})})}(t,n)}(t,e)},Jg=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},Zg=Pn.makeMap,tp=Pn.each,ep=Pn.explode,np=Pn.extend;function ip(t){return{getBookmark:o(Cl,t),moveToBookmark:o(xl,t)}}function rp(e,n){var i,r,o,a,s,c,l,u,d,h,f,g,p,m,v,y,b,_=n.dom,w=Pn.each,C=n.getDoc(),x=t.document,S=Math.abs,T=Math.round,k=n.getBody();function z(t){return t&&("IMG"===t.nodeName||n.dom.is(t,"figure.image"))}function E(t){var e=t.target;!function(t,e){return z(t.target)&&!yf(t.clientX,t.clientY,e)}(t,n.selection.getRng())||t.isDefaultPrevented()||n.selection.select(e)}function N(t){return n.dom.is(t,"figure.image")?t.querySelector("img"):t}function K(t){var e=n.settings.object_resizing;return!1!==e&&!Nn.iOS&&("string"!=typeof e&&(e="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&t!==n.getBody()&&yt(ve.fromDom(t),e))}function A(t){var e,a,w,C;m=(m=(e=t.screenX-c)*s[2]+h)<5?5:m,v=(v=(a=t.screenY-l)*s[3]+f)<5?5:v,(z(i)&&!1!==n.settings.resize_img_proportional?!Cf.modifierPressed(t):Cf.modifierPressed(t)||z(i)&&s[2]*s[3]!=0)&&(S(e)>S(a)?(v=T(m*g),m=T(v/g)):(m=T(v/g),v=T(m*g))),_.setStyles(N(r),{width:m,height:v}),w=0<(w=s.startPos.x+e)?w:0,C=0<(C=s.startPos.y+a)?C:0,_.setStyles(o,{left:w,top:C,display:"block"}),o.innerHTML=m+" &times; "+v,s[2]<0&&r.clientWidth<=m&&_.setStyle(r,"left",u+(h-m)),s[3]<0&&r.clientHeight<=v&&_.setStyle(r,"top",d+(f-v)),(e=k.scrollWidth-y)+(a=k.scrollHeight-b)!=0&&_.setStyles(o,{left:w-e,top:C-a}),p||(ud(n,i,h,f),p=!0)}function M(t){function i(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)}var r;p||n.removed||(w(_.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),r="mousedown"===t.type?t.target:e.getNode(),i(r=_.$(r).closest("table,img,figure.image,hr")[0],k)&&(B(),i(e.getStart(!0),r)&&i(e.getEnd(!0),r))?R(r):L())}function D(t){return ap(function(t,e){for(;e&&e!==t;){if(sp(e)||ap(e))return e;e=e.parentNode}return null}(n.getBody(),t))}a={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var P=function(){function t(t,e){e&&(i.style[t]||!n.schema.isValid(i.nodeName.toLowerCase(),t)?_.setStyle(N(i),t,e):_.setAttrib(N(i),t,e))}p=!1,t("width",m),t("height",v),_.unbind(C,"mousemove",A),_.unbind(C,"mouseup",P),x!==C&&(_.unbind(x,"mousemove",A),_.unbind(x,"mouseup",P)),_.remove(r),_.remove(o),R(i),dd(n,i,m,v),_.setAttrib(i,"style",_.getAttrib(i,"style")),n.nodeChanged()},R=function(t){var e,p,S,T,z;L(),F(),e=_.getPos(t,k),u=e.x,d=e.y,z=t.getBoundingClientRect(),p=z.width||z.right-z.left,S=z.height||z.bottom-z.top,i!==t&&(i=t,m=v=0),T=n.fire("ObjectSelected",{target:t}),K(t)&&!T.isDefaultPrevented()?w(a,function(t,e){var n;(n=_.get("mceResizeHandle"+e))&&_.remove(n),n=_.add(k,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===Nn.ie&&(n.contentEditable=!1),_.bind(n,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),function(e){c=e.screenX,l=e.screenY,h=N(i).clientWidth,f=N(i).clientHeight,g=f/h,(s=t).startPos={x:p*t[0]+u,y:S*t[1]+d},y=k.scrollWidth,b=k.scrollHeight,r=i.cloneNode(!0),_.addClass(r,"mce-clonedresizable"),_.setAttrib(r,"data-mce-bogus","all"),r.contentEditable=!1,r.unSelectabe=!0,_.setStyles(r,{left:u,top:d,margin:0}),r.removeAttribute("data-mce-selected"),k.appendChild(r),_.bind(C,"mousemove",A),_.bind(C,"mouseup",P),x!==C&&(_.bind(x,"mousemove",A),_.bind(x,"mouseup",P)),o=_.add(k,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},h+" &times; "+f)}(e)}),t.elm=n,_.setStyles(n,{left:p*t[0]+u-n.offsetWidth/2,top:S*t[1]+d-n.offsetHeight/2})}):L(),i.setAttribute("data-mce-selected","1")},L=function(){var t,e;for(t in F(),i&&i.removeAttribute("data-mce-selected"),a)(e=_.get("mceResizeHandle"+t))&&(_.unbind(e),_.remove(e))},F=function(){for(var t in a){var e=a[t];e.elm&&(_.unbind(e.elm),delete e.elm)}},B=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(E){}};return n.on("init",function(){B(),Nn.ie&&11<=Nn.ie&&(n.on("mousedown click",function(t){var e=t.target,i=e.nodeName;p||!/^(TABLE|IMG|HR)$/.test(i)||D(e)||(2!==t.button&&n.selection.select(e,"TABLE"===i),"mousedown"===t.type&&n.nodeChanged())}),n.dom.bind(k,"mscontrolselect",function(t){function e(t){Cn.setEditorTimeout(n,function(){n.selection.select(t)})}if(D(t.target))return t.preventDefault(),void e(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&e(t.target))}));var t=Cn.throttle(function(t){n.composing||M(t)});n.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",t),n.on("keyup compositionend",function(e){i&&"TABLE"===i.nodeName&&t(e)}),n.on("hide blur",L),n.on("contextmenu",E,!0)}),n.on("remove",F),{isResizable:K,showResizeRect:R,hideResizeRect:L,updateResizeRect:M,destroy:function(){i=r=null}}}(ip=ip||{}).isBookmarkNode=Sl;var op=ip,ap=Xt.isContentEditableFalse,sp=Xt.isContentEditableTrue;function cp(t,e){return void 0!==t?t:void 0!==e?e:0}function lp(e){var n=void 0!==e?e.dom():t.document;return Up(n.body.scrollLeft||n.documentElement.scrollLeft,n.body.scrollTop||n.documentElement.scrollTop)}function up(e,n,i){(void 0!==i?i.dom():t.document).defaultView.scrollTo(e,n)}function dp(t,e){$p&&F(t.dom().scrollIntoViewIfNeeded)?t.dom().scrollIntoViewIfNeeded(!1):t.dom().scrollIntoView(e)}function hp(t){return"textarea"===it(t)}function fp(t,e){var n=function(t){var e=t.dom().ownerDocument,n=e.body,i=e.defaultView,r=e.documentElement,o=cp(i.pageYOffset,r.scrollTop),a=cp(i.pageXOffset,r.scrollLeft),s=cp(r.clientTop,n.clientTop),c=cp(r.clientLeft,n.clientLeft);return Gp(t).translate(a-c,o-s)}(t),i=function(t){return Vp.get(t)}(t);return{element:t,bottom:n.top()+i,pos:n,cleanup:e}}function gp(t){return fp(ve.fromDom(t),e)}function pp(t,e,n,i){Yp(t,function(r,o){return Xp(t,e,n,i)},n)}function mp(t,e,n,i){var r=ve.fromDom(t.getDoc());n(r,lp(r).top(),e,i)}function vp(t,e,n,i){var r=t.pos;if(n)up(r.left(),r.top(),i);else{var o=r.top()-e+(t.bottom-r.top());up(r.left(),o,i)}}function yp(t,e,n,i,r){i.pos.top()<e?vp(i,n,!1!==r,t):i.bottom>n+e&&vp(i,n,!0===r,t)}function bp(t,e,n,i){var r=t.dom().defaultView.innerHeight;yp(t,e,r,n,i)}function _p(e,n,i,r,o){var a=n.dom().defaultView.innerHeight;yp(n,i,a,r,o);var s=function(e){var n=lp(ve.fromDom(t.document)),i=function(t,e){var n=e.owner(t);return Wp(e,n)}(e,qp),r=Gp(e),o=w(i,function(t,e){var n=Gp(e);return{left:t.left+n.left(),top:t.top+n.top()}},{left:0,top:0});return Up(o.left+r.left()+n.left(),o.top+r.top()+n.top())}(r.element),c=lp().top(),l=t.window.innerHeight+c;s.top()<c?dp(r.element,!1!==o):s.top()>l&&dp(r.element,!0===o)}function wp(t){return Xt.isContentEditableTrue(t)||Xt.isContentEditableFalse(t)}function Cp(e,n){var i=(n||t.document).createDocumentFragment();return b(e,function(t){i.appendChild(t.dom())}),ve.fromDom(i)}function xp(t,e){var n=parseInt(ft(t,e),10);return isNaN(n)?1:n}function Sp(t){return C(t,function(t,e){return e.cells().length>t?e.cells().length:t},0)}function Tp(t,e){for(var n=t.rows(),i=0;i<n.length;i++)for(var r=n[i].cells(),o=0;o<r.length;o++)if(_t(r[o],e))return A.some(im(o,i));return A.none()}function kp(t,e,n,i,r){for(var o=[],a=t.rows(),s=n;s<=r;s++){var c=a[s].cells(),l=e<i?c.slice(e,i+1):c.slice(i,e+1);o.push(nm(a[s].element(),l))}return o}function zp(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e}function Ep(t,e){var n=oa(e,"td[data-mce-selected],th[data-mce-selected]"),i=function(t){return _(am(t),Xn)}(t);return 0<n.length?n:i}function Np(){return Cp([])}function Kp(t,e,n){return null!==function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(t,e,n)}function Ap(t,e,n){return Kp(t,e,function(t){return t.nodeName===n})}function Mp(t){return t&&"TABLE"===t.nodeName}function Dp(t,e,n){for(var i=new xo(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=i[n?"prev":"next"]();)if(Xt.isBr(e))return!0}function Pp(t,e,n,i,r){var o,a,s=t.getRoot(),c=t.schema.getNonEmptyElements(),l=t.getParent(r.parentNode,t.isBlock)||s;if(i&&Xt.isBr(r)&&e&&t.isEmpty(l))return A.some(Ks(r.parentNode,t.nodeIndex(r)));for(var u,d,h=new xo(r,l);a=h[i?"prev":"next"]();){if("false"===t.getContentEditableParent(a)||(d=s,xa(u=a)&&!1===Kp(u,d,Gs)))return A.none();if(Xt.isText(a)&&0<a.nodeValue.length)return!1===Ap(a,s,"A")?A.some(Ks(a,i?a.nodeValue.length:0)):A.none();if(t.isBlock(a)||c[a.nodeName.toLowerCase()])return A.none();o=a}return n&&o?A.some(Ks(o,0)):A.none()}function Rp(t,e,n,i){var r,o,a,s,c,l,u,d=t.getRoot(),h=!1;if(o=i[(n?"start":"end")+"Offset"],l=Xt.isElement(r=i[(n?"start":"end")+"Container"])&&o===r.childNodes.length,s=t.schema.getNonEmptyElements(),c=n,xa(r))return A.none();if(Xt.isElement(r)&&o>r.childNodes.length-1&&(c=!1),Xt.isDocument(r)&&(r=d,o=0),r===d){if(c&&(a=r.childNodes[0<o?o-1:0])){if(xa(a))return A.none();if(s[a.nodeName]||Mp(a))return A.none()}if(r.hasChildNodes()){if(o=Math.min(!c&&0<o?o-1:o,r.childNodes.length-1),o=Xt.isText(r=r.childNodes[o])&&l?r.data.length:0,!e&&r===d.lastChild&&Mp(r))return A.none();if(function(t,e){for(;e&&e!==t;){if(Xt.isContentEditableFalse(e))return!0;e=e.parentNode}return!1}(d,r)||xa(r))return A.none();if(r.hasChildNodes()&&!1===Mp(r)){var f=new xo(a=r,d);do{if(Xt.isContentEditableFalse(a)||xa(a)){h=!1;break}if(Xt.isText(a)&&0<a.nodeValue.length){o=c?0:a.nodeValue.length,r=a,h=!0;break}if(s[a.nodeName.toLowerCase()]&&(!(u=a)||!/^(TD|TH|CAPTION)$/.test(u.nodeName))){o=t.nodeIndex(a),r=a.parentNode,c||o++,h=!0;break}}while(a=c?f.next():f.prev())}}}return e&&(Xt.isText(r)&&0===o&&Pp(t,l,e,!0,r).each(function(t){r=t.container(),o=t.offset(),h=!0}),Xt.isElement(r)&&(!(a=(a=r.childNodes[o])||r.childNodes[o-1])||!Xt.isBr(a)||a.previousSibling&&"A"===a.previousSibling.nodeName||Dp(t,a,!1)||Dp(t,a,!0)||Pp(t,l,e,!0,a).each(function(t){r=t.container(),o=t.offset(),h=!0}))),c&&!e&&Xt.isText(r)&&o===r.nodeValue.length&&Pp(t,l,e,!1,r).each(function(t){r=t.container(),o=t.offset(),h=!0}),h?A.some(Ks(r,o)):A.none()}function Lp(t){return 0===t.dom().length?(ca(t),A.none()):A.some(t)}function Fp(t,e,n,i,r){var o=n?e.startOffset:e.endOffset;return A.from(n?e.startContainer:e.endContainer).map(ve.fromDom).map(function(t){return i&&e.collapsed?t:Nt(t,r(t,o)).getOr(t)}).bind(function(t){return we(t)?A.some(t):xt(t)}).map(function(t){return t.dom()}).getOr(t)}function Bp(t,e,n){return Fp(t,e,!0,n,function(t,e){return Math.min(function(t){return t.dom().childNodes.length}(t),e)})}function Op(t,e,n){return Fp(t,e,!1,n,function(t,e){return 0<e?e-1:e})}function Hp(t,e){for(var n=t;t&&Xt.isText(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n}function Ip(t,e,n){if(t&&t.hasOwnProperty(e)){var i=_(t[e],function(t){return t!==n});0===i.length?delete t[e]:t[e]=i}}var Vp=function(t,e){function n(n){var i=e(n);if(i<=0||null===i){var r=pt(n,t);return parseFloat(r)||0}return i}function i(t,e){return C(e,function(e,n){var i=pt(t,n),r=void 0===i?0:parseInt(i,10);return isNaN(r)?e:e+r},0)}return{set:function(e,n){if(!B(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var i=e.dom();lt(i)&&(i.style[t]=n+"px")},get:n,getOuter:n,aggregate:i,max:function(t,e,n){var r=i(t,n);return r<e?e-r:0}}}("height",function(t){var e=t.dom();return ut(t)?e.getBoundingClientRect().height:e.offsetHeight}),jp=function(t,e){return{left:i(t),top:i(e),translate:function(n,i){return jp(t+n,e+i)}}},Up=jp,Gp=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?Up(n.offsetLeft,n.offsetTop):ut(t)?function(t){var e=t.getBoundingClientRect();return Up(e.left,e.top)}(e):Up(0,0)},$p=pe.detect().browser.isSafari(),Wp=function(t,e){return t.view(e).fold(i([]),function(e){var n=t.owner(e),i=Wp(t,n);return[e].concat(i)})},qp=Object.freeze({view:function(e){return(e.dom()===t.document?A.none():A.from(e.dom().defaultView.frameElement)).map(ve.fromDom)},owner:function(t){return wt(t)}}),Xp=function(t,e,n,i){var r=ve.fromDom(t.getBody()),o=ve.fromDom(t.getDoc());r.dom();var a=lp(o).top(),s=function(t,e){var n=function(t,e){var n=Et(t);if(0===n.length||hp(t))return{element:t,offset:e};if(e<n.length&&!hp(n[e]))return{element:n[e],offset:0};var i=n[n.length-1];return hp(i)?{element:t,offset:e}:"img"===it(i)?{element:i,offset:1}:Ce(i)?{element:i,offset:Pl(i).length}:{element:i,offset:Et(i).length}}(t,e),i=ve.fromHtml('<span data-mce-bogus="all">'+Za+"</span>");return qo(n.element,i),fp(i,function(){return ca(i)})}(ve.fromDom(n.startContainer),n.startOffset);e(o,a,s,i),s.cleanup()},Yp=function(t,e,n){var i=n.startContainer,r=n.startOffset,o=n.endContainer,a=n.endOffset;e(ve.fromDom(i),ve.fromDom(o));var s=t.dom.createRng();s.setStart(i,r),s.setEnd(o,a),t.selection.setRng(n)},Qp=function(t,e,n){!function(t,e,n){return t.fire("ScrollIntoView",{elm:e,alignToTop:n}).isDefaultPrevented()}(t,e,n)&&(t.inline?function(t,e,n){return mp(t,gp(e),o(bp),n)}:function(t,e,n){return mp(t,gp(e),o(_p,t),n)})(t,e,n)},Jp=function(t,e,n){(t.inline?function(t,e,n){return pp(t,o(bp),e,n)}:function(t,e,n){return pp(t,o(_p,t),e,n)})(t,e,n)},Zp=function(t,e,n){var i,r,o=n;if(o.caretPositionFromPoint)(r=o.caretPositionFromPoint(t,e))&&((i=n.createRange()).setStart(r.offsetNode,r.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(o.body.createTextRange){i=o.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(u){i=function(t,e,n){var i,o,a;if(i=n.elementFromPoint(t,e),o=n.body.createTextRange(),i&&"HTML"!==i.tagName||(i=n.body),o.moveToElementText(i),0<(a=(a=Pn.toArray(o.getClientRects())).sort(function(t,n){return(t=Math.abs(Math.max(t.top-e,t.bottom-e)))-Math.abs(Math.max(n.top-e,n.bottom-e))})).length){e=(a[0].bottom+a[0].top)/2;try{return o.moveToPoint(t,e),o.collapse(!0),o}catch(r){}}return null}(t,e,n)}return function(t,e){var n=t&&t.parentElement?t.parentElement():null;return Xt.isContentEditableFalse(function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(n,e,wp))?null:t}(i,n.body)}return i},tm=function(t,e){return V(e,function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e})},em=vt("element","width","rows"),nm=vt("element","cells"),im=vt("x","y"),rm=function(t){return function(t,e){var n=ya(t.element()),i=ve.fromTag("tbody");return Qo(i,e),sa(n,i),n}(t,function(t){return V(t.rows(),function(t){var e=V(t.cells(),function(t){var e=ba(t);return gt(e,"colspan"),gt(e,"rowspan"),e}),n=ya(t.element());return Qo(n,e),n})}(t))},om=zp,am=function(t){return T(t,function(t){var e=La(t);return e?[ve.fromDom(e)]:[]})},sm=function(t){return 1<zp(t).length},cm=Ep,lm=function(t){return Ep(om(t.selection.getSel()),ve.fromDom(t.getBody()))},um=function(t,e){var n=cm(e,t);return 0<n.length?function(t,e){return function(t,n){return fa(e[0],"table",o(_t,t))}(t).bind(function(t){var n=e[0],i=e[e.length-1];return function(t,e,i){return Tp(t,n).bind(function(e){return Tp(t,i).map(function(n){return function(t,e,n){var i=e.x(),r=e.y(),o=n.x(),a=n.y(),s=r<a?kp(t,i,r,o,a):kp(t,i,a,o,r);return em(t.element(),Sp(s),s)}(t,e,n)})})}(function(t){var e=em(ya(t),0,[]);return b(oa(t,"tr"),function(t,n){b(oa(t,"td,th"),function(i,r){!function(t,e,n,i,r){for(var o=xp(r,"rowspan"),a=xp(r,"colspan"),s=t.rows(),c=n;c<n+o;c++){s[c]||(s[c]=nm(ba(i),[]));for(var l=e;l<e+a;l++)s[c].cells()[l]=c===n&&l===e?r:ya(r)}}(e,function(t,e,n){for(;i=e,r=n,o=void 0,((o=t.rows())[r]?o[r].cells():[])[i];)e++;var i,r,o;return e}(e,r,n),n,t,i)})}),em(e.element(),Sp(e.rows()),e.rows())}(t),0,i).map(function(t){return Cp([rm(t)])})}).getOrThunk(Np)}(t,n):function(t,e){return 0<e.length&&e[0].collapsed?Np():function(t,e){return function(t,e){var n=C(e,function(t,e){return sa(e,t),e},t);return 0<e.length?Cp([n]):n}(ve.fromDom(e.cloneContents()),function(t,e){var n=ve.fromDom(e.commonAncestorContainer),r=eh(n,t),a=_(r,function(t){return Ln(t)||Vn(t)}),s=function(t,e){return x(t,function(t){return"li"===it(t)&&function(t,e){return Oa(function(t){var e=t.startContainer,n=t.startOffset;return Xt.isText(e)?0===n?A.some(ve.fromDom(e)):A.none():A.from(e.childNodes[n]).map(ve.fromDom)}(e),function(t){var e=t.endContainer,n=t.endOffset;return Xt.isText(e)?n===e.data.length?A.some(ve.fromDom(e)):A.none():A.from(e.childNodes[n-1]).map(ve.fromDom)}(e),function(e,n){var i=x(ih(t),o(_t,e)),r=x(rh(t),o(_t,n));return i.isSome()&&r.isSome()}).getOr(!1)}(t,e)}).fold(i([]),function(e){return x(t,function(t){return"ul"===it(t)||"ol"===it(t)}).map(function(t){return[ve.fromTag("li"),ve.fromTag(it(t))]}).getOr([])})}(r,e),c=a.concat(s.length?s:function(t){return $n(t)?xt(t).filter(Gn).fold(i([]),function(e){return[t,e]}):Gn(t)?[t]:[]}(n));return V(c,ya)}(t,e))}(t,e[0])}(t,e)},dm=function(t,e){if(void 0===e&&(e={}),e.get=!0,e.format=e.format||"html",e.selection=!0,(e=t.fire("BeforeGetContent",e)).isDefaultPrevented())return t.fire("GetContent",e),e.content;if("text"===e.format)return A.from((n=t).selection.getRng()).map(function(t){var e=n.dom.add(n.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),i=ts(e.innerText);return n.dom.remove(e),i}).getOr("");var n;e.getInner=!0;var i=function(t,e){var n,i=t.selection.getRng(),r=t.dom.create("body"),o=t.selection.getSel(),a=tm(t,om(o));return(n=e.contextual?um(ve.fromDom(t.getBody()),a).dom():i.cloneContents())&&r.appendChild(n),t.selection.serializer.serialize(r,e)}(t,e);return"tree"===e.format?i:(e.content=t.selection.isCollapsed()?"":i,t.fire("GetContent",e),e.content)},hm=function(t,e){var n=e.collapsed,i=e.cloneRange(),r=Ks.fromRangeStart(e);return Rp(t,n,!0,i).each(function(t){n&&Ks.isAbove(r,t)||i.setStart(t.container(),t.offset())}),n||Rp(t,n,!1,i).each(function(t){i.setEnd(t.container(),t.offset())}),n&&i.collapse(!0),nh(e,i)?A.none():A.some(i)},fm=function(t,e,n){if((n=function(t,e){return(t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t}(n,e)).no_events||!(n=t.fire("BeforeSetContent",n)).isDefaultPrevented()){var i=t.selection.getRng();!function(t,e){var n=A.from(e.firstChild).map(ve.fromDom),i=A.from(e.lastChild).map(ve.fromDom);t.deleteContents(),t.insertNode(e);var r=n.bind(St).filter(Ce).bind(Lp),o=i.bind(Tt).filter(Ce).bind(Lp);Oa(r,n.filter(Ce),function(t,e){!function(t,e){t.insertData(0,e)}(e.dom(),t.dom().data),ca(t)}),Oa(o,i.filter(Ce),function(e,n){var i=n.dom().length;n.dom().appendData(e.dom().data),t.setEnd(n.dom(),i),ca(e)}),t.collapse(!1)}(i,i.createContextualFragment(n.content)),t.selection.setRng(i),Jp(t,i),n.no_events||t.fire("SetContent",n)}else t.fire("SetContent",n)};function gm(t){return!!t.select}function pm(t){return!(!t||!t.ownerDocument)&&Me(ve.fromDom(t.ownerDocument),ve.fromDom(t))}function mm(t,e,n,i){function r(t,e){return fm(i,t,e)}function o(){var e,n,i=h();return!(i&&i.anchorNode&&i.focusNode)||((e=t.createRng()).setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),(n=t.createRng()).setStart(i.focusNode,i.focusOffset),n.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,n)<=0)}var a,s,c,l,u=function(t,e){var n,i;return{selectorChangedWithUnbind:function(r,o){return n||(n={},i={},e.on("NodeChange",function(e){var r=e.element,o=t.getParents(r,null,t.getRoot()),a={};Pn.each(n,function(e,n){Pn.each(o,function(r){if(t.is(r,n))return i[n]||(Pn.each(e,function(t){t(!0,{node:r,selector:n,parents:o})}),i[n]=e),a[n]=e,!1})}),Pn.each(i,function(t,e){a[e]||(delete i[e],Pn.each(t,function(t){t(!1,{node:r,selector:e,parents:o})}))})})),n[r]||(n[r]=[]),n[r].push(o),{unbind:function(){Ip(n,r,o),Ip(i,r,o)}}}}}(t,i).selectorChangedWithUnbind,d=function(t){var e=f();e.collapse(!!t),g(e)},h=function(){return e.getSelection?e.getSelection():e.document.selection},f=function(){function n(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(a){return-1}}var r,o,a,s;if(!e)return null;if(null==(s=e.document))return null;if(void 0!==i.bookmark&&!1===ad(i)){var u=td(i);if(u.isSome())return u.map(function(t){return tm(i,[t])[0]}).getOr(s.createRange())}try{(r=h())&&!Xt.isRestrictedNode(r.anchorNode)&&(o=0<r.rangeCount?r.getRangeAt(0):r.createRange?r.createRange():s.createRange())}catch(d){}return(o=(o=tm(i,[o])[0])||(s.createRange?s.createRange():s.body.createTextRange())).setStart&&9===o.startContainer.nodeType&&o.collapsed&&(a=t.getRoot(),o.setStart(a,0),o.setEnd(a,0)),c&&l&&(0===n(o.START_TO_START,o,c)&&0===n(o.END_TO_END,o,c)?o=l:l=c=null),o},g=function(t,e){var n,r;if(function(t){return!!t&&(!!gm(t)||pm(t.startContainer)&&pm(t.endContainer))}(t)){var o=gm(t)?t:null;if(o){l=null;try{o.select()}catch(u){}}else{if(n=h(),t=i.fire("SetSelectionRange",{range:t,forward:e}).range,n){l=t;try{n.removeAllRanges(),n.addRange(t)}catch(u){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),c=0<n.rangeCount?n.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!n.setBaseAndExtent||Nn.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(r=t.startContainer.childNodes[t.startOffset])&&"IMG"===r.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(r,0,r,1)),i.fire("AfterSetSelectionRange",{range:t,forward:e})}}},p={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:i,collapse:d,setCursorLocation:function(e,n){var r=t.createRng();e?(r.setStart(e,n),r.setEnd(e,n),g(r),d(!1)):(Jd(t,r,i.getBody(),!0),g(r))},getContent:function(t){return dm(i,t)},setContent:r,getBookmark:function(t,e){return a.getBookmark(t,e)},moveToBookmark:function(t){return a.moveToBookmark(t)},select:function(e,n){return function(t,e,n){return A.from(e).map(function(e){var i=t.nodeIndex(e),r=t.createRng();return r.setStart(e.parentNode,i),r.setEnd(e.parentNode,i+1),n&&(Jd(t,r,e,!0),Jd(t,r,e,!1)),r})}(t,e,n).each(g),e},isCollapsed:function(){var t=f(),e=h();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},isForward:o,setNode:function(e){return r(t.getOuterHTML(e)),e},getNode:function(){return t=i.getBody(),(e=f())?(r=e.startContainer,o=e.endContainer,a=e.startOffset,s=e.endOffset,n=e.commonAncestorContainer,!e.collapsed&&(r===o&&s-a<2&&r.hasChildNodes()&&(n=r.childNodes[a]),3===r.nodeType&&3===o.nodeType&&(r=r.length===a?Hp(r.nextSibling,!0):r.parentNode,o=0===s?Hp(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):t;var t,e,n,r,o,a,s},getSel:h,setRng:g,getRng:f,getStart:function(t){return Bp(i.getBody(),f(),t)},getEnd:function(t){return Op(i.getBody(),f(),t)},getSelectedBlocks:function(e,n){return function(t,e,n,i){var r,o,a=[];if(o=t.getRoot(),n=t.getParent(n||Bp(o,e,e.collapsed),t.isBlock),i=t.getParent(i||Op(o,e,e.collapsed),t.isBlock),n&&n!==o&&a.push(n),n&&i&&n!==i)for(var s=new xo(r=n,o);(r=s.next())&&r!==i;)t.isBlock(r)&&a.push(r);return i&&n!==i&&i!==o&&a.push(i),a}(t,f(),e,n)},normalize:function(){var e=f(),n=h();if(sm(n)||!Zd(i))return e;var r=hm(t,e);return r.each(function(t){g(t,o())}),r.getOr(e)},selectorChanged:function(t,e){return u(t,e),p},selectorChangedWithUnbind:u,getScrollContainer:function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},scrollIntoView:function(t,e){return Qp(i,t,e)},placeCaretAt:function(t,e){return g(Zp(t,e,i.getDoc()))},getBoundingClientRect:function(){var t=f();return t.collapsed?vc.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){e=c=l=null,s.destroy()}};return a=op(p),s=rp(p,i),p.bookmarkManager=a,p.controlSelection=s,p}function vm(t){return Wm(t)&&t.data[0]===Za}function ym(t){return Wm(t)&&t.data[t.data.length-1]===Za}function bm(t){return t.ownerDocument.createTextNode(Za)}function _m(t,e){return t?function(t){if(Wm(t.previousSibling))return ym(t.previousSibling)||t.previousSibling.appendData(Za),t.previousSibling;if(Wm(t))return vm(t)||t.insertData(0,Za),t;var e=bm(t);return t.parentNode.insertBefore(e,t),e}(e):function(t){if(Wm(t.nextSibling))return vm(t.nextSibling)||t.nextSibling.insertData(0,Za),t.nextSibling;if(Wm(t))return ym(t)||t.appendData(Za),t;var e=bm(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e}(e)}function wm(t,e){return Xt.isText(t.container())?_m(e,t.container()):_m(e,t.getNode())}function Cm(t,e){var n=e.get();return n&&t.container()===n&&Ca(n)}function xm(t,e){if(!e)return e;var n=e.container(),i=e.offset();return t?Ca(n)?Xt.isText(n.nextSibling)?vc(n.nextSibling,0):vc.after(n):Ta(e)?vc(n,i+1):e:Ca(n)?Xt.isText(n.previousSibling)?vc(n.previousSibling,n.previousSibling.data.length):vc.before(n):ka(e)?vc(n,i-1):e}function Sm(t,e){return rc(e,t)||t}function Tm(t,e,n){var i=Jm.normalizeForwards(n),r=Sm(e,i.container());return Jm.findRootInline(t,r,i).fold(function(){return wl.nextPosition(r,i).bind(o(Jm.findRootInline,t,r)).map(function(t){return tv.before(t)})},A.none)}function km(t,e){return null===$s(t,e)}function zm(t,e,n){return Jm.findRootInline(t,e,n).filter(o(km,e))}function Em(t,e,n){var i=Jm.normalizeBackwards(n);return zm(t,e,i).bind(function(t){return wl.prevPosition(t,i).isNone()?A.some(tv.start(t)):A.none()})}function Nm(t,e,n){var i=Jm.normalizeForwards(n);return zm(t,e,i).bind(function(t){return wl.nextPosition(t,i).isNone()?A.some(tv.end(t)):A.none()})}function Km(t,e,n){var i=Jm.normalizeBackwards(n),r=Sm(e,i.container());return Jm.findRootInline(t,r,i).fold(function(){return wl.prevPosition(r,i).bind(o(Jm.findRootInline,t,r)).map(function(t){return tv.after(t)})},A.none)}function Am(t){return!1===Jm.isRtl(ev(t))}function Mm(t,e,n){return Zm([Tm,Em,Nm,Km],[t,e,n]).filter(Am)}function Dm(t){return t.fold(i("before"),i("start"),i("end"),i("after"))}function Pm(t){return t.fold(tv.before,tv.before,tv.after,tv.after)}function Rm(t,e,n,i,r,o){return Oa(Jm.findRootInline(e,n,i),Jm.findRootInline(e,n,r),function(e,i){return e!==i&&Jm.hasSameParentBlock(n,e,i)?tv.after(t?e:i):o}).getOr(o)}function Lm(t,e){return t.fold(i(!0),function(t){return!function(t,e){return Dm(t)===Dm(e)&&ev(t)===ev(e)}(t,e)})}function Fm(t,e){return t?e.fold(n(A.some,tv.start),A.none,n(A.some,tv.after),A.none):e.fold(A.none,n(A.some,tv.before),A.none,n(A.some,tv.end))}function Bm(t,e,n,i){var r=Jm.normalizePosition(t,i),a=Mm(e,n,r);return Mm(e,n,r).bind(o(Fm,t)).orThunk(function(){return function(t,e,n,i,r){var a=Jm.normalizePosition(t,r);return wl.fromPosition(t,n,a).map(o(Jm.normalizePosition,t)).fold(function(){return i.map(Pm)},function(r){return Mm(e,n,r).map(o(Rm,t,e,n,a,r)).filter(o(Lm,i))}).filter(Am)}(t,e,n,a,i)})}function Om(t,e,n){var i=t?1:-1;return e.setRng(vc(n.container(),n.offset()+i).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0}function Hm(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)}function Im(t){return!1!==t.settings.inline_boundaries}function Vm(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")}function jm(t,e,n){return Ym(e,n).map(function(e){return Hm(t,e),n})}function Um(t,e,n){return function(){return!!Im(e)&&av(t,e)}}var Gm,$m,Wm=Xt.isText,qm=o(_m,!0),Xm=o(_m,!1),Ym=function(t,e){return e.fold(function(e){Nc.remove(t.get());var n=qm(e);return t.set(n),A.some(vc(n,n.length-1))},function(e){return wl.firstPositionIn(e).map(function(e){if(Cm(e,t))return vc(t.get(),1);Nc.remove(t.get());var n=wm(e,!0);return t.set(n),vc(n,1)})},function(e){return wl.lastPositionIn(e).map(function(e){if(Cm(e,t))return vc(t.get(),t.get().length-1);Nc.remove(t.get());var n=wm(e,!1);return t.set(n),vc(n,n.length-1)})},function(e){Nc.remove(t.get());var n=Xm(e);return t.set(n),A.some(vc(n,1))})},Qm=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Jm={isInlineTarget:function(t,e){return yt(ve.fromDom(e),function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}(t))},findRootInline:function(t,e,n){var i=function(t,e,n){return _(Ro.DOM.getParents(n.container(),"*",e),t)}(t,e,n);return A.from(i[i.length-1])},isRtl:function(t){return"rtl"===Ro.DOM.getStyle(t,"direction",!0)||function(t){return Qm.test(t)}(t.textContent)},isAtZwsp:function(t){return Ta(t)||ka(t)},normalizePosition:xm,normalizeForwards:o(xm,!0),normalizeBackwards:o(xm,!1),hasSameParentBlock:function(t,e,n){var i=rc(e,t),r=rc(n,t);return i&&i===r}},Zm=function(t,e){for(var n=0;n<t.length;n++){var i=t[n].apply(null,e);if(i.isSome())return i}return A.none()},tv=Wu([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),ev=function(t){return t.fold(r,r,r,r)},nv=Mm,iv=Bm,rv=(o(Bm,!1),o(Bm,!0),Pm),ov=function(t){return t.fold(tv.start,tv.start,tv.end,tv.end)},av=function(t,e){var n=e.selection.getRng(),i=t?vc.fromRangeEnd(n):vc.fromRangeStart(n);return!!F(e.selection.getSel().modify)&&(t&&Ta(i)?Om(!0,e.selection,i):!(t||!ka(i))&&Om(!1,e.selection,i))},sv={move:function(t,e,n){return function(){return!!Im(t)&&function(t,e,n){var i=t.getBody(),r=vc.fromRangeStart(t.selection.getRng()),a=o(Jm.isInlineTarget,t);return iv(n,a,i,r).bind(function(n){return jm(t,e,n)})}(t,e,n).isSome()}},moveNextWord:o(Um,!0),movePrevWord:o(Um,!1),setupSelectedState:function(t){var e=Vo(null),n=o(Jm.isInlineTarget,t);return t.on("NodeChange",function(i){Im(t)&&(function(t,e,n){var i=_(e.select('*[data-mce-selected="inline-boundary"]'),t),r=_(n,t);b(z(i,r),o(Vm,!1)),b(z(r,i),o(Vm,!0))}(n,t.dom,i.parents),function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=vc.fromRangeStart(t.selection.getRng());vc.isTextPosition(n)&&!1===Jm.isAtZwsp(n)&&(Hm(t,Nc.removeAndReposition(e.get(),n)),e.set(null))}}(t,e),function(t,e,n,i){e.selection.isCollapsed()&&b(_(i,t),function(i){var r=vc.fromRangeStart(e.selection.getRng());nv(t,e.getBody(),r).bind(function(t){return jm(e,n,t)})})}(n,t,e,i.parents))}),e},setCaretPosition:Hm};function cv(t,e){return t===pc.Backwards?e.reverse():e}function lv(t,e,n,i){for(var r,o,a,s,c,l=Vc(n),u=i,d=[];u&&(s=l,c=u,r=e===pc.Forwards?s.next(c):s.prev(c));){if(Xt.isBr(r.getNode(!1)))return e===pc.Forwards?{positions:cv(e,d).concat([r]),breakType:Gm.Br,breakAt:A.some(r)}:{positions:cv(e,d),breakType:Gm.Br,breakAt:A.some(r)};if(r.isVisible()){if(t(u,r)){var h=(o=u,Xt.isBr((a=r).getNode(e===pc.Forwards))?Gm.Br:!1===oc(o,a)?Gm.Block:Gm.Wrap);return{positions:cv(e,d),breakType:h,breakAt:A.some(r)}}d.push(r),u=r}else u=r}return{positions:cv(e,d),breakType:Gm.Eol,breakAt:A.none()}}function uv(t,e,n,i){return e(n,i).breakAt.map(function(i){var r=e(n,i).positions;return t===pc.Backwards?r.concat(i):[i].concat(r)}).getOr([])}function dv(t,e){return C(t,function(t,n){return t.fold(function(){return A.some(n)},function(i){return Oa(E(i.getClientRects()),E(n.getClientRects()),function(t,r){var o=Math.abs(e-t.left);return Math.abs(e-r.left)<=o?n:i}).or(t)})},A.none())}function hv(t,e){return E(e.getClientRects()).bind(function(e){return dv(t,e.left)})}function fv(t,e,n){var i,r,a=Vc(t.getBody()),s=o(fc,a.next),c=o(fc,a.prev);if(n.collapsed&&t.settings.forced_root_block){if(!(i=t.dom.getParent(n.startContainer,"PRE")))return;(1===e?s(vc.fromRangeStart(n)):c(vc.fromRangeStart(n)))||(r=function(t){var e=t.dom.create(ku(t));return(!Nn.ie||11<=Nn.ie)&&(e.innerHTML='<br data-mce-bogus="1">'),e}(t),1===e?t.$(i).after(r):t.$(i).before(r),t.selection.select(r,!0),t.selection.collapse())}}function gv(t,e){return function(){var n=function(t,e){var n,i=Vc(t.getBody()),r=o(fc,i.next),a=o(fc,i.prev),s=e?pc.Forwards:pc.Backwards,c=e?r:a,l=t.selection.getRng();return(n=function(t,e,n,i){var r=t===pc.Forwards,o=r?Kf:Af;if(!i.collapsed){var a=Tb(i);if(Sb(a))return Th(t,e,a,t===pc.Backwards,!0)}var s=wa(i.startContainer),c=dc(t,e.getBody(),i);if(o(c))return kh(e,c.getNode(!r));var l=Jm.normalizePosition(r,n(c));if(!l)return s?i:null;if(o(l))return Th(t,e,l.getNode(!r),r,!0);var u=n(l);return u&&o(u)&&gc(l,u)?Th(t,e,u.getNode(!r),r,!0):s?Eh(e,l.toRange(),!0):null}(s,t,c,l))?n:(n=fv(t,s,l))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}}function pv(t,e){return function(){var n=function(t,e){var n,i=e?1:-1,r=e?pf:gf,o=t.selection.getRng();return(n=function(t,e,n,i){var r,o,a,s,c,l,u,d;if(d=Tb(i),r=dc(t,e.getBody(),i),o=_(n(e.getBody(),vh(1),r),yh(1)),s=An.last(r.getClientRects()),(Kf(r)||Ef(r))&&(d=r.getNode()),(Af(r)||Nf(r))&&(d=r.getNode(!0)),!s)return null;if((a=Ch(o,c=s.left))&&Sb(a.node))return l=Math.abs(c-a.left),u=Math.abs(c-a.right),Th(t,e,a.node,l<u,!0);if(d){var h=function(t,e,n,i){function r(t){return An.last(t.getClientRects())}var o,a,s,c,l,u,d=Vc(e),h=[],f=0;u=r(c=1===t?(o=d.next,a=Pa,s=Da,vc.after(i)):(o=d.prev,a=Da,s=Pa,vc.before(i)));do{if(c.isVisible()&&!s(l=r(c),u)){if(0<h.length&&a(l,An.last(h))&&f++,(l=Ka(l)).position=c,l.line=f,n(l))return h;h.push(l)}}while(c=o(c));return h}(t,e.getBody(),vh(1),d);if(a=Ch(_(h,yh(1)),c))return Eh(e,a.position.toRange(),!0);if(a=An.last(_(h,yh(0))))return Eh(e,a.position.toRange(),!0)}}(i,t,r,o))?n:(n=fv(t,i,o))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}}function mv(t,e){return function(){var n=e?vc.fromRangeEnd(t.selection.getRng()):vc.fromRangeStart(t.selection.getRng()),r=e?wb(t.getBody(),n):_b(t.getBody(),n);return(e?N(r.positions):E(r.positions)).filter(function(t){return function(e){return t?Af(e):Kf(e)}}(e)).fold(i(!1),function(e){return t.selection.setRng(e.toRange()),!0})}}function vv(t,e,n,i,r){var o=oa(ve.fromDom(n),"td,th,caption").map(function(t){return t.dom()});return function(t,e,n){return C(t,function(t,i){return t.fold(function(){return A.some(i)},function(t){var r=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),o=Math.sqrt(Math.abs(i.x-e)+Math.abs(i.y-n));return A.some(o<r?i:t)})},A.none())}(_(function(t,e){return T(o,function(e){var n=function(t,e){return{left:t.left- -1,top:t.top- -1,right:t.right+-2,bottom:t.bottom+-2,width:t.width+-1,height:t.height+-1}}(Ka(e.getBoundingClientRect()));return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]})}(t),function(t){return e(t,r)}),i,r).map(function(t){return t.cell})}function yv(t,e){t.selection.setRng(e),Jp(t,e)}function bv(t,e,n){var i=t(e,n);return i.breakType===Gm.Wrap&&0===i.positions.length||!Xt.isBr(n.getNode())&&i.breakType===Gm.Br&&1===i.positions.length?!function(t,e,n){return i.breakAt.map(function(n){return t(e,n).breakAt.isSome()}).getOr(!1)}(t,e):i.breakAt.isNone()}function _v(t,e,n){var i=function(t,i){var r=n.getNode(!!e);return Xt.isElement(r)&&"TABLE"===r.nodeName?A.some(r):A.none()}(),r=!1===e;i.fold(function(){return yv(t,n.toRange())},function(i){return wl.positionIn(r,t.getBody()).filter(function(t){return t.isEqual(n)}).fold(function(){return yv(t,n.toRange())},function(r){return function(t,e,n,i){var r=ku(e);r?e.undoManager.transact(function(){var i=ve.fromTag(r);ht(i,zu(e)),sa(i,ve.fromTag("br")),t?Xo(ve.fromDom(n),i):qo(ve.fromDom(n),i);var o=e.dom.createRng();o.setStart(i.dom(),0),o.setEnd(i.dom(),0),yv(e,o)}):yv(e,i.toRange())}(e,t,i,n)})})}function wv(t,e){return function(){return A.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(n){return A.from(t.dom.getParent(n,"table")).map(function(n){return function(t,e,n,i){var r=t.selection.getRng(),o=e?1:-1;return!(!Js()||!function(t,e,n){var i=vc.fromRangeStart(r);return wl.positionIn(!t,n).map(function(t){return t.isEqual(i)}).getOr(!1)}(e,0,n)||(yv(t,Th(o,t,n,!e,!0)),0))}(t,e,n)})}).getOr(!1)}}function Cv(t,e){return function(){return A.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(n){return A.from(t.dom.getParent(n,"table")).map(function(i){return function(t,e,n,i){var r=t.selection.getRng(),o=vc.fromRangeStart(r),a=t.getBody();if(!e&&Eb(i,o)){var s=function(t,e,n){return function(t,e){return E(e.getClientRects()).bind(function(e){return kb(t,e.left,e.top)}).bind(function(t){return hv(wl.lastPositionIn(n=t).map(function(t){return _b(n,t).positions.concat(t)}).getOr([]),e);var n})}(e,n).orThunk(function(){return E(n.getClientRects()).bind(function(n){return dv(Cb(t,vc.before(e)),n.left)})}).getOr(vc.before(e))}(a,n,o);return _v(t,e,s),!0}return!(!e||!Nb(i,o)||(s=function(t,e,n){return function(t,e){return N(e.getClientRects()).bind(function(e){return zb(t,e.left,e.top)}).bind(function(t){return hv(wl.firstPositionIn(n=t).map(function(t){return[t].concat(wb(n,t).positions)}).getOr([]),e);var n})}(e,n).orThunk(function(){return E(n.getClientRects()).bind(function(n){return dv(xb(t,vc.after(e)),n.left)})}).getOr(vc.after(e))}(a,n,o),_v(t,e,s),0))}(t,e,i,n)})}).getOr(!1)}}function xv(t){return v(["figcaption"],it(t))}function Sv(e){var n=t.document.createRange();return n.setStartBefore(e.dom()),n.setEndBefore(e.dom()),n}function Tv(t,e,n){n?sa(t,e):Yo(t,e)}function kv(t,e){return function(){return!!t.selection.isCollapsed()&&function(t,e){var n=ve.fromDom(t.getBody()),i=vc.fromRangeStart(t.selection.getRng()),r=ku(t),a=zu(t);return function(t,e){var i=o(_t,n);return ha(ve.fromDom(t.container()),jn,i).filter(xv)}(i).exists(function(){if(function(t,e,n){return e?function(t,e){return wb(t,n).breakAt.isNone()}(t.dom()):function(t,e){return _b(t,n).breakAt.isNone()}(t.dom())}(n,e,i)){var o=function(t,e,n,i){return""===e?function(t,e){var n=ve.fromTag("br");return Tv(t,n,e),Sv(n)}(t,i):function(t,e,n,i){var r=ve.fromTag(n),o=ve.fromTag("br");return ht(r,i),sa(r,o),Tv(t,r,e),Sv(o)}(t,i,e,n)}(n,r,a,e);return t.selection.setRng(o),!0}return!1})}(t,e)}}function zv(t,e){return{from:i(t),to:i(e)}}function Ev(t,e){var n=ve.fromDom(t),r=ve.fromDom(e.container());return Mb(n,r).map(function(t){return function(t,e){return{block:i(t),position:i(e)}}(t,e)})}function Nv(t){var e=function(t){var e=Et(t);return S(e,jn).fold(function(){return e},function(t){return e.slice(0,t)})}(t);return b(e,ca),e}function Kv(t,e){return x(eh(e,t).reverse(),Wf).each(ca)}function Av(t,e,n,i){if(Wf(n))return Of(n),wl.firstPositionIn(n.dom());0===_(kt(i),function(t){return!Wf(t)}).length&&Wf(e)&&qo(i,ve.fromTag("br"));var r=wl.prevPosition(n.dom(),vc.before(i.dom()));return b(Nv(e),function(t){qo(i,t)}),Kv(t,e),r}function Mv(t,e,n){if(Wf(n))return ca(n),Wf(e)&&Of(e),wl.firstPositionIn(e.dom());var i=wl.lastPositionIn(n.dom());return b(Nv(e),function(t){sa(n,t)}),Kv(t,e),i}function Dv(t,e){wl.positionIn(t,e.dom()).map(function(t){return t.getNode()}).map(ve.fromDom).filter(Fn).each(ca)}function Pv(t,e,n){return Dv(!0,e),Dv(!1,n),function(t,e){return Me(e,t)?function(t,e){var n=eh(e,t);return A.from(n[n.length-1])}(e,t):A.none()}(e,n).fold(o(Mv,t,e,n),o(Av,t,e,n))}function Rv(t,e){var n=ve.fromDom(e),i=o(_t,t);return da(n,Xn,i).isSome()}function Lv(t){return hc(t).exists(Fn)}function Fv(t,e,n){var i=E(_(eh(ve.fromDom(n.container()),e),jn)).getOr(e);return wl.fromPosition(t,i.dom(),n).filter(Lv)}function Bv(t,e){return hc(e).exists(Fn)||Fv(!0,t,e).isSome()}function Ov(t,e){return A.from(e.getNode(!0)).map(ve.fromDom).exists(Fn)||Fv(!1,t,e).isSome()}function Hv(t,e,n,i){var r=i.getNode(!1===e);return Mb(ve.fromDom(t),ve.fromDom(n.getNode())).map(function(t){return Wf(t)?Ob.remove(t.dom()):Ob.moveToElement(r)}).orThunk(function(){return A.some(Ob.moveToElement(r))})}function Iv(t,e,n){return wl.fromPosition(e,t,n).bind(function(r){return function(t){return Xn(ve.fromDom(t))||$n(ve.fromDom(t))}(r.getNode())?A.none():function(t,e,n,r){function o(e){return Ln(ve.fromDom(e))&&!oc(n,r,t)}return uc(!e,n).fold(function(){return uc(e,r).fold(i(!1),o)},o)}(t,e,n,r)?A.none():e&&Xt.isContentEditableFalse(r.getNode())?Hv(t,e,n,r):!1===e&&Xt.isContentEditableFalse(r.getNode(!0))?Hv(t,e,n,r):e&&Af(n)?A.some(Ob.moveToPosition(r)):!1===e&&Kf(n)?A.some(Ob.moveToPosition(r)):A.none()})}function Vv(t,e){return A.from(Hb(t.getBody(),e))}function jv(t,e,n,i,r,o){var a=Th(i,t,o.getNode(!r),r,!0);if(e.collapsed){var s=e.cloneRange();r?s.setEnd(a.startContainer,a.startOffset):s.setStart(a.endContainer,a.endOffset),s.deleteContents()}else e.deleteContents();return t.selection.setRng(a),function(t,e){Xt.isText(e)&&0===e.data.length&&t.remove(e)}(t.dom,n),!0}function Uv(t,e){return function(n){return Ym(e,n).map(function(e){return sv.setCaretPosition(t,e),!0}).getOr(!1)}}function Gv(e,n,i,r){var a=e.getBody(),s=o(Jm.isInlineTarget,e);e.undoManager.ignore(function(){e.selection.setRng(function(e,n){var i=t.document.createRange();return i.setStart(e.container(),e.offset()),i.setEnd(n.container(),n.offset()),i}(i,r)),e.execCommand("Delete"),nv(s,a,vc.fromRangeStart(e.selection.getRng())).map(ov).map(Uv(e,n))}),e.nodeChanged()}function $v(t){return 1===Et(t).length}function Wv(t,e){return{start:i(t),end:i(e)}}function qv(t,e){return pa(ve.fromDom(t),"td,th",e)}function Xv(t,e){return fa(t,"table",e)}function Yv(t){return!1===_t(t.start(),t.end())}function Qv(t,e){return Xv(t.start(),e).bind(function(n){return Xv(t.end(),e).bind(function(t){return function(t,e){return t?A.some(e):A.none()}(_t(n,t),n)})})}function Jv(t){return oa(t,"td,th")}function Zv(t,e){return S(t,function(t){return _t(t,e)})}function ty(t){return function(t){return Oa(Zv(t.cells(),t.rng().start()),Zv(t.cells(),t.rng().end()),function(e,n){return t.cells().slice(e,n+1)})}(t).map(function(e){var n=t.cells();return e.length===n.length?$b.removeTable(t.table()):$b.emptyCells(e)})}function ey(t,e){return b(e,Of),t.selection.setCursorLocation(e[0].dom(),0),!0}function ny(t,e){return qf(t,!1,e),!0}function iy(t,e){return x(eh(e,t),Xn)}function ry(t,e){return t?Ef(e):Nf(e)}function oy(t){var e=parseInt(t,10);return isNaN(e)?0:e}function ay(t,e){return(t||"table"===it(e)?"margin":"padding")+("rtl"===pt(e,"direction")?"-right":"-left")}function sy(t){var e,n=Jb(t);return!0!==t.readonly&&(1<n.length||(e=t,k(n,function(t){var n=mt(t,ay(ju(e),t)).map(oy).getOr(0);return"false"!==e.dom.getContentEditable(t.dom())&&0<n})))}function cy(t){return Gn(t)||$n(t)}function ly(t,e){var n=t.dom,i=t.selection,r=t.formatter,o=Uu(t),a=/[a-z%]+$/i.exec(o)[0],s=parseInt(o,10),c=ju(t),l=ku(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==l||n.getParent(i.getNode(),n.isBlock)||r.apply("div"),b(Jb(t),function(t){!function(t,e,n,i,r,o){var a=ay(n,ve.fromDom(o));if("outdent"===e){var s=Math.max(0,oy(o.style[a])-i);t.setStyle(o,a,s?s+r:"")}else s=oy(o.style[a])+i+r,t.setStyle(o,a,s)}(n,e,c,s,a,t.dom())})}function uy(t,e,n){return wl.navigateIgnore(t,e,n,Mh)}function dy(t,e){return x(eh(ve.fromDom(e.container()),t),jn)}function hy(t,e,n){return uy(t,e.dom(),n).forall(function(t){return dy(e,n).fold(function(){return!1===oc(t,n,e.dom())},function(i){return!1===oc(t,n,e.dom())&&Me(i,ve.fromDom(t.container()))})})}function fy(t,e,n){return dy(e,n).fold(function(){return uy(t,e.dom(),n).forall(function(t){return!1===oc(t,n,e.dom())})},function(e){return uy(t,e.dom(),n).isNone()})}function gy(t){return A.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))}function py(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e}function my(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)}function vy(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t}function yy(t,e,n){for(var i=t[n?"firstChild":"lastChild"];i&&!Xt.isElement(i);)i=i[n?"nextSibling":"previousSibling"];return i===e}function by(t){t.innerHTML='<br data-mce-bogus="1">'}function _y(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e}function wy(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)}function Cy(t,e,n){return!1===Xt.isText(e)?n:t?1===n&&e.data.charAt(n-1)===Za?0:n:n===e.data.length-1&&e.data.charAt(n)===Za?e.data.length:n}function xy(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r}function Sy(t,e){var n=ku(t);n&&n.toLowerCase()===e.tagName.toLowerCase()&&t.dom.setAttribs(e,zu(t))}function Ty(t,e,n){var i=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),e.scrollIntoView(i),t.remove(i)}function ky(t,e,n,i){var r=t.createRng();i?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.setRng(r)}function zy(t,e){var n=ve.fromTag("br");qo(ve.fromDom(e),n),t.undoManager.add()}function Ey(t,e){l_(t.getBody(),e)||Xo(ve.fromDom(e),ve.fromTag("br"));var n=ve.fromTag("br");Xo(ve.fromDom(e),n),Ty(t.dom,t.selection,n.dom()),ky(t.dom,t.selection,n.dom(),!1),t.undoManager.add()}function Ny(t){return t&&"A"===t.nodeName&&"href"in t}function Ky(t){return t.fold(i(!1),Ny,Ny,i(!1))}function Ay(t,n){n.fold(e,o(zy,t),o(Ey,t),e)}function My(t,e){return a_(t).filter(function(t){return 0<e.length&&yt(ve.fromDom(t),e)}).isSome()}function Dy(t,e){return h_(t)}function Py(t){return function(e,n){return""===ku(e)===t}}function Ry(t){return function(e,n){return c_(e)===t}}function Ly(t,e){return function(n,i){return s_(n)===t.toUpperCase()===e}}function Fy(t){return Ly("pre",t)}function By(t){return function(e,n){return Tu(e)===t}}function Oy(t,e){return d_(t)}function Hy(t,e){return e}function Iy(t){var e=ku(t),n=o_(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")}function Vy(t,e){return function(n,i){return C(t,function(t,e){return t&&e(n,i)},!0)?A.some(e):A.none()}}function jy(t,e){var n=e.container(),i=e.offset();return Xt.isText(n)?(n.insertData(i,t),A.some(Ks(n,i+t.length))):hc(e).map(function(n){var i=ve.fromText(t);return e.isAtEnd()?Xo(n,i):qo(n,i),Ks(i.dom(),t.length)})}function Uy(t){return Ks.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()}function Gy(t,e){return E(_(eh(ve.fromDom(e.container()),t),jn)).getOr(t)}function $y(t,e){return Uy(e)?Tf(e):Tf(e)||wl.prevPosition(Gy(t,e).dom(),e).exists(Tf)}function Wy(t,e){return Uy(e)?Sf(e):Sf(e)||wl.nextPosition(Gy(t,e).dom(),e).exists(Sf)}function qy(t){return hc(t).bind(function(t){return ha(t,we)}).exists(function(t){return function(t){return v(["pre","pre-wrap"],t)}(pt(t,"white-space"))})}function Xy(t,e){return function(t,e){return!qy(e)&&(Zb(t,e)||e_(t,e)||Ov(t,e)||$y(t,e))}(t,e)||function(t,e){var n=function(t){var e=t.container(),n=t.offset();return Xt.isText(e)&&n<e.data.length?Ks(e,n+1):t}(e);return!qy(n)&&(t_(t,n)||n_(t,n)||Bv(t,n)||Wy(t,n))}(t,e)}function Yy(t,e){return xf(t.charAt(e))}function Qy(t){var e=t.container();return Xt.isText(e)&&J(e.data,"\xa0")}function Jy(t){var e=ve.fromDom(t.getBody());t.selection.isCollapsed()&&function(t,e){return A.some(e).filter(Qy).bind(function(e){var n=e.container();return function(t,e){var n=e.data,i=Ks(e,0);return!(!Yy(n,0)||Xy(t,i)||(e.data=" "+n.slice(1),0))}(t,n)||function(t){var e=t.data,n=function(t){var n=e.split("");return V(n,function(t,e){return xf(t)&&0<e&&e<n.length-1&&Kh(n[e-1])&&Kh(n[e+1])?" ":t}).join("")}();return n!==e&&(t.data=n,!0)}(n)||function(t,e){var n=e.data,i=Ks(e,n.length-1);return!(!Yy(n,n.length-1)||Xy(t,i)||(e.data=n.slice(0,-1)+" ",0))}(t,n)?A.some(e):A.none()})}(e,Ks.fromRangeStart(t.selection.getRng())).each(function(e){t.selection.setRng(e.toRange())})}function Zy(t){var e=vc.fromRangeStart(t.selection.getRng()),n=ve.fromDom(t.getBody());if(t.selection.isCollapsed()){var i=o(Jm.isInlineTarget,t),r=vc.fromRangeStart(t.selection.getRng());return nv(i,t.getBody(),r).bind(function(t){return function(e){return e.fold(function(e){return wl.prevPosition(t.dom(),vc.before(e))},function(t){return wl.firstPositionIn(t)},function(t){return wl.lastPositionIn(t)},function(e){return wl.nextPosition(t.dom(),vc.after(e))})}}(n)).bind(function(t,e){return function(n){return function(t,e){return!qy(e)&&(function(t,e){return function(t,e){return wl.prevPosition(t.dom(),e).isNone()}(t,e)||function(t,e){return wl.nextPosition(t.dom(),e).isNone()}(t,e)||Zb(t,e)||t_(t,e)||Ov(t,e)||Bv(t,e)}(t,e)||$y(t,e)||Wy(t,e))}(t,n)?p_(e):m_(e)}}(n,e)).exists(function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}}(t))}return!1}function tb(t,e){e.hasAttribute("data-mce-caret")&&(za(e),function(t){t.selection.setRng(t.selection.getRng())}(t),t.selection.scrollIntoView(e))}function eb(t,e){var n=function(t){return ga(ve.fromDom(t.getBody()),"*[data-mce-caret]").fold(i(null),function(t){return t.dom()})}(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void tb(t,n)):void(Sa(n)&&(tb(t,n),t.undoManager.add()))}function nb(t){return Xt.isElement(t)&&Un(ve.fromDom(t))}function ib(t){var e;t.bindPendingEventDelegates(),t.initialized=!0,t.fire("init"),t.focus(!0),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),(e=t).settings.auto_focus&&Cn.setEditorTimeout(e,function(){var t;(t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)).destroyed||t.focus()},100)}function rb(t){return t.replace(/^\-/,"")}function ob(t){return{editorContainer:t,iframeContainer:t}}function ab(t){return"-"===t.charAt(0)}function sb(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(f){}}function cb(t,e){t.dom().contentEditable=e?"true":"false"}function lb(t){return!0===t.readonly}function ub(t){t.parser.addAttributeFilter("contenteditable",function(e){lb(t)&&b(e,function(t){t.attr(T_,t.attr("contenteditable")),t.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(T_,function(e){lb(t)&&b(e,function(t){t.attr("contenteditable",t.attr(T_))})}),t.serializer.addTempAttr(T_)}function db(e,n,i,r){var o=i[n.get()],a=i[r];try{a.activate()}catch(rC){return void t.console.error("problem while activating editor mode "+r+":",rC)}o.deactivate(),o.editorReadOnly!==a.editorReadOnly&&function(t,e){var n=ve.fromDom(t.getBody());(function(t,e,n){ra(t,e)&&!1===n?function(t,e){na(t)?t.dom().classList.remove(e):function(t,e){!function(t,e,n){var i=_(ea(t,e),function(t){return"mce-content-readonly"!==t});0<i.length?ze(t,e,i.join(" ")):gt(t,e)}(t,"class")}(t),function(t){0===(na(t)?t.dom().classList:function(t){return ea(t,"class")}(t)).length&&gt(t,"class")}(t)}(t,e):n&&ia(t,e)})(n,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),function(t){A.from(t.selection.getNode()).each(function(t){t.removeAttribute("data-mce-selected")})}(t),t.readonly=!0,cb(n,!1),b(oa(n,'*[contenteditable="true"]'),function(t){ze(t,T_,"true"),cb(t,!1)})):(t.readonly=!1,cb(n,!0),b(oa(n,"*["+T_+'="true"]'),function(t){gt(t,T_),cb(t,!0)}),sb(t,"StyleWithCSS",!1),sb(t,"enableInlineTableEditing",!1),sb(t,"enableObjectResizing",!1),sd(t)&&t.focus(),function(t){t.selection.setRng(t.selection.getRng())}(t),t.nodeChanged())}(e,a.editorReadOnly),n.set(r),ld(e,r)}function hb(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null}function fb(t,e){var n=vc.after(t),i=Vc(e).prev(n);return i?i.toRange():null}function gb(t,e){var n=t.selection.getRng(),i=n.startContainer,r=n.startOffset;n.collapsed&&function(t,e){return Xt.isText(t)&&"\xa0"===t.nodeValue[e-1]}(i,r)&&Xt.isText(i)&&(i.insertData(r-1," "),i.deleteData(r,1),n.setStart(i,r),n.setEnd(i,r),t.selection.setRng(n)),t.selection.setContent(e)}function pb(t,e){t.getDoc().execCommand(e,!1,null)}function mb(t){return function(e,n){return A.from(n).map(ve.fromDom).filter(we).bind(function(n){return function(t,e,n){function i(e){return mt(e,t)}return ha(ve.fromDom(n),function(t){return i(t).isSome()},function(t){return _t(ve.fromDom(e),t)}).bind(i)}(t,e,n.dom()).or(function(t,e){return A.from(Ro.DOM.getStyle(e,t,!0))}(t,n.dom()))}).getOr("")}}function vb(t){return wl.firstPositionIn(t.getBody()).map(function(t){var e=t.container();return Xt.isText(e)?e.parentNode:e})}function yb(t){return A.from(t.selection.getRng()).bind(function(e){return function(t,e){return t.startContainer===e&&0===t.startOffset}(e,t.getBody())?A.none():A.from(t.selection.getStart(!0))})}function bb(t,e){if(/^[0-9\.]+$/.test(e)){var n=parseInt(e,10);if(1<=n&&n<=7){var i=Ku(t),r=Au(t);return r?r[n-1]||e:i[n-1]||e}return e}return e}($m=Gm=Gm||{})[$m.Br=0]="Br",$m[$m.Block=1]="Block",$m[$m.Wrap=2]="Wrap",$m[$m.Eol=3]="Eol";var _b=o(lv,Ks.isAbove,-1),wb=o(lv,Ks.isBelow,1),Cb=o(uv,-1,_b),xb=o(uv,1,wb),Sb=Xt.isContentEditableFalse,Tb=La,kb=o(vv,function(t){return t.bottom},function(t,e){return t.y<e}),zb=o(vv,function(t){return t.top},function(t,e){return t.y>e}),Eb=o(bv,_b),Nb=o(bv,wb),Kb=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,i)}},Ab=function(t,n){return x(function(t,n){return T(function(t){return V(t,function(t){return pd({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:e},t)})}(t),function(t){return function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey}(t,n)?[t]:[]})}(t,n),function(t){return t.action()})},Mb=function(t,e){return Me(t,e)?ha(e,function(t){return Un(t)||$n(t)},function(t){return function(e){return _t(t,ve.fromDom(e.dom().parentNode))}}(t)):A.none()},Db=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)}(t))},Pb=function(t,e,n,i){return e?Pv(t,i,n):Pv(t,n,i)},Rb=function(t,e){var n=ve.fromDom(t.getBody()),i=function(t,e,n){return n.collapsed?function(t,e,n){var i=Ev(t,vc.fromRangeStart(n)),r=i.bind(function(n){return wl.fromPosition(e,t,n.position()).bind(function(n){return Ev(t,n).map(function(n){return function(t,e,n){return Xt.isBr(n.position().getNode())&&!1===Wf(n.block())?wl.positionIn(!1,n.block().dom()).bind(function(i){return i.isEqual(n.position())?wl.fromPosition(e,t,i).bind(function(e){return Ev(t,e)}):A.some(n)}).getOr(n):n}(t,e,n)})})});return Oa(i,r,zv).filter(function(t){return function(t){return!1===_t(t.from().block(),t.to().block())}(t)&&function(t){return xt(t.from().block()).bind(function(e){return xt(t.to().block()).filter(function(t){return _t(e,t)})}).isSome()}(t)&&function(t){return!1===Xt.isContentEditableFalse(t.from().block().dom())&&!1===Xt.isContentEditableFalse(t.to().block().dom())}(t)})}(t,e,n):A.none()}(n.dom(),e,t.selection.getRng()).bind(function(t){return Pb(n,e,t.from().block(),t.to().block())});return i.each(function(e){t.selection.setRng(e.toRange())}),i.isSome()},Lb=function(t,e){return!t.selection.isCollapsed()&&function(t){var e,n,i,r=ve.fromDom(t.getBody());return function(t,e){var n=wl.prevPosition(t.dom(),vc.fromRangeStart(e)).isNone(),i=wl.nextPosition(t.dom(),vc.fromRangeEnd(e)).isNone();return!function(t,e){return Rv(t,e.startContainer)||Rv(t,e.endContainer)}(t,e)&&n&&i}(r,t.selection.getRng())?function(t){return t.setContent(""),t.selection.setCursorLocation(),!0}(t):(e=r,i=(n=t.selection).getRng(),Oa(Mb(e,ve.fromDom(i.startContainer)),Mb(e,ve.fromDom(i.endContainer)),function(t,r){return!1===_t(t,r)&&(i.deleteContents(),Pb(e,!0,t,r).each(function(t){n.setRng(t.toRange())}),!0)}).getOr(!1))}(t)},Fb=o(Fv,!1),Bb=o(Fv,!0),Ob=Wu([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Hb=function(t,e){for(;e&&e!==t;){if(Xt.isContentEditableTrue(e)||Xt.isContentEditableFalse(e))return e;e=e.parentNode}return null},Ib=function(t,e){return t.selection.isCollapsed()?function(t,e){var n=t.selection.getNode();return Vv(t,n).filter(Xt.isContentEditableFalse).fold(function(){return function(t,e,n){var i=lc(e?1:-1,t,n),r=vc.fromRangeStart(i),o=ve.fromDom(t);return!1===e&&Af(r)?A.some(Ob.remove(r.getNode(!0))):e&&Kf(r)?A.some(Ob.remove(r.getNode())):!1===e&&Kf(r)&&Ov(o,r)?Fb(o,r).map(function(t){return Ob.remove(t.getNode())}):e&&Af(r)&&Bv(o,r)?Bb(o,r).map(function(t){return Ob.remove(t.getNode())}):function(t,e,n){return function(t,e){var n=e.getNode(!1===t),i=t?"after":"before";return Xt.isElement(n)&&n.getAttribute("data-mce-caret")===i}(e,n)?function(t,e){return t&&Xt.isContentEditableFalse(e.nextSibling)?A.some(Ob.moveToElement(e.nextSibling)):!1===t&&Xt.isContentEditableFalse(e.previousSibling)?A.some(Ob.moveToElement(e.previousSibling)):A.none()}(e,n.getNode(!1===e)).fold(function(){return Iv(t,e,n)},A.some):Iv(t,e,n).bind(function(e){return function(t,e,n){return n.fold(function(t){return A.some(Ob.remove(t))},function(t){return A.some(Ob.moveToElement(t))},function(n){return oc(e,n,t)?A.none():A.some(Ob.moveToPosition(n))})}(t,n,e)})}(t,e,r)}(t.getBody(),e,t.selection.getRng()).map(function(n){return n.fold(function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),qf(t,e,ve.fromDom(n)),!0}}(t,e),function(t,e){return function(n){var i=e?vc.before(n):vc.after(n);return t.selection.setRng(i.toRange()),!0}}(t,e),function(t){return function(e){return t.selection.setRng(e.toRange()),!0}}(t))}).getOr(!1)},function(){return!0})}(t,e):function(t,e){var n=t.selection.getNode();return!!Xt.isContentEditableFalse(n)&&Vv(t,n.parentNode).filter(Xt.isContentEditableFalse).fold(function(){return function(t){b(oa(t,".mce-offscreen-selection"),ca)}(ve.fromDom(t.getBody())),qf(t,e,ve.fromDom(t.selection.getNode())),Db(t),!0},function(){return!0})}(t,e)},Vb=function(t){var e,n=Hb(t.getBody(),t.selection.getNode());return Xt.isContentEditableTrue(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(vc.before(e).toRange())),!0},jb=function(t,e){return function(t,e){var n=t.selection.getRng();if(!Xt.isText(n.commonAncestorContainer))return!1;var i=e?pc.Forwards:pc.Backwards,r=Vc(t.getBody()),a=o(fc,r.next),s=o(fc,r.prev),c=e?a:s,l=e?Kf:Af,u=dc(i,t.getBody(),n),d=Jm.normalizePosition(e,c(u));if(!d)return!1;if(l(d))return jv(t,n,u.getNode(),i,e,d);var h=c(d);return!!(h&&l(h)&&gc(d,h))&&jv(t,n,u.getNode(),i,e,h)}(t,e)},Ub=function(t,e,n){if(t.selection.isCollapsed()&&function(t){return!1!==t.settings.inline_boundaries}(t)){var r=vc.fromRangeStart(t.selection.getRng());return function(t,e,n,r){var a,s=(a=t.getBody(),rc(r.container(),a)||a),c=o(Jm.isInlineTarget,t),l=nv(c,s,r);return l.bind(function(t){return n?t.fold(i(A.some(ov(t))),A.none,i(A.some(rv(t))),A.none):t.fold(A.none,i(A.some(rv(t))),A.none,i(A.some(ov(t))))}).map(Uv(t,e)).getOrThunk(function(){var i=wl.navigate(n,s,r),o=i.bind(function(t){return nv(c,s,t)});return l.isSome()&&o.isSome()?Jm.findRootInline(c,s,r).map(function(e){return!!function(t){return Oa(wl.firstPositionIn(t),wl.lastPositionIn(t),function(e,n){var i=Jm.normalizePosition(!0,e),r=Jm.normalizePosition(!1,n);return wl.nextPosition(t,i).map(function(t){return t.isEqual(r)}).getOr(!0)}).getOr(!0)}(e)&&(qf(t,n,ve.fromDom(e)),!0)}).getOr(!1):o.bind(function(o){return i.map(function(i){return n?Gv(t,e,r,i):Gv(t,e,i,r),!0})}).getOr(!1)})}(t,e,n,r)}return!1},Gb=function(t,e){return!!t.selection.isCollapsed()&&(r=e,N(a=_(function(t,e){var n=eh(e,t);return S(n,jn).fold(i(n),function(t){return n.slice(0,t)})}(ve.fromDom((n=t).getBody()),ve.fromDom(n.selection.getStart())),$v)).map(function(t){var e,i,s,c=vc.fromRangeStart(n.selection.getRng());return e=r,i=c,s=t.dom(),!(!Oa(wl.firstPositionIn(s),wl.lastPositionIn(s),function(t,n){var r=Jm.normalizePosition(!0,t),o=Jm.normalizePosition(!1,n),a=Jm.normalizePosition(!1,i);return e?wl.nextPosition(s,a).map(function(t){return t.isEqual(o)&&i.isEqual(r)}).getOr(!1):wl.prevPosition(s,a).map(function(t){return t.isEqual(r)&&i.isEqual(o)}).getOr(!1)}).getOr(!0)||function(t){return Gs(t.dom())&&rf(t.dom())}(t)||(function(t,e,n,i){var r=o(hf,e),a=V(_(i,r),function(t){return t.dom()});if(0===a.length)qf(e,t,n);else{var s=function(t,e){var n=af(!1),i=df(e,n.dom());return qo(ve.fromDom(t),n),ca(ve.fromDom(t)),vc(i,0)}(n.dom(),a);e.selection.setRng(s.toRange())}}(r,n,t,a),0))}).getOr(!1));var n,r,a},$b=Wu([{removeTable:["element"]},{emptyCells:["cells"]}]),Wb=function(t,e){return Qv(e,t).isSome()},qb=function(t,e){return x(eh(e,t),function(t){return"caption"===it(t)})},Xb=function(t,e){return Of(e),t.selection.setCursorLocation(e.dom(),0),A.some(!0)},Yb=function(t,e){var n=ve.fromDom(t.selection.getStart(!0)),r=lm(t);return t.selection.isCollapsed()&&0===r.length?function(t,e,n){var i=ve.fromDom(t.getBody());return qb(i,n).fold(function(){return function(t,e,n,i){var r=vc.fromRangeStart(t.selection.getRng());return iy(n,i).bind(function(i){return Wf(i)?Xb(t,i):function(t,e,n,i,r){return wl.navigate(n,t.getBody(),r).bind(function(t){return iy(e,ve.fromDom(t.getNode())).map(function(t){return!1===_t(t,i)})})}(t,n,e,i,r)}).getOr(!1)}(t,e,i,n)||function(t,e){var n=vc.fromRangeStart(t.selection.getRng());return ry(e,n)||wl.fromPosition(e,t.getBody(),n).map(function(t){return ry(e,t)}).getOr(!1)}(t,e)},function(n){return function(t,e,n,i){var r=vc.fromRangeStart(t.selection.getRng());return Wf(i)?Xb(t,i):function(t,e,n,i,r){return wl.navigate(n,t.getBody(),r).bind(function(o){return function(t,e,n,i){return wl.firstPositionIn(t.dom()).bind(function(r){return wl.lastPositionIn(t.dom()).map(function(t){return e?n.isEqual(r)&&i.isEqual(t):n.isEqual(t)&&i.isEqual(r)})}).getOr(!0)}(i,n,r,o)?function(t,e){return Xb(t,i)}(t):function(t,e,n){return qb(t,ve.fromDom(n.getNode())).map(function(t){return!1===_t(t,e)})}(e,i,o)}).or(A.some(!0))}(t,n,e,i,r)}(t,e,i,n).getOr(!1)})}(t,e,n):function(t,e){var n=ve.fromDom(t.getBody()),r=t.selection.getRng(),a=lm(t);return 0!==a.length?ey(t,a):function(t,e,n,r){return qb(e,r).fold(function(){return function(t,e,n){return function(t,e){return function(t,e){var n=function(t){return function(e){return _t(t,e)}}(t);return function(t,e){return Oa(qv(t.startContainer,e),qv(t.endContainer,e),Wv).filter(Yv).filter(function(t){return Wb(e,t)}).orThunk(function(){return function(t,e){var n=qv(e.startContainer,t),i=qv(e.endContainer,t);return e.collapsed?A.none():Oa(n,i,Wv).fold(function(){return n.fold(function(){return i.bind(function(e){return Xv(e,t).bind(function(t){return E(Jv(t)).map(function(t){return Wv(t,e)})})})},function(e){return Xv(e,t).bind(function(t){return N(Jv(t)).map(function(t){return Wv(e,t)})})})},function(e){return Wb(t,e)?A.none():function(t,e){return Xv(t.start(),e).bind(function(e){return N(Jv(e)).map(function(e){return Wv(t.start(),e)})})}(e,t)})}(e,t)})}(e,n).bind(function(t){return Qv(e=t,n).map(function(t){return function(t,e,n){return{rng:i(t),table:i(e),cells:i(n)}}(e,t,Jv(t))});var e})}(t,n).bind(ty)}(e).map(function(e){return e.fold(o(ny,t),o(ey,t))})}(t,e,n)},function(e){return function(t,e){return Xb(t,e)}(t,e)}).getOr(!1)}(t,n,r,e)}(t,n)},Qb=function(t,e){return!!t.selection.isCollapsed()&&function(t,e){var n=vc.fromRangeStart(t.selection.getRng());return wl.fromPosition(e,t.getBody(),n).filter(function(t){return e?kf(t):zf(t)}).bind(function(t){return A.from(ac(e?0:-1,t))}).map(function(e){return t.selection.select(e),!0}).getOr(!1)}(t,e)},Jb=function(t){return _(V(t.selection.getSelectedBlocks(),ve.fromDom),function(t){return!cy(t)&&!function(t){return xt(t).map(cy).getOr(!1)}(t)&&function(t){return ha(t,function(t){return Xt.isContentEditableTrue(t.dom())||Xt.isContentEditableFalse(t.dom())}).exists(function(t){return Xt.isContentEditableTrue(t.dom())})}(t)})},Zb=o(fy,!1),t_=o(fy,!0),e_=o(hy,!1),n_=o(hy,!0),i_=function(t,e,n){if(t.selection.isCollapsed()&&sy(t)){var i=t.dom,r=t.selection.getRng(),o=vc.fromRangeStart(r),a=ve.fromDom(i.getParent(r.startContainer,i.isBlock));if(Zb(a,o))return ly(t,"outdent"),!0}return!1},r_=function(t,e){var n,i,r=e,o=t.dom,a=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var s=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}(e.firstChild);s&&/^(UL|OL|DL)$/.test(s.nodeName)&&e.insertBefore(o.doc.createTextNode("\xa0"),e.firstChild)}if(i=o.createRng(),e.normalize(),e.hasChildNodes()){for(var c=new xo(e,e);n=c.current();){if(Xt.isText(n)){i.setStart(n,0),i.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){i.setStartBefore(n),i.setEndBefore(n);break}r=n,n=c.next()}n||(i.setStart(r,0),i.setEnd(r,0))}else Xt.isBr(e)?e.nextSibling&&o.isBlock(e.nextSibling)?(i.setStartBefore(e),i.setEndBefore(e)):(i.setStartAfter(e),i.setEndAfter(e)):(i.setStart(e,0),i.setEnd(e,0));t.selection.setRng(i),t.selection.scrollIntoView(e)}},o_=function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},a_=gy,s_=function(t){return gy(t).fold(i(""),function(t){return t.nodeName.toUpperCase()})},c_=function(t){return gy(t).filter(function(t){return $n(ve.fromDom(t))}).isSome()},l_=function(t,e){return!!function(t){return Xt.isBr(t.getNode())}(vc.after(e))||wl.nextPosition(t,vc.after(e)).map(function(t){return Xt.isBr(t.getNode())}).getOr(!1)},u_=function(t,e){var n=function(t){var e=o(Jm.isInlineTarget,t),n=vc.fromRangeStart(t.selection.getRng());return nv(e,t.getBody(),n).filter(Ky)}(t);n.isSome()?n.each(o(Ay,t)):function(t,e){var n,i,r=t.selection,o=t.dom,a=r.getRng();hm(o,a).each(function(t){a.setStart(t.startContainer,t.startOffset),a.setEnd(t.endContainer,t.endOffset)});var s=a.startOffset,c=a.startContainer;if(1===c.nodeType&&c.hasChildNodes()){var l=s>c.childNodes.length-1;c=c.childNodes[Math.min(s,c.childNodes.length-1)]||c,s=l&&3===c.nodeType?c.nodeValue.length:0}var u=o.getParent(c,o.isBlock),d=u?o.getParent(u.parentNode,o.isBlock):null;"LI"!==(d?d.nodeName.toUpperCase():"")||!(!e||!e.ctrlKey)||(u=d),c&&3===c.nodeType&&s>=c.nodeValue.length&&!function(t,e,n){for(var i,r=new xo(c,u),o=t.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||0<i.length)return!0}(t.schema)&&(n=o.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),i=!0),n=o.create("br"),Ls(o,a,n),Ty(o,r,n),ky(o,r,n,i),t.undoManager.add()}(t,e)},d_=function(t){return My(t,function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}(t))},h_=function(t){return My(t,function(t){return t.getParam("no_newline_selector","")}(t))},f_=Wu([{br:[]},{block:[]},{none:[]}]),g_=function(t,n){(function(t,e){return Zm([Vy([Dy],f_.none()),Vy([Ly("summary",!0)],f_.br()),Vy([Fy(!0),By(!1),Hy],f_.br()),Vy([Fy(!0),By(!1)],f_.block()),Vy([Fy(!0),By(!0),Hy],f_.block()),Vy([Fy(!0),By(!0)],f_.br()),Vy([Ry(!0),Hy],f_.br()),Vy([Ry(!0)],f_.block()),Vy([Py(!0),Hy,Iy],f_.block()),Vy([Py(!0)],f_.br()),Vy([Oy],f_.br()),Vy([Py(!1),Hy],f_.br()),Vy([Iy],f_.block())],[t,!(!e||!e.shiftKey)]).getOr(f_.none())})(t,n).fold(function(){u_(t,n)},function(){!function(t,e){function n(e){var n,i,r,o=s,c=_.getTextInlineElements();if(e||"TABLE"===g||"HR"===g?(n=y.create(e||m),Sy(t,n)):n=l.cloneNode(!1),r=n,!1===Eu(t))y.setAttrib(n,"style",null),y.setAttrib(n,"class",null);else do{if(c[o.nodeName]){if(Gs(o)||Sl(o))continue;i=o.cloneNode(!1),y.setAttrib(i,"id",""),n.hasChildNodes()?i.appendChild(n.firstChild):r=i,n.appendChild(i)}}while((o=o.parentNode)&&o!==a);return by(r),n}function i(t){var e,n,i=Cy(t,s,c);if(Xt.isText(s)&&(t?0<i:i<s.nodeValue.length))return!1;if(s.parentNode===l&&v&&!t)return!0;if(t&&Xt.isElement(s)&&s===l.firstChild)return!0;if(_y(s,"TABLE")||_y(s,"HR"))return v&&!t||!v&&t;var r=new xo(s,l);for(Xt.isText(s)&&(t&&0===i?r.prev():t||i!==s.nodeValue.length||r.next());e=r.current();){if(Xt.isElement(e)){if(!e.getAttribute("data-mce-bogus")&&(n=e.nodeName.toLowerCase(),w[n]&&"br"!==n))return!1}else if(Xt.isText(e)&&!/^[ \t\r\n]*$/.test(e.nodeValue))return!1;t?r.prev():r.next()}return!0}function r(){d=/^(H[1-6]|PRE|FIGURE)$/.test(g)&&"HGROUP"!==p?n(m):n(),Nu(t)&&wy(y,f)&&y.isEmpty(l)?d=y.split(f,l):y.insertAfter(d,l),r_(t,d)}var o,a,s,c,l,u,d,h,f,g,p,m,v,y=t.dom,_=t.schema,w=_.getNonEmptyElements(),C=t.selection.getRng();hm(y,C).each(function(t){C.setStart(t.startContainer,t.startOffset),C.setEnd(t.endContainer,t.endOffset)}),s=C.startContainer,c=C.startOffset,m=ku(t),u=!(!e||!e.shiftKey);var x=!(!e||!e.ctrlKey);Xt.isElement(s)&&s.hasChildNodes()&&(v=c>s.childNodes.length-1,s=s.childNodes[Math.min(c,s.childNodes.length-1)]||s,c=v&&Xt.isText(s)?s.nodeValue.length:0),(a=xy(y,s))&&((m&&!u||!m&&u)&&(s=function(t,e,n,i,r){var o,a,s,c,l,u,d=m||"P",h=t.dom,f=xy(h,i);if(!(a=h.getParent(i,h.isBlock))||!wy(h,a)){if(u=(a=a||f)===t.getBody()||a&&/^(TD|TH|CAPTION)$/.test(a.nodeName)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return Sy(t,o=h.create(d)),a.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(c=i;c.parentNode!==a;)c=c.parentNode;for(;c&&!h.isBlock(c);)c=(s=c).previousSibling;if(s&&t.schema.isValidChild(u,d.toLowerCase())){for(Sy(t,o=h.create(d)),s.parentNode.insertBefore(o,s),c=s;c&&!h.isBlock(c);)l=c.nextSibling,o.appendChild(c),c=l;n.setStart(i,r),n.setEnd(i,r)}}return i}(t,0,C,s,c)),l=y.getParent(s,y.isBlock),f=l?y.getParent(l.parentNode,y.isBlock):null,g=l?l.nodeName.toUpperCase():"","LI"!==(p=f?f.nodeName.toUpperCase():"")||x||(f=(l=f).parentNode,g=p),/^(LI|DT|DD)$/.test(g)&&y.isEmpty(l)?function(t,e,n,i,r){var o=t.dom,a=t.selection.getRng();if(n!==t.getBody()){!function(t){return my(t)&&my(t.parentNode)}(n)||(r="LI");var s=r?e(r):o.create("BR");if(yy(n,i,!0)&&yy(n,i,!1))py(n,"LI")?o.insertAfter(s,vy(n)):o.replace(s,n);else if(yy(n,i,!0))py(n,"LI")?(o.insertAfter(s,vy(n)),s.appendChild(o.doc.createTextNode(" ")),s.appendChild(n)):n.parentNode.insertBefore(s,n);else if(yy(n,i,!1))o.insertAfter(s,vy(n));else{n=vy(n);var c=a.cloneRange();c.setStartAfter(i),c.setEndAfter(n);var l=c.extractContents();"LI"===r&&l.firstChild&&"LI"===l.firstChild.nodeName?(s=l.firstChild,o.insertAfter(l,n)):(o.insertAfter(l,n),o.insertAfter(s,n))}o.remove(i),r_(t,s)}}(t,n,f,l,m):m&&l===t.getBody()||(m=m||"P",wa(l)?(d=za(l),y.isEmpty(l)&&by(l),r_(t,d)):i()?r():i(!0)?(d=l.parentNode.insertBefore(n(),l),r_(t,_y(l,"HR")?d:l)):((o=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,Cy(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,Cy(!1,t.endContainer,t.endOffset)),e}(C).cloneRange()).setEndAfter(l),function(t){b(la(ve.fromDom(t),Ce),function(t){var e=t.dom();e.nodeValue=ts(e.nodeValue)})}(h=o.extractContents()),function(t){for(;Xt.isText(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild;);}(h),d=h.firstChild,y.insertAfter(h,l),function(t,e,n){var i,r=d,o=[];if(r){for(;r=r.firstChild;){if(t.isBlock(r))return;Xt.isElement(r)&&!e[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)!(r=o[i]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?t.remove(r):(a=r)&&"A"===a.nodeName&&t.isEmpty(a)&&t.remove(r);var a}}(y,w),function(t,e){var n;e.normalize(),(n=e.lastChild)&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")}(y,l),y.isEmpty(l)&&by(l),d.normalize(),y.isEmpty(d)?(y.remove(d),r()):r_(t,d)),y.setAttrib(d,"id",""),t.fire("NewBlock",{newBlock:d})))}(t,n)},e)},p_=o(jy,"\xa0"),m_=o(jy," "),v_=pe.detect().browser,y_=Ro.DOM,b_=function(e,n){var r,a,s=e.settings,c=e.getElement(),l=e.getDoc();s.inline||(e.getElement().style.visibility=e.orgVisibility),n||e.inline||(l.open(),l.write(e.iframeHTML),l.close()),e.inline&&(e.on("remove",function(){var t=this.getBody();y_.removeClass(t,"mce-content-body"),y_.removeClass(t,"mce-edit-focus"),y_.setAttrib(t,"contentEditable",null)}),y_.addClass(c,"mce-content-body"),e.contentDocument=l=t.document,e.contentWindow=t.window,e.bodyElement=c,e.contentAreaContainer=c,s.root_name=c.nodeName.toLowerCase()),(r=e.getBody()).disabled=!0,e.readonly=s.readonly,e.readonly||(e.inline&&"static"===y_.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable=e.getParam("content_editable_state",!0)),r.disabled=!1,e.editorUpload=function(e){function n(t){return function(n){return e.selection?t(n):[]}}function r(t,e,n){for(var i=0;-1!==(i=t.indexOf(e,i))&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1),-1!==i;);return t}function o(t,e,n){return t=r(t,'src="'+e+'"','src="'+n+'"'),r(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')}function a(t,n){b(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=V(e.fragments,function(e){return o(e,t,n)}):e.content=o(e.content,t,n)})}function s(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function c(t,n){p.removeByUri(t.src),a(t.src,n),e.$(t).attr({src:Pu(e)?n+"?"+(new Date).getTime():n,"data-mce-src":e.convertURL(n,"src")})}function l(i){return f=f||function(e,n){function i(e,i,r,o){var a,s;(a=new t.XMLHttpRequest).open("POST",n.url),a.withCredentials=n.credentials,a.upload.onprogress=function(t){o(t.loaded/t.total*100)},a.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){var t;a.status<200||300<=a.status?r("HTTP Error: "+a.status):(t=JSON.parse(a.responseText))&&"string"==typeof t.location?i(function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e}(n.basePath,t.location)):r("Invalid JSON: "+a.responseText)},(s=new t.FormData).append("file",e.blob(),e.filename()),a.send(s)}function r(t,e){return{url:e,blobInfo:t,status:!0}}function o(t,e){return{url:"",blobInfo:t,status:!1,error:e}}function a(t,e){Pn.each(s[t],function(t){t(e)}),delete s[t]}var s={};return!1===F(n.handler)&&(n.handler=i),{upload:function(t,c){return n.url||n.handler!==i?function(t,i){return t=Pn.grep(t,function(t){return!e.isUploaded(t.blobUri())}),Ye.all(Pn.map(t,function(t){return e.isPending(t.blobUri())?function(t){var e=t.blobUri();return new Ye(function(t){s[e]=s[e]||[],s[e].push(t)})}(t):function(t,n,i){return e.markPending(t.blobUri()),new Ye(function(c){var l;try{var u=function(){l&&l.close()};n(t,function(n){u(),e.markUploaded(t.blobUri(),n),a(t.blobUri(),r(t,n)),c(r(t,n))},function(n){u(),e.removeFailed(t.blobUri()),a(t.blobUri(),o(t,n)),c(o(t,n))},function(t){t<0||100<t||(l=l||i()).progressBar.value(t)})}catch(s){c(o(t,s.message))}})}(t,n.handler,i)}))}(t,c):new Ye(function(t){t([])})}}}(m,{url:Lu(e),basePath:Fu(e),credentials:Bu(e),handler:Ou(e)}),y().then(n(function(t){var r;return r=V(t,function(t){return t.blobInfo}),f.upload(r,s).then(n(function(n){var r=V(n,function(n,i){var r=t[i].image;return n.status&&Ru(e)?c(r,n.url):n.error&&Ld.uploadError(e,n.error),{element:r,status:n.status}});return i&&i(r),r}))}))}function u(t){if(Du(e))return l(t)}function d(t){return!1!==k(v,function(e){return e(t)})&&(0!==t.getAttribute("src").indexOf("data:")||Mu(e)(t))}function h(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var i=m.getResultUri(n);if(i)return'src="'+i+'"';var r=p.getByUri(n);return(r=r||C(e.editorManager.get(),function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)},null))?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':t})}var f,g,p=function(){var e=[],n=function(e){var n,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return n=e.id||Wd("blobid"),r=e.name||n,{id:i(n),name:i(r),filename:i(r+"."+function(t){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[t.toLowerCase()]||"dat"}(e.blob.type)),blob:i(e.blob),base64:i(e.base64),blobUri:i(e.blobUri||t.URL.createObjectURL(e.blob)),uri:i(e.uri)}},r=function(t){return o(function(e){return e.id()===t})},o=function(t){return _(e,t)[0]};return{create:function(t,e,i,r){if(M(t))return n({id:t,name:r,blob:e,base64:i});if(D(t))return n(t);throw new Error("Unknown input type")},add:function(t){r(t.id())||e.push(t)},get:r,getByUri:function(t){return o(function(e){return e.blobUri()===t})},findFirst:o,removeByUri:function(n){e=_(e,function(e){return e.blobUri()!==n||(t.URL.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){b(e,function(e){t.URL.revokeObjectURL(e.blobUri())}),e=[]}}}(),m=function(){function t(t,e){return{status:t,resultUri:e}}function e(t){return t in n}var n={};return{hasBlobUri:e,getResultUri:function(t){var e=n[t];return e?e.resultUri:null},isPending:function(t){return!!e(t)&&1===n[t].status},isUploaded:function(t){return!!e(t)&&2===n[t].status},markPending:function(e){n[e]=t(1,null)},markUploaded:function(e,i){n[e]=t(2,i)},removeFailed:function(t){delete n[t]},destroy:function(){n={}}}}(),v=[],y=function(){return(g=g||function(t,e){var n={};return{findAll:function(r,o){var a;o=o||i(!0),a=_(function(t){return t?U(t.getElementsByTagName("img")):[]}(r),function(e){var n=e.src;return!!Nn.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!n||n===Nn.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n)&&o(e):0===n.indexOf("data:")&&o(e))});var s=V(a,function(t){if(n[t.src])return new Ye(function(e){n[t.src].then(function(n){if("string"==typeof n)return n;e({image:t,blobInfo:n.blobInfo})})});var i=new Ye(function(n,i){!function(t,e,n,i){var r,o;0!==e.src.indexOf("blob:")?(r=Ud(e.src).data,(o=t.findFirst(function(t){return t.base64()===r}))?n({image:e,blobInfo:o}):Vd(e.src).then(function(i){o=t.create(Id(),i,r),t.add(o),n({image:e,blobInfo:o})},function(t){i(t)})):(o=t.getByUri(e.src))?n({image:e,blobInfo:o}):Vd(e.src).then(function(i){jd(i).then(function(a){r=Ud(a).data,o=t.create(Id(),i,r),t.add(o),n({image:e,blobInfo:o})})},function(t){i(t)})}(e,t,n,i)}).then(function(t){return delete n[t.image.src],t}).catch(function(e){return delete n[t.src],e});return n[t.src]=i});return Ye.all(s)}}}(m,p)).findAll(e.getBody(),d).then(n(function(t){return b(t=_(t,function(t){return"string"!=typeof t||(Ld.displayError(e,t),!1)}),function(t){a(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")}),t}))};return e.on("SetContent",function(){Du(e)?u():y()}),e.on("RawSaveContent",function(t){t.content=h(t.content)}),e.on("GetContent",function(t){t.source_view||"raw"===t.format||(t.content=h(t.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(t){b(t,function(t){var e=t.attr("src");if(!p.getByUri(e)){var n=m.getResultUri(e);n&&t.attr("src",n)}})})}),{blobCache:p,addFilter:function(t){v.push(t)},uploadImages:l,uploadImagesAuto:u,scanForImages:y,destroy:function(){p.destroy(),m.destroy(),g=f=null}}}(e),e.schema=_i(s),e.dom=Ro(l,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:s.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:Hu(e),referrerPolicy:Iu(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=function(t){var e=Hg(t.settings,t.schema);return e.addAttributeFilter("src,href,style,tabindex",function(e,n){for(var i,r,o,a=e.length,s=t.dom;a--;)if(r=(i=e[a]).attr(n),!i.attr(o="data-mce-"+n)){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===n?((r=s.serializeStyle(s.parseStyle(r),i.name)).length||(r=null),i.attr(o,r),i.attr(n,r)):"tabindex"===n?(i.attr(o,r),i.attr(n,null)):i.attr(o,t.convertURL(r,n,i.name))}}),e.addNodeFilter("script",function(t){for(var e,n,i=t.length;i--;)0!==(n=(e=t[i]).attr("type")||"no/type").indexOf("mce-")&&e.attr("type","mce-"+n)}),e.addNodeFilter("#cdata",function(t){for(var e,n=t.length;n--;)(e=t[n]).type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"}),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var n,i=e.length,r=t.schema.getNonEmptyElements();i--;)(n=e[i]).isEmpty(r)&&0===n.getAll("br").length&&(n.append(new Il("br",1)).shortEnded=!0)}),e}(e),e.serializer=Vg(s,e),e.selection=mm(e.dom,e.getWin(),e.serializer,e),e.annotator=Ll(e),e.formatter=Fg(e),e.undoManager=Ih(e),e._nodeChangeDispatcher=new oh(e),e._selectionOverrides=Fh(e),function(t){var e;(e=t).on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()}),function(t){t.parser.addNodeFilter("details",function(t){b(t,function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")})}),t.serializer.addNodeFilter("details",function(t){b(t,function(t){var e=t.attr("data-mce-open");t.attr("open",M(e)?e:null),t.attr("data-mce-open",null)})})}(t)}(e),function(t){t.on("click",function(e){3<=e.detail&&function(t){var e=t.selection.getRng(),n=Ks.fromRangeStart(e),i=Ks.fromRangeEnd(e);if(Ks.isElementPosition(n)){var r=n.container();nb(r)&&wl.firstPositionIn(r).each(function(t){return e.setStart(t.container(),t.offset())})}Ks.isElementPosition(i)&&nb(r=n.container())&&wl.lastPositionIn(r).each(function(t){return e.setEnd(t.container(),t.offset())}),t.selection.setRng(Eg(e))}(t)})}(e),function(t){var e=sv.setupSelectedState(t);(function(t){t.on("keyup compositionstart",o(eb,t))})(t),function(t,e){t.on("keydown",function(n){!1===n.isDefaultPrevented()&&function(t,e,n){var i=pe.detect().os;Ab([{keyCode:Cf.RIGHT,action:gv(t,!0)},{keyCode:Cf.LEFT,action:gv(t,!1)},{keyCode:Cf.UP,action:pv(t,!1)},{keyCode:Cf.DOWN,action:pv(t,!0)},{keyCode:Cf.RIGHT,action:wv(t,!0)},{keyCode:Cf.LEFT,action:wv(t,!1)},{keyCode:Cf.UP,action:Cv(t,!1)},{keyCode:Cf.DOWN,action:Cv(t,!0)},{keyCode:Cf.RIGHT,action:sv.move(t,e,!0)},{keyCode:Cf.LEFT,action:sv.move(t,e,!1)},{keyCode:Cf.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:sv.moveNextWord(t,e)},{keyCode:Cf.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:sv.movePrevWord(t,e)},{keyCode:Cf.UP,action:kv(t,!1)},{keyCode:Cf.DOWN,action:kv(t,!0)}],n).each(function(t){n.preventDefault()})}(t,e,n)})}(t,e),function(t,e){t.on("keydown",function(n){!1===n.isDefaultPrevented()&&function(t,e,n){Ab([{keyCode:Cf.BACKSPACE,action:Kb(i_,t,!1)},{keyCode:Cf.BACKSPACE,action:Kb(Ib,t,!1)},{keyCode:Cf.DELETE,action:Kb(Ib,t,!0)},{keyCode:Cf.BACKSPACE,action:Kb(jb,t,!1)},{keyCode:Cf.DELETE,action:Kb(jb,t,!0)},{keyCode:Cf.BACKSPACE,action:Kb(Ub,t,e,!1)},{keyCode:Cf.DELETE,action:Kb(Ub,t,e,!0)},{keyCode:Cf.BACKSPACE,action:Kb(Yb,t,!1)},{keyCode:Cf.DELETE,action:Kb(Yb,t,!0)},{keyCode:Cf.BACKSPACE,action:Kb(Qb,t,!1)},{keyCode:Cf.DELETE,action:Kb(Qb,t,!0)},{keyCode:Cf.BACKSPACE,action:Kb(Lb,t,!1)},{keyCode:Cf.DELETE,action:Kb(Lb,t,!0)},{keyCode:Cf.BACKSPACE,action:Kb(Rb,t,!1)},{keyCode:Cf.DELETE,action:Kb(Rb,t,!0)},{keyCode:Cf.BACKSPACE,action:Kb(Gb,t,!1)},{keyCode:Cf.DELETE,action:Kb(Gb,t,!0)}],n).each(function(t){n.preventDefault()})}(t,e,n)}),t.on("keyup",function(e){!1===e.isDefaultPrevented()&&function(t,e){Ab([{keyCode:Cf.BACKSPACE,action:Kb(Vb,t)},{keyCode:Cf.DELETE,action:Kb(Vb,t)}],e)}(t,e)})}(t,e),function(t){t.on("keydown",function(e){e.keyCode===Cf.ENTER&&function(t,e){e.isDefaultPrevented()||(e.preventDefault(),function(t){t.typing&&(t.typing=!1,t.add())}(t.undoManager),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),g_(t,e)}))}(t,e)})}(t),function(t){t.on("keydown",function(e){!1===e.isDefaultPrevented()&&function(t,e){Ab([{keyCode:Cf.SPACEBAR,action:Kb(Zy,t)}],e).each(function(t){e.preventDefault()})}(t,e)})}(t),function(t){!function(t){var e=ta(function(){t.composing||Jy(t)},0);v_.isIE()&&(t.on("keypress",function(t){e.throttle()}),t.on("remove",function(t){e.cancel()}))}(t),t.on("input",function(e){!1===e.isComposing&&Jy(t)})}(t),function(t){t.on("keydown",function(e){!1===e.isDefaultPrevented()&&function(t,e){Ab([{keyCode:Cf.END,action:mv(t,!0)},{keyCode:Cf.HOME,action:mv(t,!1)}],e).each(function(t){e.preventDefault()})}(t,e)})}(t)}(e),function(t){ku(t)&&t.on("NodeChange",o(Qd,t))}(e),e.fire("PreInit"),s.browser_spellcheck||s.gecko_spellcheck||(l.body.spellcheck=!1,y_.setAttrib(r,"spellcheck","false")),e.quirks=function(e){function n(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(o){}}function i(t){return t.isDefaultPrevented()}function r(){e.shortcuts.add("meta+a",null,"SelectAll")}function o(){e.on("keydown",function(t){if(!i(t)&&t.keyCode===c&&d.isCollapsed()&&0===d.getRng().startOffset){var e=d.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})}function a(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(11<Nn.ie)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))}var s=Pn.each,c=Cf.BACKSPACE,l=Cf.DELETE,u=e.dom,d=e.selection,h=e.settings,f=e.parser,g=Nn.gecko,p=Nn.webkit,m="data:text/mce-internal,",v=Nn.ie?"Text":"URL";function y(t){var e=u.create("body"),n=t.cloneContents();return e.appendChild(n),d.serializer.serialize(e,{format:"html"})}function b(){var t=u.getAttribs(d.getStart().cloneNode(!1));return function(){var n=d.getStart();n!==e.getBody()&&(u.setAttrib(n,"style",null),s(t,function(t){n.setAttributeNode(t.cloneNode(!0))}))}}function _(){return!d.isCollapsed()&&u.getParent(d.getStart(),u.isBlock)!==u.getParent(d.getEnd(),u.isBlock)}return e.on("keydown",function(t){var n,r,o,a,s;if(!i(t)&&t.keyCode===Cf.BACKSPACE&&(r=(n=d.getRng()).startContainer,o=n.startOffset,a=u.getRoot(),s=r,n.collapsed&&0===o)){for(;s&&s.parentNode&&s.parentNode.firstChild===s&&s.parentNode!==a;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(e.formatter.toggle("blockquote",null,s),(n=u.createRng()).setStart(r,0),n.setEnd(r,0),d.setRng(n))}}),e.on("keydown",function(t){var n,r,o=t.keyCode;if(!i(t)&&(o===l||o===c)){if(n=e.selection.isCollapsed(),r=e.getBody(),n&&!u.isEmpty(r))return;if(!n&&!function(t){var n=y(e.selection.getRng()),i=u.createRng();return i.selectNode(e.getBody()),n===y(i)}())return;t.preventDefault(),e.setContent(""),r.firstChild&&u.isBlock(r.firstChild)?e.selection.setCursorLocation(r.firstChild,0):e.selection.setCursorLocation(r,0),e.nodeChanged()}}),Nn.windowsPhone||e.on("keyup focusin mouseup",function(t){Cf.modifierPressed(t)||d.normalize()},!0),p&&(e.inline||u.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=d.getRng(),e.getBody().focus(),"mousedown"===t.type){if(xa(n.startContainer))return;d.placeCaretAt(t.clientX,t.clientY)}else d.setRng(n)}),e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==u.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&u.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),d.select(n))}),h.forced_root_block&&e.on("init",function(){n("DefaultParagraphSeparator",ku(e))}),e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(t){t.preventDefault()})}),o(),f.addNodeFilter("br",function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()}),Nn.iOS?(e.inline||e.on("keydown",function(){t.document.activeElement===t.document.body&&e.getWin().focus()}),a(),e.on("click",function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):r()),11<=Nn.ie&&(a(),o()),Nn.ie&&(r(),n("AutoUrlDetect",!1),e.on("dragstart",function(t){!function(t){var n,i;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&d.select(t.target),0<(n=e.selection.getContent()).length&&(i=m+escape(e.id)+","+escape(n),t.dataTransfer.setData(v,i)))}(t)}),e.on("drop",function(t){if(!i(t)){var n=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(v))&&0<=e.indexOf(m)?(e=e.substr(m.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null}(t);if(n&&n.id!==e.id){t.preventDefault();var r=Zp(t.x,t.y,e.getDoc());d.setRng(r),function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:!0}):e.execCommand("mceInsertContent",!1,t)}(n.html)}}})),g&&(e.on("keydown",function(t){if(!i(t)&&t.keyCode===c){if(!e.getBody().getElementsByTagName("hr").length)return;if(d.isCollapsed()&&0===d.getRng().startOffset){var n=d.getNode(),r=n.previousSibling;if("HR"===n.nodeName)return u.remove(n),void t.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(u.remove(r),t.preventDefault())}}}),t.Range.prototype.getClientRects||e.on("mousedown",function(t){if(!i(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Cn.setEditorTimeout(e,function(){n.focus()})}}),e.on("keypress",function(t){var n;if(!i(t)&&(8===t.keyCode||46===t.keyCode)&&_())return n=b(),e.getDoc().execCommand("delete",!1,null),n(),t.preventDefault(),!1}),u.bind(e.getDoc(),"cut",function(t){var n;!i(t)&&_()&&(n=b(),Cn.setEditorTimeout(e,function(){n()}))}),h.readonly||e.on("BeforeExecCommand mousedown",function(){n("StyleWithCSS",!1),n("enableInlineTableEditing",!1),h.object_resizing||n("enableObjectResizing",!1)}),e.on("SetContent ExecCommand",function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||s(u.select("a"),function(t){var e=t.parentNode,n=u.getRoot();if(e.lastChild===t){for(;e&&!u.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}u.add(e,"br",{"data-mce-bogus":1})}})}),e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),Nn.mac&&e.on("keydown",function(t){!Cf.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}),o()),{refreshContentEditable:function(){},isHidden:function(){var t;return!(!g||e.removed||(t=e.selection.getSel())&&t.rangeCount&&0!==t.rangeCount)}}}(e),e.fire("PostRender");var u=e.getParam("directionality",Go.isRtl()?"rtl":void 0);void 0!==u&&(r.dir=u),s.protect&&e.on("BeforeSetContent",function(t){Pn.each(s.protect,function(e){t.content=t.content.replace(e,function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),0<e.contentStyles.length&&(a="",Pn.each(e.contentStyles,function(t){a+=t+"\r\n"}),e.dom.addStyle(a)),(e.inline?y_.styleSheetLoader:e.dom.styleSheetLoader).loadAll(e.contentCSS,function(t){ib(e)},function(t){ib(e)}),s.content_style&&function(t,e){var n=ve.fromDom(t.getDoc().head),i=ve.fromTag("style");ze(i,"type","text/css"),sa(i,ve.fromText(e)),sa(n,i)}(e,s.content_style)},__=Ro.DOM,w_=Ro.DOM,C_=function(t,e,n){var i=Bd.get(n),r=Bd.urls[n]||t.documentBaseUrl.replace(/\/$/,"");if(n=Pn.trim(n),i&&-1===Pn.inArray(e,n)){if(Pn.each(Bd.dependencies(n),function(n){C_(t,e,n)}),t.plugins[n])return;try{var o=new i(t,r,t.$);(t.plugins[n]=o).init&&(o.init(t,r),e.push(n))}catch(rC){Ld.pluginInitError(t,n,rC)}}},x_=function(e){e.fire("ScriptsLoaded"),function(t){var e=Pn.trim(t.settings.icons),n=t.ui.registry.getAll().icons;ot(G(G({},{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2zm2 14h-2v2a2 2 0 0 0 2-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2.1 2a2 2 0 1 0 2.7 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19zm-1 8.8l.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z" fill-rule="evenodd"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><g fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="#000" stroke-width="2"><path d="M12 5v14M5 12h14"/></g></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7zM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><path d="M12.5 5.5v6h6v-6h-6zm-1 0h-6v6h6v-6zm1 13h6v-6h-6v6zm-1 0v-6h-6v6h6zm-7-14h15v15h-15v-15z" fill-rule="nonzero"/></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5.5 5.5v13h13v-13h-13zm-1-1h15v15h-15v-15z" opacity=".2"/><path d="M11.5 11.5v-7h1v7h7v1h-7v7h-1v-7h-7v-1h7z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path d="M9 11.2l1 1v.2l-1 1v-2.2zm5 1l1-1v2.2l-1-1v-.2zM20 5v14H4V5h16zm-1 2h-4v.8l-.2-.2-.8.8V7h-4v1.4l-.8-.8-.2.2V7H5v11h4v-1.8l.5.5.5-.4V18h4v-1.8l.8.8.2-.3V18h4V7zm-3.9 3.4l-1.8 1.9 1.8 1.9c.4.3.4.9 0 1.2-.3.3-.8.3-1.2 0L12 13.5l-1.8 1.9a.8.8 0 0 1-1.2 0 .9.9 0 0 1 0-1.2l1.8-1.9-1.9-2a.9.9 0 0 1 1.2-1.2l2 2 1.8-1.8c.3-.4.9-.4 1.2 0a.8.8 0 0 1 0 1.1z" fill-rule="evenodd"/></svg>',"table-delete-row":'<svg width="24" height="24"><path d="M16.7 8.8l1.1 1.2-2.4 2.5L18 15l-1.2 1.2-2.5-2.5-2.4 2.5-1.3-1.2 2.5-2.5-2.5-2.5 1.2-1.3 2.6 2.6 2.4-2.5zM4 5h16v14H4V5zm15 5V7H5v3h4.8l1 1H5v3h5.8l-1 1H5v3h14v-3h-.4l-1-1H19v-3h-1.3l1-1h.3z" fill-rule="evenodd"/></svg>',"table-delete-table":'<svg width="24" height="26"><path d="M4 6h16v14H4V6zm1 2v11h14V8H5zm11.7 8.7l-1.5 1.5L12 15l-3.3 3.2-1.4-1.5 3.2-3.2-3.3-3.2 1.5-1.5L12 12l3.2-3.2 1.5 1.5-3.2 3.2 3.2 3.2z" fill-rule="evenodd"/></svg>',"table-insert-column-after":'<svg width="24" height="24"><path d="M14.3 9c.4 0 .7.3.7.6v2.2h2.1c.4 0 .7.3.7.7 0 .4-.3.7-.7.7H15v2.2c0 .3-.3.6-.7.6a.7.7 0 0 1-.6-.6v-2.2h-2.2a.7.7 0 0 1 0-1.4h2.2V9.6c0-.3.3-.6.6-.6zM4 5h16v14H4V5zm5 13v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8V7h-9v11h9z" fill-rule="evenodd"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path d="M9.7 16a.7.7 0 0 1-.7-.6v-2.2H6.9a.7.7 0 0 1 0-1.4H9V9.6c0-.3.3-.6.7-.6.3 0 .6.3.6.6v2.2h2.2c.4 0 .8.3.8.7 0 .4-.4.7-.8.7h-2.2v2.2c0 .3-.3.6-.6.6zM4 5h16v14H4V5zm10 13V7H5v11h9zm5 0v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path d="M14.8 10.5c0 .3-.2.5-.5.5h-1.8v1.8c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.6V11H9.7a.5.5 0 0 1 0-1h1.8V8.3c0-.3.2-.6.5-.6s.5.3.5.6V10h1.8c.3 0 .5.2.5.5zM4 5h16v14H4V5zm5 13v-3H5v3h4zm5 0v-3h-4v3h4zm5 0v-3h-4v3h4zm0-4V7H5v7h14z" fill-rule="evenodd"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path d="M9.2 14.5c0-.3.2-.5.5-.5h1.8v-1.8c0-.3.2-.5.5-.5s.5.2.5.6V14h1.8c.3 0 .5.2.5.5s-.2.5-.5.5h-1.8v1.7c0 .3-.2.6-.5.6a.5.5 0 0 1-.5-.6V15H9.7a.5.5 0 0 1-.5-.5zM4 5h16v14H4V5zm6 2v3h4V7h-4zM5 7v3h4V7H5zm14 11v-7H5v7h14zm0-8V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm10 12v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4zm5 8v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4z" fill-rule="evenodd"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 13h9v-7h-9v7zm4-11h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10-1h4V7h-4v3zM5 15v3h4v-3H5z" fill-rule="evenodd"/></svg>',"table-row-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm6 3h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-split-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 2v3h4V7h-4zM9 18v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8v-7h-9v7h9zm0-8V7h-4v3h4zm-3.5 4.5l1.5 1.6c.3.2.3.7 0 1-.2.2-.7.2-1 0l-1.5-1.6-1.6 1.5c-.2.3-.7.3-1 0a.7.7 0 0 1 0-1l1.6-1.5-1.5-1.6a.7.7 0 0 1 1-1l1.5 1.6 1.6-1.5c.2-.3.7-.3 1 0 .2.2.2.7 0 1l-1.6 1.5z" fill-rule="evenodd"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm5 12v-3H5v3h4zm0-4v-3H5v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4z" fill-rule="evenodd"/></svg>',table:'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 9h4v-3h-4v3zm4 1h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>'}),Fd.get(e).icons),function(e,i){ke(n,i)||t.ui.registry.addIcon(i,e)})}(e),function(t){var e=t.settings.theme;if(M(e)){t.settings.theme=rb(e);var n=Od.get(e);t.theme=new n(t,Od.urls[e]),t.theme.init&&t.theme.init(t,Od.urls[e]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}}(e),function(t){var e=[];Pn.each(t.settings.plugins.split(/[ ,]/),function(n){C_(t,e,rb(n))})}(e);var n=function(t){var e=t.getElement();return t.orgDisplay=e.style.display,M(t.settings.theme)?function(t){return t.theme.renderUI()}(t):F(t.settings.theme)?function(t){var e=t.getElement(),n=(0,t.settings.theme)(t,e);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:e.offsetHeight,n}(t):function(t){var e=t.getElement();return t.inline?ob(null):function(t){var e=w_.create("div");return w_.insertAfter(e,t),ob(e)}(e)}(t)}(e);return e.editorContainer=n.editorContainer?n.editorContainer:null,function(t){t.contentCSS=t.contentCSS.concat(function(t){var e=function(t){var e=t.settings.content_css;return M(e)?V(e.split(","),tt):P(e)?e:!1===e||t.inline?[]:["default"]}(t),n=t.editorManager.baseURL+"/skins/content",i="content"+t.editorManager.suffix+".css",r=!0===t.inline;return V(e,function(e){return function(t){return/^[a-z0-9\-]+$/i.test(t)}(e)&&!r?n+"/"+e+"/"+i:t.documentBaseURI.toAbsolute(e)})}(t))}(e),e.inline?b_(e):function(e,n){var i=function(e,n){var i=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=function(t,e,n,i){var r=ve.fromTag("iframe");return ht(r,i),ht(r,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),ia(r,"tox-edit-area__iframe"),r}(e.id,i,0,function(t){return t.getParam("iframe_attrs",{})}(e)).dom();r.onload=function(){r.onload=null,e.fire("load")};var o=function(e,n){if(t.document.domain!==t.window.location.hostname&&Nn.ie&&Nn.ie<12){var i=Wd("mce");return e[i]=function(){b_(e)},__.setAttrib(n,"src",'javascript:(function(){document.open();document.domain="'+t.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+i+"(true);})()"),!0}return!1}(e,r);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=r,e.iframeHTML=function(t){var e,n,i;return i=function(t){return t.getParam("doctype","<!DOCTYPE html>")}(t)+"<html><head>",function(t){return t.getParam("document_base_url","")}(t)!==t.documentBaseUrl&&(i+='<base href="'+t.documentBaseURI.getURI()+'" />'),i+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',e=function(t){return Wl(t,"body_id","tinymce")}(t),n=function(t){return Wl(t,"body_class","")}(t),Su(t)&&(i+='<meta http-equiv="Content-Security-Policy" content="'+Su(t)+'" />'),i+'</head><body id="'+e+'" class="mce-content-body '+n+'" data-id="'+t.id+'"><br></body></html>'}(e),__.add(n.iframeContainer,r),o}(e,n);n.editorContainer&&(__.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=__.isHidden(n.editorContainer)),e.getElement().style.display="none",__.setAttrib(e.id,"aria-hidden","true"),i||b_(e)}(e,n)},S_=Ro.DOM,T_="data-mce-contenteditable",k_=["design","readonly"],z_=Xt.matchNodeNames(["td","th"]),E_=function(t,e){var n=function(t){var e;return"string"!=typeof t?(e=Pn.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}}(e);!function(t,e,n){var i,r,o,a,s,c,l,u,d,h,f,g=t.selection,p=t.dom;if(/^ | $/.test(e)&&(e=function(t,e){var n,i;function r(t){return n[t]&&3===n[t].nodeType}return i=t.startOffset,3===(n=t.startContainer).nodeType&&(0<i?e=e.replace(/^&nbsp;/," "):r("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(g.getRng(),e)),i=t.parser,f=n.merge,r=Xl({validate:t.settings.validate},t.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',(c=t.fire("BeforeSetContent",c={content:e,format:"html",selection:!0,paste:n.paste})).isDefaultPrevented())t.fire("SetContent",{content:c.content,format:"html",selection:!0,paste:n.paste});else{-1===(e=c.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,h);var m=(u=g.getRng()).startContainer||(u.parentElement?u.parentElement():null),v=t.getBody();m===v&&g.isCollapsed()&&p.isBlock(v.firstChild)&&function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]}(t,v.firstChild)&&p.isEmpty(v.firstChild)&&((u=p.createRng()).setStart(v.firstChild,0),u.setEnd(v.firstChild,0),g.setRng(u)),g.isCollapsed()||(t.selection.setRng(Eg(t.selection.getRng())),t.getDoc().execCommand("Delete",!1,null),e=function(t,e){var n,i;return i=t.startOffset,3===(n=t.startContainer).nodeType&&t.collapsed&&("\xa0"===n.data[i]?(n.deleteData(i,1),/[\u00a0| ]$/.test(e)||(e+=" ")):"\xa0"===n.data[i-1]&&(n.deleteData(i-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e))),e}(t.selection.getRng(),e));var y={context:(o=g.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(s=i.parse(e,y),!0===n.paste&&function(t,e){var n=s.firstChild,i=s.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||function(t,e){return t.getBlockElements()[e.name]&&e.firstChild&&e.firstChild===e.lastChild&&function(t){return"br"===t.name||"\xa0"===t.value}(e.firstChild)}(t,e))}(t,i)&&(i=i.prev),!(!n||n!==i||"ul"!==n.name&&"ol"!==n.name)}(t.schema)&&hb(p,o))return u=function(t,e,n,i){function r(t){var i=vc.fromRangeStart(n),r=Vc(e.getRoot()),o=1===t?r.prev(i):r.next(i);return!o||hb(e,o.getNode())!==a}var o=function(t,e,n){var i=e.serialize(n);return function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t}(t.createFragment(i))}(e,t,i),a=hb(e,n.startContainer),s=function(t){return 0<t.length&&function(t){return!t.firstChild||function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&function(t){return"\xa0"===t.data||Xt.isBr(t)}(t.firstChild)}(t)}(t[t.length-1])?t.slice(0,-1):t}(Pn.grep(o.firstChild.childNodes,function(t){return"LI"===t.nodeName})),c=e.getRoot();return r(1)?function(t,e,n){var i=t.parentNode;return Pn.each(s,function(e){i.insertBefore(e,t)}),function(t,e){var n=vc.before(t),i=Vc(e).next(n);return i?i.toRange():null}(t,n)}(a,0,c):r(2)?function(t,n,i,r){return e.insertAfter(n.reverse(),t),fb(n[0],i)}(a,s,c):function(t,e,n,i){var r=function(t,e){var n=e.cloneRange(),i=e.cloneRange();return n.setStartBefore(t),i.setEndAfter(t),[n.cloneContents(),i.cloneContents()]}(t,i),o=t.parentNode;return o.insertBefore(r[0],t),Pn.each(e,function(e){o.insertBefore(e,t)}),o.insertBefore(r[1],t),o.removeChild(t),fb(e[e.length-1],n)}(a,s,c,n)}(r,p,t.selection.getRng(),s),t.selection.setRng(u),void t.fire("SetContent",c);if(function(t){for(var e=s;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}(),"mce_marker"===(d=s.lastChild).attr("id"))for(d=(l=d).prev;d;d=d.walk(!0))if(3===d.type||!p.isBlock(d.name)){t.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(l,d,"br"===d.name);break}if(t._selectionOverrides.showBlockCaretContainer(o),y.invalid){for(gb(t,h),o=g.getNode(),a=t.getBody(),9===o.nodeType?o=d=a:d=o;d!==a;)d=(o=d).parentNode;e=o===a?a.innerHTML:p.getOuterHTML(o),e=r.serialize(i.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(s)}))),o===a?p.setHTML(a,e):p.setOuterHTML(o,e)}else!function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var i=n.firstChild;!i||i===n.lastChild&&"BR"===i.nodeName?t.dom.setHTML(n,e):gb(t,e)}}(t,e=r.serialize(s),o);!function(t,e){var n=t.schema.getTextInlineElements(),i=t.dom;if(e){var r=t.getBody(),o=new tg(i);Pn.each(i.select("*[data-mce-fragment]"),function(t){for(var e=t.parentNode;e&&e!==r;e=e.parentNode)n[t.nodeName.toLowerCase()]&&o.compare(e,t)&&i.remove(t,!0)})}}(t,f),function(t,e){var n,i,r,o,a,s=t.dom,c=t.selection;if(e){if(t.selection.scrollIntoView(e),n=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===t.dom.getContentEditable(e))return e;return null}(e))return s.remove(e),c.select(n);var l=s.createRng();(o=e.previousSibling)&&3===o.nodeType?(l.setStart(o,o.nodeValue.length),Nn.ie||(a=e.nextSibling)&&3===a.nodeType&&(o.appendData(a.data),a.parentNode.removeChild(a))):(l.setStartBefore(e),l.setEndBefore(e)),i=s.getParent(e,s.isBlock),s.remove(e),i&&s.isEmpty(i)&&(t.$(i).empty(),l.setStart(i,0),l.setEnd(i,0),z_(i)||i.getAttribute("data-mce-fragment")||!(r=function(e){var n=vc.fromRangeStart(l);if(n=Vc(t.getBody()).next(n))return n.toRange()}())?s.add(i,s.create("br",{"data-mce-bogus":"1"})):(l=r,s.remove(i))),c.setRng(l)}}(t,p.get("mce_marker")),function(t){Pn.each(t.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})}(t.getBody()),function(t,e){A.from(t.getParent(e,"td,th")).map(ve.fromDom).each(Hf)}(t.dom,t.selection.getStart()),t.fire("SetContent",c),t.addVisual()}}(t,n.content,n.details)},N_={getFontSize:mb("font-size"),getFontFamily:n(function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},mb("font-family")),toPt:function(t,e){return/[0-9.]+px$/.test(t)?function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}(72*parseInt(t,10)/96,e||0)+"pt":t}},K_=Pn.each,A_=Pn.map,M_=Pn.inArray,D_=(P_.prototype.execCommand=function(t,e,n,i){var r,o,s=!1,c=this;if(!c.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||i&&i.skip_focus?function(t){ru(t).each(function(e){t.selection.setRng(e)})}(c.editor):c.editor.focus(),(i=c.editor.fire("BeforeExecCommand",{command:t,ui:e,value:n})).isDefaultPrevented())return!1;if(o=t.toLowerCase(),r=c.commands.exec[o])return r(o,e,n),c.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(K_(this.editor.plugins,function(i){if(i.execCommand&&i.execCommand(t,e,n))return c.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!(s=!0)}),s)return s;if(c.editor.theme&&c.editor.theme.execCommand&&c.editor.theme.execCommand(t,e,n))return c.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{s=c.editor.getDoc().execCommand(t,e,n)}catch(a){}return!!s&&(c.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}},P_.prototype.queryCommandState=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.state[t])return e(t);try{return this.editor.getDoc().queryCommandState(t)}catch(h){}return!1}},P_.prototype.queryCommandValue=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.value[t])return e(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(h){}}},P_.prototype.addCommands=function(t,e){var n=this;e=e||"exec",K_(t,function(t,i){K_(i.toLowerCase().split(","),function(i){n.commands[e][i]=t})})},P_.prototype.addCommand=function(t,e,n){var i=this;t=t.toLowerCase(),this.commands.exec[t]=function(t,r,o,a){return e.call(n||i.editor,r,o,a)}},P_.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(c){}return!1},P_.prototype.addQueryStateHandler=function(t,e,n){var i=this;t=t.toLowerCase(),this.commands.state[t]=function(){return e.call(n||i.editor)}},P_.prototype.addQueryValueHandler=function(t,e,n){var i=this;t=t.toLowerCase(),this.commands.value[t]=function(){return e.call(n||i.editor)}},P_.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},P_.prototype.execNativeCommand=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(t,e,n)},P_.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},P_.prototype.toggleFormat=function(t,e){this.editor.formatter.toggle(t,e?{value:e}:void 0),this.editor.nodeChanged()},P_.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},P_.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},P_.prototype.setupCommands=function(t){var e=this;function n(e){return function(){var n=t.selection.isCollapsed()?[t.dom.getParent(t.selection.getNode(),t.dom.isBlock)]:t.selection.getSelectedBlocks(),i=A_(n,function(n){return!!t.formatter.matchNode(n,e)});return-1!==M_(i,!0)}}this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(n){var i,r=t.getDoc();try{e.execNativeCommand(n)}catch(g){i=!0}if("paste"!==n||r.queryCommandEnabled(n)||(i=!0),i||!r.queryCommandSupported(n)){var o=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Nn.mac&&(o=o.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var i=n.substring(7);"full"===i&&(i="justify"),K_("left,center,right,justify".split(","),function(e){i!==e&&t.formatter.remove("align"+e)}),"none"!==i&&e.toggleFormat("align"+i)},"InsertUnorderedList,InsertOrderedList":function(n){var i,r;e.execNativeCommand(n),(i=t.dom.getParent(t.selection.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((r=i.parentNode).nodeName)&&(e.storeSelection(),t.dom.split(r,i),e.restoreSelection())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){e.toggleFormat(t)},"ForeColor,HiliteColor":function(t,n,i){e.toggleFormat(t,i)},FontName:function(e,n,i){!function(t,e){var n=bb(t,e);t.formatter.toggle("fontname",{value:function(t){var e=n.split(/\s*,\s*/);return V(e,function(t){return-1===t.indexOf(" ")||Z(t,'"')||Z(t,"'")?t:'"'+t+'"'}).join(",")}()}),t.nodeChanged()}(t,i)},FontSize:function(e,n,i){!function(t,e){t.formatter.toggle("fontsize",{value:bb(t,i)}),t.nodeChanged()}(t)},RemoveFormat:function(e){t.formatter.remove(e)},mceBlockQuote:function(){e.toggleFormat("blockquote")},FormatBlock:function(t,n,i){return e.toggleFormat(i||"p")},mceCleanup:function(){var e=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(e)},mceRemoveNode:function(n,i,r){var o=r||t.selection.getNode();o!==t.getBody()&&(e.storeSelection(),t.dom.remove(o,!0),e.restoreSelection())},mceSelectNodeDepth:function(e,n,i){var r=0;t.dom.getParent(t.selection.getNode(),function(e){if(1===e.nodeType&&r++===i)return t.selection.select(e),!1},t.getBody())},mceSelectNode:function(e,n,i){t.selection.select(i)},mceInsertContent:function(e,n,i){E_(t,i)},mceInsertRawHTML:function(e,n,i){t.selection.setContent("tiny_mce_marker");var r=t.getContent();t.setContent(r.replace(/tiny_mce_marker/g,function(){return i}))},mceInsertNewLine:function(e,n,i){g_(t,i)},mceToggleFormat:function(t,n,i){e.toggleFormat(i)},mceSetContent:function(e,n,i){t.setContent(i)},"Indent,Outdent":function(e){ly(t,e)},mceRepaint:function(){},InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,n,i){t.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(e,n,i){var r;"string"==typeof i&&(i={href:i}),r=t.dom.getParent(t.selection.getNode(),"a"),i.href=i.href.replace(/ /g,"%20"),r&&i.href||t.formatter.remove("link"),i.href&&t.formatter.apply("link",i,r)},selectAll:function(){var e=t.dom.getParent(t.selection.getStart(),Xt.isContentEditableTrue);if(e){var n=t.dom.createRng();n.selectNodeContents(e),t.selection.setRng(n)}},delete:function(){var e;i_(e=t)||Ib(e,!1)||jb(e,!1)||Ub(e,!1)||Rb(e,!1)||Yb(e)||Lb(e)||Gb(e,!1)||(pb(e,"Delete"),Db(e))},forwardDelete:function(){var e;Ib(e=t,!0)||jb(e,!0)||Ub(e,!0)||Rb(e,!0)||Yb(e)||Lb(e)||Gb(e,!0)||pb(e,"ForwardDelete")},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,i){return u_(t,i),!0}}),e.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return e.isFormatMatch(t)},mceBlockQuote:function(){return e.isFormatMatch("blockquote")},Outdent:function(){return sy(t)},"InsertUnorderedList,InsertOrderedList":function(e){var n=t.dom.getParent(t.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===e&&"UL"===n.tagName||"insertorderedlist"===e&&"OL"===n.tagName)}},"state"),e.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),e.addQueryValueHandler("FontName",function(){return yb(e=t).fold(function(){return vb(e).map(function(t){return N_.getFontFamily(e.getBody(),t)}).getOr("")},function(t){return N_.getFontFamily(e.getBody(),t)});var e},this),e.addQueryValueHandler("FontSize",function(){return yb(e=t).fold(function(){return vb(e).map(function(t){return N_.getFontSize(e.getBody(),t)}).getOr("")},function(t){return N_.getFontSize(e.getBody(),t)});var e},this)},P_);function P_(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}var R_=Pn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),L_=(F_.isNative=function(t){return!!R_[t.toLowerCase()]},F_.prototype.fire=function(t,e){var n,i,r,o;if(t=t.toLowerCase(),(e=e||{}).type=t,e.target||(e.target=this.scope),e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=u},e.stopPropagation=function(){e.isPropagationStopped=u},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=u},e.isDefaultPrevented=l,e.isPropagationStopped=l,e.isImmediatePropagationStopped=l),this.settings.beforeFire&&this.settings.beforeFire(e),n=this.bindings[t])for(i=0,r=n.length;i<r;i++){if((o=n[i]).once&&this.off(t,o.func),e.isImmediatePropagationStopped())return e.stopPropagation(),e;if(!1===o.func.call(this.scope,e))return e.preventDefault(),e}return e},F_.prototype.on=function(t,e,n,i){var r,o,a;if(!1===e&&(e=l),e){var s={func:e};for(i&&Pn.extend(s,i),a=(o=t.toLowerCase().split(" ")).length;a--;)(r=this.bindings[t=o[a]])||(r=this.bindings[t]=[],this.toggleEvent(t,!0)),n?r.unshift(s):r.push(s)}return this},F_.prototype.off=function(t,e){var n,i,r,o,a;if(t)for(n=(o=t.toLowerCase().split(" ")).length;n--;){if(i=this.bindings[t=o[n]],!t){for(r in this.bindings)this.toggleEvent(r,!1),delete this.bindings[r];return this}if(i){if(e)for(a=i.length;a--;)i[a].func===e&&(i=i.slice(0,a).concat(i.slice(a+1)),this.bindings[t]=i);else i.length=0;i.length||(this.toggleEvent(t,!1),delete this.bindings[t])}}else{for(t in this.bindings)this.toggleEvent(t,!1);this.bindings={}}return this},F_.prototype.once=function(t,e,n){return this.on(t,e,n,{once:!0})},F_.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},F_);function F_(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||l}function B_(t){return t._eventDispatcher||(t._eventDispatcher=new L_({scope:t,toggleEvent:function(e,n){L_.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher}function O_(t,e){return"selectionchange"===e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=U_.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()}function H_(t,e,n){!function(t){return!t.hidden&&!lb(t)}(t)?lb(t)&&"click"===n.type&&"A"===n.target.tagName&&n.preventDefault():t.fire(e,n)}function I_(t,e){var n,i;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed)if(n=O_(t,e),t.settings.event_root){if(V_||(V_={},t.editorManager.on("removeEditor",function(){var e;if(!t.editorManager.activeEditor&&V_){for(e in V_)t.dom.unbind(O_(t,e));V_=null}})),V_[e])return;V_[e]=i=function(n){for(var i=n.target,r=t.editorManager.get(),o=r.length;o--;){var a=r[o].getBody();a!==i&&!U_.isChildOf(i,a)||H_(r[o],e,n)}},U_.bind(n,e,i)}else U_.bind(n,e,i=function(n){H_(t,e,n)}),t.delegates[e]=i}var V_,j_={fire:function(t,e,n){if(this.removed&&"remove"!==t&&"detach"!==t)return e;var i=B_(this).fire(t,e);if(!1!==n&&this.parent)for(var r=this.parent();r&&!i.isPropagationStopped();)r.fire(t,i,!1),r=r.parent();return i},on:function(t,e,n){return B_(this).on(t,e,n)},off:function(t,e){return B_(this).off(t,e)},once:function(t,e){return B_(this).once(t,e)},hasEventListeners:function(t){return B_(this).has(t)}},U_=Ro.DOM,G_=G(G({},j_),{bindPendingEventDelegates:function(){var t=this;Pn.each(t._pendingNativeEvents,function(e){I_(t,e)})},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(e?n.initialized?I_(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(O_(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this,n=e.getBody(),i=e.dom;if(e.delegates){for(t in e.delegates)e.dom.unbind(O_(e,t),t,e.delegates[t]);delete e.delegates}!e.inline&&n&&i&&(n.onload=null,i.unbind(e.getWin()),i.unbind(e.getDoc())),i&&(i.unbind(n),i.unbind(e.getContainer()))}}),$_=Pn.each,W_=Pn.explode,q_={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},X_=Pn.makeMap("alt,ctrl,shift,meta,access"),Y_=(Q_.prototype.add=function(t,e,n,i){var r,o=this;return"string"==typeof(r=n)?n=function(){o.editor.execCommand(r,!1,null)}:Pn.isArray(r)&&(n=function(){o.editor.execCommand(r[0],r[1],r[2])}),$_(W_(Pn.trim(t)),function(t){var r=o.createShortcut(t,e,n,i);o.shortcuts[r.id]=r}),!0},Q_.prototype.remove=function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},Q_.prototype.parseShortcut=function(t){var e,n,i={};for(n in $_(W_(t.toLowerCase(),"+"),function(t){t in X_?i[t]=!0:/^[0-9]{2,}$/.test(t)?i.keyCode=parseInt(t,10):(i.charCode=t.charCodeAt(0),i.keyCode=q_[t]||t.toUpperCase().charCodeAt(0))}),e=[i.keyCode],X_)i[n]?e.push(n):i[n]=!1;return i.id=e.join(","),i.access&&(i.alt=!0,Nn.mac?i.ctrl=!0:i.shift=!0),i.meta&&(Nn.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i},Q_.prototype.createShortcut=function(t,e,n,i){var r;return(r=Pn.map(W_(t,">"),this.parseShortcut))[r.length-1]=Pn.extend(r[r.length-1],{func:n,scope:i||this.editor}),Pn.extend(r[0],{desc:this.editor.translate(e),subpatterns:r.slice(1)})},Q_.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},Q_.prototype.isFunctionKey=function(t){return"keydown"===t.type&&112<=t.keyCode&&t.keyCode<=123},Q_.prototype.matchShortcut=function(t,e){return!!e&&e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&e.alt===t.altKey&&e.shift===t.shiftKey&&!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0)},Q_.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},Q_);function Q_(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var e=this;t.on("keyup keypress keydown",function(t){!e.hasModifier(t)&&!e.isFunctionKey(t)||t.isDefaultPrevented()||($_(e.shortcuts,function(n){if(e.matchShortcut(t,n))return e.pendingPatterns=n.subpatterns.slice(0),"keydown"===t.type&&e.executeShortcutAction(n),!0}),e.matchShortcut(t,e.pendingPatterns[0])&&(1===e.pendingPatterns.length&&"keydown"===t.type&&e.executeShortcutAction(e.pendingPatterns[0]),e.pendingPatterns.shift()))})}var J_=Pn.each,Z_=Pn.trim,tw="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),ew={ftp:21,http:80,https:443,mailto:25},nw=(iw.parseDataUri=function(t){var e,n=decodeURIComponent(t).split(","),i=/data:([^;]+)/.exec(n[0]);return i&&(e=i[1]),{type:e,data:n[1]}},iw.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},iw.prototype.setPath=function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},iw.prototype.toRelative=function(t){var e;if("./"===t)return t;var n=new iw(t,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();var i=this.getURI(),r=n.getURI();return i===r||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===r?i:(e=this.toRelPath(this.path,n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),e)},iw.prototype.toAbsolute=function(t,e){var n=new iw(t,{base_uri:this});return n.getURI(e&&this.isSameOrigin(n))},iw.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=ew[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},iw.prototype.toRelPath=function(t,e){var n,i,r,o=0,a="",s=t.substring(0,t.lastIndexOf("/")).split("/");if(n=e.split("/"),s.length>=n.length)for(i=0,r=s.length;i<r;i++)if(i>=n.length||s[i]!==n[i]){o=i+1;break}if(s.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=s.length||s[i]!==n[i]){o=i+1;break}if(1===o)return e;for(i=0,r=s.length-(o-1);i<r;i++)a+="../";for(i=o-1,r=n.length;i<r;i++)a+=i!==o-1?"/"+n[i]:n[i];return a},iw.prototype.toAbsPath=function(t,e){var n,i,r,o=0,a=[];i=/\/$/.test(e)?"/":"";var s=t.split("/"),c=e.split("/");for(J_(s,function(t){t&&a.push(t)}),s=a,n=c.length-1,a=[];0<=n;n--)0!==c[n].length&&"."!==c[n]&&(".."!==c[n]?0<o?o--:a.push(c[n]):o++);return 0!==(r=(n=s.length-o)<=0?a.reverse().join("/"):s.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},iw.prototype.getURI=function(t){var e;return void 0===t&&(t=!1),this.source&&!t||(e="",t||(e+=this.protocol?this.protocol+"://":"//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source},iw);function iw(e,n){e=Z_(e),this.settings=n||{};var i=this.settings.base_uri,r=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))r.source=e;else{var o=0===e.indexOf("//");if(0!==e.indexOf("/")||o||(e=(i&&i.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){var a=this.settings.base_uri?this.settings.base_uri.path:new iw(t.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)e="//mce_host"+r.toAbsPath(a,e);else{var s=/([^#?]*)([#?]?.*)/.exec(e);e=(i&&i.protocol||"http")+"://mce_host"+r.toAbsPath(a,s[1])+s[2]}}e=e.replace(/@@/g,"(mce_at)");var c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);J_(tw,function(t,e){var n=c[e];n=n&&n.replace(/\(mce_at\)/g,"@@"),r[t]=n}),i&&(r.protocol||(r.protocol=i.protocol),r.userInfo||(r.userInfo=i.userInfo),r.port||"mce_host"!==r.host||(r.port=i.port),r.host&&"mce_host"!==r.host||(r.host=i.host),r.source=""),o&&(r.protocol="")}}function rw(){var t=function(){function t(t,e){return function(n,i){return t[n.toLowerCase()]=G(G({},i),{type:e})}}var e={},n={},i={},r={},o={},a={},s={};return{addButton:t(e,"button"),addToggleButton:t(e,"togglebutton"),addMenuButton:t(e,"menubutton"),addSplitButton:t(e,"splitbutton"),addMenuItem:t(n,"menuitem"),addNestedMenuItem:t(n,"nestedmenuitem"),addToggleMenuItem:t(n,"togglemenuitem"),addAutocompleter:t(i,"autocompleter"),addContextMenu:t(o,"contextmenu"),addContextToolbar:t(a,"contexttoolbar"),addContextForm:t(a,"contextform"),addSidebar:t(s,"sidebar"),addIcon:function(t,e){return r[t.toLowerCase()]=e},getAll:function(){return{buttons:e,menuItems:n,icons:r,popups:i,contextMenus:o,contextToolbars:a,sidebars:s}}}}();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}}var ow=Ro.DOM,aw=Pn.extend,sw=Pn.each,cw=Pn.resolve,lw=Nn.ie,uw=(dw.prototype.render=function(){!function(n){var i=n.settings,r=n.id;Go.setCode(Vu(n));var o=function(){S_.unbind(t.window,"ready",o),n.render()};if(Ai.Event.domLoaded){if(n.getElement()&&Nn.contentEditable){i.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var a=n.getElement().form||S_.getParent(r,"form");a&&(n.formElement=a,i.hidden_input&&!Xt.isTextareaOrInput(n.getElement())&&(S_.insertAfter(S_.create("input",{type:"hidden",name:r}),r),n.hasHiddenInput=!0),n.formEventDelegate=function(t){n.fire(t.type,t)},S_.bind(a,"submit reset",n.formEventDelegate),n.on("reset",function(){n.resetContent()}),!i.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),a._mceOldSubmit(a)})),n.windowManager=Nd(n),n.notificationManager=Ed(n),"xml"===i.encoding&&n.on("GetContent",function(t){t.save&&(t.content=S_.encode(t.content))}),i.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),i.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),n.editorManager.add(n),function(t,n){var i=Oo.ScriptLoader;!function(t,e,n,i){var r=e.settings,o=r.theme;if(M(o)){if(!ab(o)&&!Od.urls.hasOwnProperty(o)){var a=r.theme_url;Od.load(o,a?e.documentBaseURI.toAbsolute(a):"themes/"+o+"/theme"+n+".js")}t.loadQueue(function(){Od.waitFor(o,i)})}else i()}(i,t,n,function(){!function(t,n){var i=Vu(n),r=function(t){return t.getParam("language_url","","string")}(n);if(!1===Go.hasCode(i)&&"en"!==i){var o=""!==r?r:n.editorManager.baseURL+"/langs/"+i+".js";t.add(o,e,void 0,function(){Ld.languageLoadError(o,i)})}}(i,t),function(t,n){(function(t){return A.from(function(t){return t.getParam("icons_url","","string")}(t)).filter(function(t){return 0<t.length}).map(function(t){return{url:t,name:A.none()}})})(n).orThunk(function(){return A.from(function(t){return t.getParam("icons","","string")}(t=n)).filter(function(t){return 0<t.length&&!Fd.has(t)}).map(function(e){return{url:t.editorManager.baseURL+"/icons/"+e+"/icons.js",name:A.some(e)}});var t}).each(function(n){t.add(n.url,e,void 0,function(){Ld.iconsLoadError(n.url,n.name.getOrUndefined())})})}(i,t),function(t,n){P(t.plugins)&&(t.plugins=t.plugins.join(" ")),Pn.each(t.external_plugins,function(n,i){Bd.load(i,n,e,void 0,function(){Ld.pluginLoadError(i,n)}),t.plugins+=" "+i}),Pn.each(t.plugins.split(/[ ,]/),function(t){if((t=Pn.trim(t))&&!Bd.urls[t])if(ab(t)){t=t.substr(1,t.length);var i=Bd.dependencies(t);Pn.each(i,function(t){t=Bd.createUrl({prefix:"plugins/",resource:t,suffix:"/plugin"+n+".js"},t),Bd.load(t.resource,t,e,void 0,function(){Ld.pluginLoadError(t.prefix+t.resource+t.suffix,t.resource)})})}else{var r={prefix:"plugins/",resource:t,suffix:"/plugin"+n+".js"};Bd.load(t,r,e,void 0,function(){Ld.pluginLoadError(r.prefix+r.resource+r.suffix,t)})}})}(t.settings,n),i.loadQueue(function(){t.removed||x_(t)},t,function(){t.removed||x_(t)})})}(n,n.suffix)}}else S_.bind(t.window,"ready",o)}(this)},dw.prototype.focus=function(t){!function(t,e){t.removed||(e?od(t):function(t){var e=t.selection,n=t.getBody(),i=e.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===uu(t)&&td(t).each(function(e){t.selection.setRng(e),i=e});var r=function(t,e){return t.dom.getParent(e,function(e){return"true"===t.dom.getContentEditable(e)})}(t,e.getNode());if(t.$.contains(n,r))return lu(r),cu(t,i),od(t);t.inline||(Nn.opera||lu(n),t.getWin().focus()),(Nn.gecko||t.inline)&&(lu(n),cu(t,i)),od(t)}(t))}(this,t)},dw.prototype.hasFocus=function(){return ad(this)},dw.prototype.execCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,r=this.settings[t];if(r)return this.callbackLookup&&(i=this.callbackLookup[t])&&(r=i.func,i=i.scope),"string"==typeof r&&(i=(i=r.replace(/\.\w+$/,""))?cw(i):0,r=cw(r),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[t]={func:r,scope:i}),r.apply(i||this,Array.prototype.slice.call(arguments,1))},dw.prototype.translate=function(t){return Go.translate(t)},dw.prototype.getParam=function(t,e,n){return function(t,e,n,i){var r=e in t.settings?t.settings[e]:n;return"hash"===i?function(t){var e={};return"string"==typeof t?b(0<t.indexOf("=")?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),function(t){var n=t.split("=");e[Pn.trim(n[0])]=Pn.trim(1<n.length?n[1]:n[0])}):e=t,e}(r):"string"===i?yu(M,t,e).getOr(n):"number"===i?yu(B,t,e).getOr(n):"boolean"===i?yu(L,t,e).getOr(n):"object"===i?yu(D,t,e).getOr(n):"array"===i?yu(P,t,e).getOr(n):"string[]"===i?yu(function(t){return function(e){return P(e)&&k(e,t)}}(M),t,e).getOr(n):"function"===i?yu(F,t,e).getOr(n):r}(this,t,e,n)},dw.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},dw.prototype.addCommand=function(t,e,n){this.editorCommands.addCommand(t,e,n)},dw.prototype.addQueryStateHandler=function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},dw.prototype.addQueryValueHandler=function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},dw.prototype.addShortcut=function(t,e,n,i){this.shortcuts.add(t,e,n,i)},dw.prototype.execCommand=function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},dw.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},dw.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},dw.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},dw.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(ow.show(this.getContainer()),ow.hide(this.id)),this.load(),this.fire("show"))},dw.prototype.hide=function(){var t=this,e=t.getDoc();t.hidden||(lw&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(ow.hide(t.getContainer()),ow.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},dw.prototype.isHidden=function(){return!!this.hidden},dw.prototype.setProgressState=function(t,e){this.fire("ProgressState",{state:t,time:e})},dw.prototype.load=function(t){var e,n=this.getElement();if(this.removed)return"";if(n){(t=t||{}).load=!0;var i=Xt.isTextareaOrInput(n)?n.value:n.innerHTML;return e=this.setContent(i,t),t.element=n,t.no_events||this.fire("LoadContent",t),t.element=n=null,e}},dw.prototype.save=function(t){var e,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return(t=t||{}).save=!0,t.element=r,t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"===t.format&&i.fire("RawSaveContent",t),e=t.content,Xt.isTextareaOrInput(r)?r.value=e:(!t.is_removing&&i.inline||(r.innerHTML=e),(n=ow.getParent(i.id,"form"))&&sw(n.elements,function(t){if(t.name===i.id)return t.value=e,!1})),t.element=r=null,!1!==t.set_dirty&&i.setDirty(!1),e},dw.prototype.setContent=function(t,e){return fu(this,t,e)},dw.prototype.getContent=function(t){return void 0===(n=t)&&(n={}),A.from((e=this).getBody()).fold(i("tree"===n.format?new Il("body",11):""),function(t){return function(t,e,n){var i;if(e.format=e.format?e.format:"html",e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)i=Pn.trim(xu.trimExternal(t.serializer,n.innerHTML));else if("text"===e.format)i=ts(n.innerText||n.textContent);else{if("tree"===e.format)return t.serializer.serialize(n,e);i=function(t,e){var n=ku(t),i=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(i,"")}(t,t.serializer.serialize(n,e))}return e.content="text"===e.format||Yn(ve.fromDom(n))?i:Pn.trim(i),e.no_events||t.fire("GetContent",e),e.content}(e,n,t)});var e,n},dw.prototype.insertContent=function(t,e){e&&(t=aw({content:t},e)),this.execCommand("mceInsertContent",!1,t)},dw.prototype.resetContent=function(t){void 0===t?fu(this,this.startContent,{format:"raw"}):fu(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},dw.prototype.isDirty=function(){return!this.isNotDirty},dw.prototype.setDirty=function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},dw.prototype.getContainer=function(){return this.container||(this.container=ow.get(this.editorContainer||this.id+"_parent")),this.container},dw.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},dw.prototype.getElement=function(){return this.targetElm||(this.targetElm=ow.get(this.id)),this.targetElm},dw.prototype.getWin=function(){var t;return this.contentWindow||(t=this.iframeElement)&&(this.contentWindow=t.contentWindow),this.contentWindow},dw.prototype.getDoc=function(){var t;return this.contentDocument||(t=this.getWin())&&(this.contentDocument=t.document),this.contentDocument},dw.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},dw.prototype.convertURL=function(t,e,n){var i=this.settings;return i.urlconverter_callback?this.execCallback("urlconverter_callback",t,n,!0,e):!i.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:i.relative_urls?this.documentBaseURI.toRelative(t):t=this.documentBaseURI.toAbsolute(t,i.remove_script_host)},dw.prototype.addVisual=function(t){var e,n=this,i=n.settings,r=n.dom;t=t||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=i.visual),sw(r.select("table,a",t),function(t){var o;switch(t.nodeName){case"TABLE":return e=i.visual_table_class||"mce-item-table",void((o=r.getAttrib(t,"border"))&&"0"!==o||!n.hasVisual?r.removeClass(t,e):r.addClass(t,e));case"A":return void(r.getAttrib(t,"href")||(o=r.getAttrib(t,"name")||t.id,e=i.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?r.addClass(t,e):r.removeClass(t,e)))}}),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},dw.prototype.remove=function(){!function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,i=t.getBody(),r=t.getElement();i&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&r&&hd.remove(r.nextSibling),function(t){t.fire("remove")}(t),t.editorManager.remove(t),!t.inline&&i&&function(t){hd.setStyle(t.id,"display",t.orgDisplay)}(t),function(t){t.fire("detach")}(t),hd.remove(t.getContainer()),gu(e),gu(n),t.destroy()}}(this)},dw.prototype.destroy=function(t){!function(t,e){var n=t.selection,i=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),gu(n),gu(i)),function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),hd.unbind(e,"submit reset",t.formEventDelegate))}(t),function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)}(t),t.destroyed=!0):t.remove())}(this,t)},dw.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},dw.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},dw.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},dw.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},dw.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},dw.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},dw);function dw(n,i,r){var a=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,aw(this,G_),this.settings=function(t,e,n,i,r){var a=function(t,e,n){return{id:t,theme:"silver",plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n}}(e,n,t);return function(t,e,n,i,r){var a=function(t,e){var n=st(e,function(e,n){return v(t,n)});return md(n.t,n.f)}(["mobile"],gd(bd?{mobile:wd}:{},r)),s=Pn.extend(n,i,a.settings(),function(t,e){var n=e.settings().inline;return t&&vu(e,"mobile")&&!n}(t,a)?function(t,e,n){void 0===n&&(n={});var i=a.sections(),r=i.hasOwnProperty(e)?i[e]:{};return Pn.extend({},n,r)}(0,"mobile"):{},{validate:!0,external_plugins:function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?Pn.extend({},t.external_plugins,n):n}(i,a.settings())});return function(t,e,n,i){var r=mu(n.forced_plugins),a=mu(i.plugins),s=function(t,e){return vu(t,e)?t.sections()[e]:{}}(e,"mobile"),c=s.plugins?mu(s.plugins):a,l=function(t,e){return[].concat(mu(t)).concat(mu(e))}(r,t&&function(t,e,n){var i=t.sections();return vu(t,e)&&"mobile"===i[e].theme}(e,"mobile")?_(c,o(v,_d)):t&&vu(e,"mobile")?c:a);return Pn.extend(i,{plugins:l.join(" ")})}(t,a,i,s)}(yd,0,a,i,r)}(this,n,this.documentBaseUrl,r.defaultSettings,i),this.settings.suffix&&(r.suffix=this.settings.suffix),this.suffix=r.suffix,this.settings.base_url&&r._setBaseUrl(this.settings.base_url),this.baseUri=r.baseURI,this.settings.referrer_policy&&(Oo.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ro.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),aa.languageLoad=this.settings.language_load,aa.baseURL=r.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new nw(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=this.settings.inline,this.shortcuts=new Y_(this),this.editorCommands=new D_(this),this.settings.cache_suffix&&(Nn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:rw()};var s=function(n){var i,r=Vo("design"),o=Vo({design:{activate:e,deactivate:e,editorReadOnly:!1},readonly:{activate:e,deactivate:e,editorReadOnly:!0}});return(i=n).serializer?ub(i):i.on("PreInit",function(){ub(i)}),function(t){t.on("ShowCaret",function(e){lb(t)&&e.preventDefault()}),t.on("ObjectSelected",function(e){lb(t)&&e.preventDefault()})}(n),{isReadOnly:function(){return lb(n)},set:function(t){return function(t,e,n,i){if(i!==n.get()){if(!ke(e,i))throw new Error("Editor mode '"+i+"' is invalid");t.initialized?db(t,n,e,i):t.on("init",function(){return db(t,n,e,i)})}}(n,o.get(),r,t)},get:function(){return r.get()},register:function(e,n){o.set(function(e,n,i){var r;if(v(k_,n))throw new Error("Cannot override default mode "+n);return G(G({},e),((r={})[n]=G(G({},i),{deactivate:function(){try{i.deactivate()}catch(rC){t.console.error("problem while deactivating editor mode "+n+":",rC)}}}),r))}(o.get(),e,n))}}}(this);this.mode=s,this.setMode=s.set,r.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Co.overrideDefaults(function(){return{context:a.inline?a.getBody():a.getDoc(),element:a.getBody()}})}function hw(t){var e=t.type;bw(kw.get(),function(n){switch(e){case"scroll":n.fire("ScrollWindow",t);break;case"resize":n.fire("ResizeWindow",t)}})}function fw(t){t!==Cw&&(t?Co(window).on("resize scroll",hw):Co(window).off("resize scroll",hw),Cw=t)}function gw(t){var e=Sw;delete xw[t.id];for(var n=0;n<xw.length;n++)if(xw[n]===t){xw.splice(n,1);break}return Sw=_(Sw,function(e){return t!==e}),kw.activeEditor===t&&(kw.activeEditor=0<Sw.length?Sw[0]:null),kw.focusedEditor===t&&(kw.focusedEditor=null),e.length!==Sw.length}var pw,mw,vw=Ro.DOM,yw=Pn.explode,bw=Pn.each,_w=Pn.extend,ww=0,Cw=!1,xw=[],Sw=[],Tw="CSS1Compat"!==t.document.compatMode,kw=G(G({},j_),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Co,majorVersion:"5",minorVersion:"0.16",releaseDate:"2019-09-24",editors:xw,i18n:Go,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,n,i="";n=nw.getDocumentBaseUrl(t.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var r=window.tinymce||window.tinyMCEPreInit;if(r)e=r.base||r.baseURL,i=r.suffix;else{for(var a=t.document.getElementsByTagName("script"),s=0;s<a.length;s++){var c;if(""!==(c=a[s].src||"")){var l=c.substring(c.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(c)){-1!==l.indexOf(".min")&&(i=".min"),e=c.substring(0,c.lastIndexOf("/"));break}}}!e&&t.document.currentScript&&(-1!==(c=t.document.currentScript.src).indexOf(".min")&&(i=".min"),e=c.substring(0,c.lastIndexOf("/")))}this.baseURL=new nw(n).toAbsolute(e),this.documentBaseURL=n,this.baseURI=new nw(this.baseURL),this.suffix=i,function(t){t.on("AddEditor",o(au,t)),t.on("RemoveEditor",o(su,t))}(this)},overrideDefaults:function(t){var e;(e=t.base_url)&&this._setBaseUrl(e),t.suffix&&(this.suffix=t.suffix);var n=(this.defaultSettings=t).plugin_base_urls;for(var i in n)aa.PluginManager.urls[i]=n[i]},init:function(e){var n,i,r=this;function o(t){var e=t.id;return e||(e=(e=t.name)&&!vw.get(e)?t.name:vw.uniqueId(),t.setAttribute("id",e)),e}function a(t,e){return e.constructor===RegExp?e.test(t.className):vw.hasClass(t,e)}i=Pn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");var s=function(t){n=t},c=function(){function n(t,e,n){var i=new uw(t,e,r);d.push(i),i.on("init",function(){++u===l.length&&s(d)}),i.targetElm=i.targetElm||n,i.render()}var l,u=0,d=[];vw.unbind(window,"ready",c),function(t){var n=e.onpageload;n&&n.apply(r,Array.prototype.slice.call(arguments,2))}("onpageload"),l=Co.unique(function(e){var n,i=[];if(Nn.ie&&Nn.ie<11)return Ld.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(Tw)return Ld.initError("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return bw(e.types,function(t){i=i.concat(vw.select(t.selector))}),i;if(e.selector)return vw.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":0<(n=e.elements||"").length&&bw(yw(n),function(e){var n;(n=vw.get(e))?i.push(n):bw(t.document.forms,function(t){bw(t.elements,function(t){t.name===e&&(e="mce_editor_"+ww++,vw.setAttrib(t,"id",e),i.push(t))})})});break;case"textareas":case"specific_textareas":bw(vw.select("textarea"),function(t){e.editor_deselector&&a(t,e.editor_deselector)||e.editor_selector&&!a(t,e.editor_selector)||i.push(t)})}return i}(e)),e.types?bw(e.types,function(t){Pn.each(l,function(i){return!vw.is(i,t.selector)||(n(o(i),_w({},e,t),i),!1)})}):(Pn.each(l,function(t){!function(t){t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(gw(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)}(r.get(t.id))}),0===(l=Pn.grep(l,function(t){return!r.get(t.id)})).length?s([]):bw(l,function(t){e.inline&&t.tagName.toLowerCase()in i?Ld.initError("Could not initialize inline editor on invalid inline target element",t):n(o(t),e,t)}))};return r.settings=e,vw.bind(window,"ready",c),new Ye(function(t){n?t(n):s=function(e){t(e)}})},get:function(t){return 0===arguments.length?Sw.slice(0):M(t)?x(Sw,function(e){return e.id===t}).getOr(null):B(t)&&Sw[t]?Sw[t]:null},add:function(t){var e=this;return xw[t.id]===t||(null===e.get(t.id)&&(function(t){return"length"!==t}(t.id)&&(xw[t.id]=t),xw.push(t),Sw.push(t)),fw(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),pw||(pw=function(t){var n=e.fire("BeforeUnload");if(n.returnValue)return t.preventDefault(),t.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",pw))),t},createEditor:function(t,e){return this.add(new uw(t,e,this))},remove:function(t){var e,n,i=this;if(t){if(!M(t))return R(i.get((n=t).id))?null:(gw(n)&&i.fire("RemoveEditor",{editor:n}),0===Sw.length&&window.removeEventListener("beforeunload",pw),n.remove(),fw(0<Sw.length),n);bw(vw.select(t),function(t){(n=i.get(t.id))&&i.remove(n)})}else for(e=Sw.length-1;0<=e;e--)i.remove(Sw[e])},execCommand:function(t,e,n){var i=this.get(n);switch(t){case"mceAddEditor":return this.get(n)||new uw(n,this.settings,this).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?i.isHidden()?i.show():i.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(t,e,n)},triggerSave:function(){bw(Sw,function(t){t.save()})},addI18n:function(t,e){Go.add(t,e)},translate:function(t){return Go.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new nw(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new nw(this.baseURL)}});function zw(t){return{walk:function(e,n){return Dl(t,e,n)},split:Wh,normalize:function(e){return hm(t,e).fold(i(!1),function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0})}}}function Ew(t,e,n){var i,r,o,a,s,c;return i=e.x,r=e.y,o=t.w,a=t.h,s=e.w,c=e.h,"b"===(n=(n||"").split(""))[0]&&(r+=c),"r"===n[1]&&(i+=s),"c"===n[0]&&(r+=Bw(c/2)),"c"===n[1]&&(i+=Bw(s/2)),"b"===n[3]&&(r-=a),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=Bw(a/2)),"c"===n[4]&&(i-=Bw(o/2)),Ow(i,r,o,a)}function Nw(){}kw.setup(),(mw=zw=zw||{}).compareRanges=nh,mw.getCaretRangeFromPoint=Zp,mw.getSelectedNode=La,mw.getNode=Fa;var Kw,Aw,Mw,Dw,Pw=zw,Rw=(Kw={},Aw={},{load:function(e,n){var i='Script at URL "'+n+'" failed to load',r='Script at URL "'+n+"\" did not call `tinymce.Resource.add('"+e+"', data)` within 1 second";if(void 0!==Kw[e])return Kw[e];var o=new Ye(function(o,a){var s=function(e,n,i){function r(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];o||(o=!0,null!==a&&(t.clearTimeout(a),a=null),e.apply(null,n))}}void 0===i&&(i=1e3);var o=!1,a=null,s=r(e),c=r(n);return{start:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];o||null!==a||(a=t.setTimeout(function(){return c.apply(null,e)},i))},resolve:s,reject:c}}(o,a);Aw[e]=s.resolve,Oo.ScriptLoader.loadScript(n,function(){return s.start(r)},function(){return s.reject(i)})});return Kw[e]=o},add:function(t,e){void 0!==Aw[t]&&(Aw[t](e),delete Aw[t]),Kw[t]=Ye.resolve(e)}}),Lw=Math.min,Fw=Math.max,Bw=Math.round,Ow=function(t,e,n,i){return{x:t,y:e,w:n,h:i}},Hw={inflate:function(t,e,n){return Ow(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},relativePosition:Ew,findBestRelativePosition:function(t,e,n,i){var r,o;for(o=0;o<i.length;o++)if((r=Ew(t,e,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},intersect:function(t,e){var n,i,r,o;return n=Fw(t.x,e.x),i=Fw(t.y,e.y),r=Lw(t.x+t.w,e.x+e.w),o=Lw(t.y+t.h,e.y+e.h),r-n<0||o-i<0?null:Ow(n,i,r-n,o-i)},clamp:function(t,e,n){var i,r,o,a,s,c,l,u,d,h;return c=t.y,l=t.x+t.w,u=t.y+t.h,d=e.x+e.w,h=e.y+e.h,i=Fw(0,e.x-(s=t.x)),r=Fw(0,e.y-c),o=Fw(0,l-d),a=Fw(0,u-h),s+=i,c+=r,n&&(l+=i,u+=r,s-=o,c-=a),Ow(s,c,(l-=o)-s,(u-=a)-c)},create:Ow,fromClientRect:function(t){return Ow(t.left,t.top,t.width,t.height)}},Iw=Pn.each,Vw=Pn.extend;Nw.extend=Mw=function(t){function e(){var t,e,n;if(!Dw&&(this.init&&this.init.apply(this,arguments),e=this.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(this,arguments)}function n(){return this}function i(t,e){return function(){var n,i=this._super;return this._super=s[t],n=e.apply(this,arguments),this._super=i,n}}var r,o,a,s=this.prototype;for(o in Dw=!0,r=new this,Dw=!1,t.Mixins&&(Iw(t.Mixins,function(e){for(var n in e)"init"!==n&&(t[n]=e[n])}),s.Mixins&&(t.Mixins=s.Mixins.concat(t.Mixins))),t.Methods&&Iw(t.Methods.split(","),function(e){t[e]=n}),t.Properties&&Iw(t.Properties.split(","),function(e){var n="_"+e;t[e]=function(t){return void 0!==t?(this[n]=t,this):this[n]}}),t.Statics&&Iw(t.Statics,function(t,n){e[n]=t}),t.Defaults&&s.Defaults&&(t.Defaults=Vw({},s.Defaults,t.Defaults)),t)r[o]="function"==typeof(a=t[o])&&s[o]?i(o,a):a;return e.prototype=r,(e.constructor=e).extend=Mw,e};var jw,Uw,Gw,$w,Ww=Math.min,qw=Math.max,Xw=Math.round,Yw={serialize:function(t){var e=JSON.stringify(t);return M(e)?e.replace(/[\u0080-\uFFFF]/g,function(t){var e=t.charCodeAt(0).toString(16);return"\\u"+"0000".substring(e.length)+e}):e},parse:function(t){try{return JSON.parse(t)}catch(c){}}},Qw={callbacks:{},count:0,send:function(t){var e=this,n=Ro.DOM,i=void 0!==t.count?t.count:e.count,r="tinymce_jsonp_"+i;e.callbacks[i]=function(o){n.remove(r),delete e.callbacks[i],t.callback(o)},n.add(n.doc.body,"script",{id:r,src:t.url,type:"text/javascript"}),e.count++}},Jw=G(G({},j_),{send:function(e){var n,i=0,r=function(){!e.async||4===n.readyState||1e4<i++?(e.success&&i<1e4&&200===n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,1e4<i?"TIMED_OUT":"GENERAL",n,e),n=null):Cn.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",Jw.fire("beforeInitialize",{settings:e}),n=new t.XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Pn.each(e.requestheaders,function(t){n.setRequestHeader(t.key,t.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=Jw.fire("beforeSend",{xhr:n,settings:e}).xhr).send(e.data),!e.async)return r();Cn.setTimeout(r,10)}}}),Zw=Pn.extend,tC=(eC.sendRPC=function(t){return(new eC).send(t)},eC.prototype.send=function(t){var e=t.error,n=t.success,i=Zw(this.settings,t);i.success=function(t,r){void 0===(t=Yw.parse(t))&&(t={error:"JSON Parse error."}),t.error?e.call(i.error_scope||i.scope,t.error,r):n.call(i.success_scope||i.scope,t.result)},i.error=function(t,n){e&&e.call(i.error_scope||i.scope,t,n)},i.data=Yw.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),i.content_type="application/json",Jw.send(i)},eC);function eC(t){this.settings=Zw({},t),this.count=0}try{jw=t.window.localStorage}catch(rC){Uw={},Gw=[],$w={getItem:function(t){return Uw[t]||null},setItem:function(t,e){Gw.push(t),Uw[t]=String(e)},key:function(t){return Gw[t]},removeItem:function(t){Gw=Gw.filter(function(e){return e===t}),delete Uw[t]},clear:function(){Gw=[],Uw={}},length:0},Object.defineProperty($w,"length",{get:function(){return Gw.length},configurable:!1,enumerable:!1}),jw=$w}var nC,iC=Pn.extend(kw,{geom:{Rect:Hw},util:{Promise:Ye,Delay:Cn,Tools:Pn,VK:Cf,URI:nw,Class:Nw,EventDispatcher:L_,Observable:j_,I18n:Go,XHR:Jw,JSON:Yw,JSONRequest:tC,JSONP:Qw,LocalStorage:jw,Color:function(t){function e(t){var e;return"object"==typeof t?"r"in t?(i=t.r,r=t.g,o=t.b):"v"in t&&function(t,e,n){var a,s,c,l;if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,n=parseInt(n,10)/100,e=qw(0,Ww(e,1)),n=qw(0,Ww(n,1)),0!==e){switch(a=t/60,c=(s=n*e)*(1-Math.abs(a%2-1)),l=n-s,Math.floor(a)){case 0:i=s,r=c,o=0;break;case 1:i=c,r=s,o=0;break;case 2:i=0,r=s,o=c;break;case 3:i=0,r=c,o=s;break;case 4:i=c,r=0,o=s;break;case 5:i=s,r=0,o=c;break;default:i=r=o=0}i=Xw(255*(i+l)),r=Xw(255*(r+l)),o=Xw(255*(o+l))}else i=r=o=Xw(255*n)}(t.h,t.s,t.v):(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(i=parseInt(e[1],10),r=parseInt(e[2],10),o=parseInt(e[3],10)):(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(i=parseInt(e[1],16),r=parseInt(e[2],16),o=parseInt(e[3],16)):(e=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(i=parseInt(e[1]+e[1],16),r=parseInt(e[2]+e[2],16),o=parseInt(e[3]+e[3],16)),i=i<0?0:255<i?255:i,r=r<0?0:255<r?255:r,o=o<0?0:255<o?255:o,n}var n={},i=0,r=0,o=0;return t&&e(t),n.toRgb=function(){return{r:i,g:r,b:o}},n.toHsv=function(){return t=i,e=r,n=o,s=0,(c=Ww(t/=255,Ww(e/=255,n/=255)))===(l=qw(t,qw(e,n)))?{h:0,s:0,v:100*(s=c)}:(a=(l-c)/l,{h:Xw(60*((t===c?3:n===c?1:5)-(t===c?e-n:n===c?t-e:n-t)/((s=l)-c))),s:Xw(100*a),v:Xw(100*s)});var t,e,n,a,s,c,l},n.toHex=function(){function t(t){return 1<(t=parseInt(t,10).toString(16)).length?t:"0"+t}return"#"+t(i)+t(r)+t(o)},n.parse=e,n}},dom:{EventUtils:Ai,Sizzle:Mr,DomQuery:Co,TreeWalker:xo,DOMUtils:Ro,ScriptLoader:Oo,RangeUtils:Pw,Serializer:Vg,ControlSelection:rp,BookmarkManager:op,Selection:mm,Event:Ai.Event},html:{Styles:ki,Entities:li,Node:Il,Schema:_i,SaxParser:Cu,DomParser:Hg,Writer:ql,Serializer:Xl},Env:Nn,AddOnManager:aa,Annotator:Ll,Formatter:Fg,UndoManager:Ih,EditorCommands:D_,WindowManager:Nd,NotificationManager:Ed,EditorObservable:G_,Shortcuts:Y_,Editor:uw,FocusManager:ed,EditorManager:kw,DOM:Ro.DOM,ScriptLoader:Oo.ScriptLoader,PluginManager:aa.PluginManager,ThemeManager:aa.ThemeManager,IconManager:Fd,Resource:Rw,trim:Pn.trim,isArray:Pn.isArray,is:Pn.is,toArray:Pn.toArray,makeMap:Pn.makeMap,each:Pn.each,map:Pn.map,grep:Pn.grep,inArray:Pn.inArray,extend:Pn.extend,create:Pn.create,walk:Pn.walk,createNS:Pn.createNS,resolve:Pn.resolve,explode:Pn.explode,_addCacheSuffix:Pn._addCacheSuffix,isOpera:Nn.opera,isWebKit:Nn.webkit,isIE:Nn.ie,isGecko:Nn.gecko,isMac:Nn.mac});nC=iC,window.tinymce=nC,window.tinyMCE=nC,function(t){if("object"==typeof module)try{module.exports=t}catch(c){}}(iC)}(window);var EnjoyHint=function(t){var e,n=this,i=$.extend({onStart:function(){},onEnd:function(){},onSkip:function(){},onNext:function(){}},t),r=[],o=0;$body=$("body");var a=function(t){t.preventDefault()},s=function(){$(".enjoyhint").remove(),$body.css({overflow:"auto"}),$(document).off("touchmove",a)};n.clear=function(){var t=$(".enjoyhint_next_btn"),e=$(".enjoyhint_skip_btn");t.removeClass(n.nextUserClass),t.text(""),e.removeClass(n.skipUserClass),e.text("")};var c=function(){if(!r||!r[o])return $body.enjoyhint("hide"),i.onEnd(),void s();i.onNext();var t=$(".enjoyhint");t.removeClass("enjoyhint-step-"+o),t.removeClass("enjoyhint-step-"+(o+1)),t.addClass("enjoyhint-step-"+(o+1));var a=r[o];a.onBeforeStart&&"function"==typeof a.onBeforeStart&&a.onBeforeStart(),setTimeout(function(){if(!a.selector)for(var t in a)a.hasOwnProperty(t)&&t.split(" ")[1]&&(a.selector=t.split(" ")[1],a.event=t.split(" ")[0],"next"!=t.split(" ")[0]&&"auto"!=t.split(" ")[0]&&"custom"!=t.split(" ")[0]||(a.event_type=t.split(" ")[0]),a.description=a[t]);setTimeout(function(){n.clear()},250),$(document.body).scrollTo(a.selector,a.scrollAnimationSpeed||250,{offset:-100}),setTimeout(function(){var t=$(a.selector),i=d(a.event);if($body.enjoyhint("show"),$body.enjoyhint("hide_next"),e=t,a.event_selector&&(e=$(a.event_selector)),a.event_type||"key"!=a.event||t.keydown(function(t){t.which==a.keyCode&&(o++,c())}),1==a.showNext&&$body.enjoyhint("show_next"),0==a.showSkip?$body.enjoyhint("hide_skip"):$body.enjoyhint("show_skip"),a.nextButton){var r=$(".enjoyhint_next_btn");r.addClass(a.nextButton.className||""),r.text(a.nextButton.text||""),n.nextUserClass=a.nextButton.className}if(a.skipButton){var s=$(".enjoyhint_skip_btn");s.addClass(a.skipButton.className||""),s.text(a.skipButton.text||""),n.skipUserClass=a.skipButton.className}if(a.event_type)switch(a.event_type){case"auto":return t[a.event](),o++,void c();case"custom":h(a.event,function(){o++,f(a.event),c()});break;case"next":$body.enjoyhint("show_next")}else e.on(i,function(t){a.keyCode&&t.keyCode!=a.keyCode||(o++,$(this).off(i),c())});var l=Math.max(t.outerWidth(),t.outerHeight()),u=a.radius||Math.round(l/2)+5,g=t.offset(),p=t.outerWidth(),m=t.outerHeight(),v=void 0!==a.margin?a.margin:10,y={x:g.left+Math.round(p/2),y:g.top+Math.round(m/2)-$(document).scrollTop()},b={enjoyHintElementSelector:a.selector,center_x:y.x,center_y:y.y,text:a.description,top:a.top,bottom:a.bottom,left:a.left,right:a.right,margin:a.margin,scroll:a.scroll};a.shape&&"circle"==a.shape?(b.shape="circle",b.radius=u):(b.radius=0,b.width=p+v,b.height=m+v),$body.enjoyhint("render_label_with_shape",b,n.stop)},a.scrollAnimationSpeed+20||270)},a.timeout||0)},l=function(){o++,c()},u=function(){var t=r[o],e=$(t.selector);f(t.event),e.off(d(t.event)),s()},d=function(t,e){return t+(e?"custom":"")+".enjoy_hint"},h=function(t,e){$body.on(d(t,!0),e)},f=function(t){$body.off(d(t,!0))};window.addEventListener("resize",function(){null!=e&&$body.enjoyhint("redo_events_near_rect",e[0].getBoundingClientRect())}),n.stop=function(){u()},n.reRunScript=function(t){o=t,c()},n.runScript=function(){o=0,i.onStart(),c()},n.resumeScript=function(){c()},n.setCurrentStep=function(t){o=t},n.getCurrentStep=function(){return o},n.trigger=function(t){switch(t){case"next":l();break;case"skip":u()}},n.setScript=function(t){t&&(r=t)},n.set=function(t){n.setScript(t)},n.setSteps=function(t){n.setScript(t)},n.run=function(){n.runScript()},n.resume=function(){n.resumeScript()},$(".enjoyhint")&&$(".enjoyhint").remove(),$body.css({overflow:"hidden"}),$(document).on("touchmove",a),$body.enjoyhint({onNextClick:function(){l()},onSkipClick:function(){i.onSkip(),u()}})};CanvasRenderingContext2D.prototype.roundRect=function(t,e,n,i,r){return n<2*r&&(r=n/2),i<2*r&&(r=i/2),this.beginPath(),this.moveTo(t+r,e),this.arcTo(t+n,e,t+n,e+i,r),this.arcTo(t+n,e+i,t,e+i,r),this.arcTo(t,e+i,t,e,r),this.arcTo(t,e,t+n,e,r),this.closePath(),this},function(t){var e,n,i,r,o,a,s,c=window.innerWidth,l=window.innerHeight,u={init:function(u){return this.each(function(){function d(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in e)n.setAttribute(i,e[i]);return n}this.enjoyhint_obj={},(e=this.enjoyhint_obj).resetComponentStuff=function(){n=null,i=null,r=null,o=null,a=null,s=null,c=window.innerWidth,l=window.innerHeight};var h=t(this);e.options=jQuery.extend({onNextClick:function(){},onSkipClick:function(){},animation_time:800},u),e.gcl={chooser:"enjoyhint"},e.cl={enjoy_hint:"enjoyhint",hide:"enjoyhint_hide",disable_events_element:"enjoyhint_disable_events",btn:"enjoyhint_btn",skip_btn:"enjoyhint_skip_btn",close_btn:"enjoyhint_close_btn",next_btn:"enjoyhint_next_btn",main_canvas:"enjoyhint_canvas",main_svg:"enjoyhint_svg",svg_wrapper:"enjoyhint_svg_wrapper",svg_transparent:"enjoyhint_svg_transparent",kinetic_container:"kinetic_container"},e.canvas_size={w:1.4*t(window).width(),h:1.4*t(window).height()},e.enjoyhint=t("<div>",{class:e.cl.enjoy_hint+" "+e.cl.svg_transparent}).appendTo(h),e.enjoyhint_svg_wrapper=t("<div>",{class:e.cl.svg_wrapper+" "+e.cl.svg_transparent}).appendTo(e.enjoyhint),e.$stage_container=t('<div id="'+e.cl.kinetic_container+'">').appendTo(e.enjoyhint),e.$canvas=t('<canvas id="enj_canvas" width="'+e.canvas_size.w+'" height="'+e.canvas_size.h+'" class="'+e.cl.main_canvas+'">').appendTo(e.enjoyhint),e.$svg=t('<svg width="'+e.canvas_size.w+'" height="'+e.canvas_size.h+'" class="'+e.cl.main_canvas+" "+e.cl.main_svg+'">').appendTo(e.enjoyhint_svg_wrapper);var f=t(d("defs")),g=t(d("marker",{id:"arrowMarker",viewBox:"0 0 36 21",refX:"21",refY:"10",markerUnits:"strokeWidth",orient:"auto",markerWidth:"16",markerHeight:"12"})),p=t(d("path",{style:"fill:none; stroke:rgb(255,255,255); stroke-width:2",d:"M0,0 c30,11 30,9 0,20"}));f.append(g.append(p)).appendTo(e.$svg),e.kinetic_stage=new Kinetic.Stage({container:e.cl.kinetic_container,width:e.canvas_size.w,height:e.canvas_size.h,scaleX:1}),e.layer=new Kinetic.Layer,e.rect=new Kinetic.Rect({fill:"rgba(0,0,0,0.6)",width:e.canvas_size.w,height:e.canvas_size.h});var m=t("<div>",{class:e.cl.disable_events_element}).appendTo(e.enjoyhint),v=m.clone().appendTo(e.enjoyhint),y=m.clone().appendTo(e.enjoyhint),b=m.clone().appendTo(e.enjoyhint),_=function(t){t.stopImmediatePropagation()};t("button").focusout(_),m.click(_),v.click(_),y.click(_),b.click(_),e.$skip_btn=t("<div>",{class:e.cl.skip_btn}).appendTo(e.enjoyhint).html("").click(function(t){e.hide(),e.options.onSkipClick()}),e.$next_btn=t("<div>",{class:e.cl.next_btn}).appendTo(e.enjoyhint).html("").click(function(t){e.options.onNextClick()}),e.$close_btn=t("<div>",{class:e.cl.close_btn}).appendTo(e.enjoyhint).html("").click(function(t){e.hide(),e.options.onSkipClick()}),e.$canvas.mousedown(function(e){t("canvas").css({left:"4000px"});var n=document.elementFromPoint(e.clientX,e.clientY);return t("canvas").css({left:"0px"}),t(n).click(),!1});var w=130;return e.shape=new Kinetic.Shape({radius:0,center_x:-w,center_y:-w,width:0,height:0,sceneFunc:function(t){var e=this.getContext("2d")._context,n=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",e.beginPath();var i=this.attrs.center_x-Math.round(this.attrs.width/2),r=this.attrs.center_y-Math.round(this.attrs.height/2);e.roundRect(i,r,this.attrs.width,this.attrs.height,this.attrs.radius),e.fillStyle="red",e.fill(),e.globalCompositeOperation=n}}),e.shape.radius=0,e.layer.add(e.rect),e.layer.add(e.shape),e.kinetic_stage.add(e.layer),t(window).on("resize",function(){if(!t(e.stepData.enjoyHintElementSelector).is(":visible"))return e.stopFunction(),void t(window).off("resize");window,window;var u=t(e.stepData.enjoyHintElementSelector)[0].getBoundingClientRect();e.shape.attrs.center_x=Math.round(u.left+u.width/2),e.shape.attrs.center_y=Math.round(u.top+u.height/2),e.shape.attrs.width=u.width+11,e.shape.attrs.height=u.height+11;var d=window.innerWidth,h=window.innerHeight/l;if(e.kinetic_stage.setAttr("width",c*(d/c)),e.kinetic_stage.setAttr("height",l*h),null!=e.stepData){if(window,window,a||(a=e.shape.attrs.center_x),!r){r=[];var f=t("#enjoyhint_arrpw_line").attr("d");r.push(f.substr(1).split(",")[0]),r.push(f.substr(f.indexOf("Q")+1).split(",")[0]),r.push(f.split(" ")[2].split(",")[0]),(o=[]).push(f.split(",")[1].split(" ")[0]),o.push(f.split(",")[2].split(" ")[0]),o.push(f.split(",")[3])}var g=t(".enjoy_hint_label");n||(n=g[0].getBoundingClientRect().left,i=g[0].getBoundingClientRect().top);var p=t(".enjoyhint_skip_btn");s||(s=p[0].getBoundingClientRect().left,p[0].getBoundingClientRect()),g.css("left",window.innerWidth/2-g.outerWidth()/2);var m=g[0].getBoundingClientRect();if(window.innerWidth<640)t("#enjoyhint_arrpw_line").hide(),g.css("top",window.innerHeight/2-g.outerHeight()/2);else{t("#enjoyhint_arrpw_line").show(),g.css("top",i);var v,y,b,_,w=m.left+m.width/2<e.shape.attrs.center_x,C=m.top+m.height/2<e.shape.attrs.center_y;window.innerWidth<900?(v=Math.round(m.left+(m.width/2+15)*(m.left+m.width/2<e.shape.attrs.center_x?1:-1)),b=Math.round(m.top+m.height*(m.top+m.height/2<e.shape.attrs.center_y?1:-1)),y=Math.round(e.shape.attrs.center_x+(e.shape.attrs.radius+15)*(w?-1:1)),_=Math.round(e.shape.attrs.center_y)):(v=Math.round(m.left+m.width/2+(m.width/2+15)*(w?1:-1)),b=Math.round(m.top+m.height/2),y=Math.round(e.shape.attrs.center_x),_=Math.round(e.shape.attrs.center_y+(e.shape.attrs.height/2+15)*(C?-1:1)));var x=v<y?y:v,S=b<_?b:_;Math.abs(m.left+m.width/2-e.shape.attrs.center_x)<200&&(x=v=y=m.left+m.width/2,S=b=m.top,console.log("ok")),window.innerWidth<900&&(x=v<y?v:y,S=b<_?_:b);var T="M%d1,%d2 Q%d3,%d4 %d5,%d6".replace("%d1",v).replace("%d2",b).replace("%d3",x).replace("%d4",S).replace("%d5",y).replace("%d6",_);t("#enjoyhint_arrpw_line")[0].setAttribute("d",T)}var k=+s+(e.shape.attrs.center_x-a)/2;p.css("left",k<15?15:k),p.css("top",m.top+m.height+20)}e.rect=new Kinetic.Rect({fill:"rgba(0,0,0,0.6)",width:window.innerWidth,height:window.innerHeight}),e.layer.removeChildren(),e.layer.add(e.rect),e.layer.add(e.shape),e.layer.draw(),e.kinetic_stage.draw()}),e.show=function(){e.enjoyhint.removeClass(e.cl.hide)},e.hide=function(){e.enjoyhint.addClass(e.cl.hide),new Kinetic.Tween({node:e.shape,duration:.002,center_x:-w,center_y:-w}).play()},e.hide(),e.hideNextBtn=function(){e.$next_btn.addClass(e.cl.hide),e.nextBtn="hide"},e.showNextBtn=function(){e.$next_btn.removeClass(e.cl.hide),e.nextBtn="show"},e.hideSkipBtn=function(){e.$skip_btn.addClass(e.cl.hide)},e.showSkipBtn=function(){e.$skip_btn.removeClass(e.cl.hide)},e.renderCircle=function(t){var n=t.r||0,i=t.x||0,r=t.y||0;new Kinetic.Tween({node:e.shape,duration:.2,center_x:i,center_y:r,width:2*n,height:2*n,radius:n}).play();var o=i-n,a=i+n,s=r-n,c=r+n;return{x:i,y:r,left:o,right:a,top:s,bottom:c,conn:{left:{x:o-20,y:r},right:{x:a+20,y:r},top:{x:i,y:s-20},bottom:{x:i,y:c+20}}}},e.renderRect=function(t,n){var i=t.x||0,r=t.y||0,o=t.w||0,a=t.h||0;new Kinetic.Tween({node:e.shape,duration:n,center_x:i,center_y:r,width:o,height:a,radius:t.r||0}).play();var s=Math.round(o/2),c=Math.round(a/2),l=i-s,u=i+s,d=r-c,h=r+c;return{x:i,y:r,left:l,right:u,top:d,bottom:h,conn:{left:{x:l-20,y:r},right:{x:u+20,y:r},top:{x:i,y:d-20},bottom:{x:i,y:h+20}}}},e.renderLabel=function(n){var i=n.x||0;e.originalElementX=i;var r=e.getLabelElement({x:i,y:n.y||0,text:n.text}),o=r.width(),a=r.height(),s=r.offset().left,c=r.offset().left+o,l=r.offset().top-t(document).scrollTop(),u=r.offset().top+a,d={x:s-10,y:l+Math.round(a/2)},h={x:c+10,y:l+Math.round(a/2)},f={x:s+Math.round(o/2),y:l-10},g={x:s+Math.round(o/2),y:u+10};return r.detach(),setTimeout(function(){t("#enjoyhint_label").remove(),r.appendTo(e.enjoyhint)},e.options.animation_time/2),{label:r,left:s,right:c,top:l,bottom:u,conn:{left:d,right:h,top:f,bottom:g}}},e.renderArrow=function(n){if(window.innerWidth>=640){var i=n.x_from||0,r=n.y_from||0,o=n.x_to||0,a=n.y_to||0,s=0,c=0;n.by_top_side?r>=a?(c=a,s=i):(c=r,s=o):r>=a?(c=r,s=o):(c=a,s=i)}e.enjoyhint.addClass(e.cl.svg_transparent),setTimeout(function(){t("#enjoyhint_arrpw_line").remove(),e.$svg.append(d("path",{style:"fill:none; stroke:rgb(255,255,255); stroke-width:3","marker-end":"url(#arrowMarker)",d:"M"+i+","+r+" Q"+s+","+c+" "+o+","+a,id:"enjoyhint_arrpw_line"})),e.enjoyhint.removeClass(e.cl.svg_transparent)},e.options.animation_time/2)},e.getLabelElement=function(n){return t("<div>",{class:"enjoy_hint_label",id:"enjoyhint_label"}).css({top:n.y+"px",left:n.x+"px"}).html(n.text).appendTo(e.enjoyhint)},e.disableEventsNearRect=function(t){m.css({top:"0",left:"0"}).height(t.top),v.css({top:t.bottom+"px",left:"0"}),y.css({top:"0",left:"0px"}).width(t.left),b.css({top:"0",left:t.right+"px"})},jQuery.event.special.destroyed={remove:function(t){t.handler&&t.handler()}},e.renderLabelWithShape=function(n){function i(t,e,n){N=t,K=e,E=n}function r(t,e,n,r,o){var a;(a=M?t:R?e:P?n:L?r:o)&&i(a[0],a[1],a[2])}e.stepData=n;var o=function e(n){return"MD-DIALOG"===n.tagName?n:void 0===n.tagName?null:e(t(n).parent()[0])}(t(e.stepData.enjoyHintElementSelector)[0]);null!=o&&t(o).on("dialogClosing",function(){e.stopFunction()}),e.resetComponentStuff();var a={},s=0,c=0,l=n.top||0,u=n.bottom||0,d=n.left||0,h=n.right||0;switch(n.shape||"rect"){case"circle":s=c=n.radius;var f=(v={top:n.center_y-c+l,bottom:n.center_y+c-u,left:n.center_x-s+d,right:n.center_x+s-h}).right-v.left,g=v.bottom-v.top;n.radius=Math.round(Math.min(f,g)/2),s=c=Math.round(n.radius/2);var p=Math.round(f/2),m=Math.round(g/2);n.center_x=v.left+p,n.center_y=v.top+m,a=e.renderCircle({x:n.center_x,y:n.center_y,r:n.radius});break;case"rect":var v;s=Math.round(n.width/2),c=Math.round(n.height/2),n.width=(v={top:n.center_y-c+l,bottom:n.center_y+c-u,left:n.center_x-s+d,right:n.center_x+s-h}).right-v.left,n.height=v.bottom-v.top,s=Math.round(n.width/2),c=Math.round(n.height/2),n.center_x=v.left+s,n.center_y=v.top+c,a=e.renderRect({x:n.center_x,y:n.center_y,w:n.width,h:n.height,r:n.radius},.2)}e.enjoyhint.width();var y=e.enjoyhint.height(),b=e.getLabelElement({x:0,y:0,text:n.text}),_=b.outerWidth(),w=b.outerHeight();b.remove();var C=150+w+40,x=c+150,S="top"==(y-n.center_y<n.center_y?"top":"bottom")?n.center_y-x-w:n.center_y+x,T=window.innerWidth/2-_/2;n.center_y-c<C&&y-(n.center_y+c)<C&&(S=n.center_y+40),window;var k=e.renderLabel({x:T,y:S,text:n.text});e.$next_btn.css({left:T,top:S+w+20});var z=T+e.$next_btn.width()+10;"hide"==e.nextBtn&&(z=T),e.$skip_btn.css({left:z,top:S+w+20}),e.$close_btn.css({right:10,top:10}),e.disableEventsNearRect({top:a.top,bottom:a.bottom,left:a.left,right:a.right});var E=!1,N="left",K="left",A=k.right<a.x,M=k.bottom<a.top,D=k.top>a.bottom,P=k.bottom>=a.y&&k.top<=a.y,R=k.bottom<=a.y&&!M,L=k.top>=a.y&&!D;if(k.left<=a.x&&k.right>=a.x)if(M)i("bottom","top","top");else{if(!D)return;i("top","bottom","bottom")}else A?r(["right","top","top"],["bottom","left","bottom"],["right","left","top"],["top","left","top"],["right","bottom","bottom"]):r(["left","top","top"],["bottom","right","bottom"],["left","right","top"],["top","right","top"],["left","bottom","bottom"]);var F=k.conn[N],B=a.conn[K];e.renderArrow({x_from:F.x,y_from:F.y,x_to:window.innerWidth<640?a.left+(a.left>0):B.x,y_to:window.innerWidth<640?a.conn.left.y:B.y,by_top_side:"top"==E})},e.clear=function(){e.ctx.clearRect(0,0,3e3,2e3)},this})},set:function(t){return this.each(function(){this.enjoyhint_obj.setValue(t)}),this},show:function(){return this.each(function(){this.enjoyhint_obj.show()}),this},hide:function(){return this.each(function(){this.enjoyhint_obj.hide()}),this},hide_next:function(){return this.each(function(){this.enjoyhint_obj.hideNextBtn()}),this},show_next:function(){return this.each(function(){this.enjoyhint_obj.showNextBtn()}),this},hide_skip:function(){return this.each(function(){this.enjoyhint_obj.hideSkipBtn()}),this},show_skip:function(){return this.each(function(){this.enjoyhint_obj.showSkipBtn()}),this},render_circle:function(t,e,n){return this.each(function(){this.enjoyhint_obj.renderCircle(t,e,n)}),this},render_label:function(t,e,n){return this.each(function(){this.enjoyhint_obj.renderLabel(t,e,n)}),this},render_label_with_shape:function(t,n){return this.each(function(){e.stopFunction=n,this.enjoyhint_obj.renderLabelWithShape(t)}),this},redo_events_near_rect:function(t){e.disableEventsNearRect({top:t.top,bottom:t.bottom,left:t.left,right:t.right})},clear:function(){return this.each(function(){this.enjoyhint_obj.clear()}),this},close:function(t){return this.each(function(){this.enjoyhint_obj.closePopdown()}),this}};t.fn.enjoyhint=function(e){return u[e]?u[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on $.numinput"),this):u.init.apply(this,arguments)}}(window.jQuery);var Kinetic={};!function(t){var e=Math.PI/180;(Kinetic={version:"5.2.0",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:0,angleDeg:!0,showWarnings:!0,Filters:{},Node:function(t){this._init(t)},Shape:function(t){this.__init(t)},Container:function(t){this.__init(t)},Stage:function(t){this.___init(t)},BaseLayer:function(t){this.___init(t)},Layer:function(t){this.____init(t)},FastLayer:function(t){this.____init(t)},Group:function(t){this.___init(t)},isDragging:function(){var t=Kinetic.DD;return!!t&&t.isDragging},isDragReady:function(){var t=Kinetic.DD;return!!t&&!!t.node},_addId:function(t,e){void 0!==e&&(this.ids[e]=t)},_removeId:function(t){void 0!==t&&delete this.ids[t]},_addName:function(t,e){if(void 0!==e)for(var n=e.split(/\s/g),i=0;i<n.length;i++){var r=n[i];r&&(void 0===this.names[r]&&(this.names[r]=[]),this.names[r].push(t))}},_removeName:function(t,e){if(void 0!==t){var n=this.names[t];if(void 0!==n){for(var i=0;i<n.length;i++)n[i]._id===e&&n.splice(i,1);0===n.length&&delete this.names[t]}}},getAngle:function(t){return this.angleDeg?t*e:t},_parseUA:function(t){var e=t.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),r=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",mobile:i,ieMobile:r}},UA:void 0}).UA=Kinetic._parseUA(t.navigator&&t.navigator.userAgent||"")}(this),function(t,e){if("object"==typeof exports){var n=e();if(global.window===global)Kinetic.document=global.document,Kinetic.window=global;else{var i=require("canvas"),r=require("jsdom").jsdom;Kinetic.document=r("<!DOCTYPE html><html><head></head><body></body></html>"),Kinetic.window=Kinetic.document.createWindow(),Kinetic.window.Image=i.Image,Kinetic._nodeCanvas=i}return Kinetic.root=t,void(module.exports=n)}"function"==typeof define&&define.amd&&define(e),Kinetic.document=document,Kinetic.window=window,Kinetic.root=t}(this,function(){return Kinetic}),function(){Kinetic.Collection=function(){var t=[].slice.call(arguments),e=t.length,n=0;for(this.length=e;e>n;n++)this[n]=t[n];return this},Kinetic.Collection.prototype=[],Kinetic.Collection.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},Kinetic.Collection.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;n>t;t++)e.push(this[t]);return e},Kinetic.Collection.toCollection=function(t){var e,n=new Kinetic.Collection,i=t.length;for(e=0;i>e;e++)n.push(t[e]);return n},Kinetic.Collection._mapMethod=function(t){Kinetic.Collection.prototype[t]=function(){var e,n=this.length,i=[].slice.call(arguments);for(e=0;n>e;e++)this[e][t].apply(this[e],i);return this}},Kinetic.Collection.mapMethods=function(t){var e=t.prototype;for(var n in e)Kinetic.Collection._mapMethod(n)},Kinetic.Transform=function(t){this.m=t&&t.slice()||[1,0,0,1,0,0]},Kinetic.Transform.prototype={copy:function(){return new Kinetic.Transform(this.m)},point:function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},translate:function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},scale:function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.m[1]*e+this.m[3]*n,r=this.m[0]*-n+this.m[2]*e,o=this.m[1]*-n+this.m[3]*e;return this.m[0]=this.m[0]*e+this.m[2]*n,this.m[1]=i,this.m[2]=r,this.m[3]=o,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(t,e){var n=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,r=this.m[3]+this.m[1]*t;return this.m[0]=this.m[0]+this.m[2]*e,this.m[1]=n,this.m[2]=i,this.m[3]=r,this},multiply:function(t){var e=this.m[1]*t.m[0]+this.m[3]*t.m[1],n=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],r=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],o=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=this.m[0]*t.m[0]+this.m[2]*t.m[1],this.m[1]=e,this.m[2]=n,this.m[3]=i,this.m[4]=r,this.m[5]=o,this},invert:function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=-this.m[1]*t,n=-this.m[2]*t,i=this.m[0]*t,r=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=this.m[3]*t,this.m[1]=e,this.m[2]=n,this.m[3]=i,this.m[4]=r,this.m[5]=o,this},getMatrix:function(){return this.m},setAbsolutePosition:function(t,e){var n=this.m[0],i=this.m[1],r=this.m[2],o=this.m[4],a=(n*(e-this.m[5])-i*(t-o))/(n*this.m[3]-i*r);return this.translate((t-o-r*a)/n,a)}};var t=Math.PI/180,e=180/Math.PI,n={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},i=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Kinetic.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isObject:function(t){return!!t&&t.constructor==Object},_isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"==Object.prototype.toString.call(t)},_isString:function(t){return"[object String]"==Object.prototype.toString.call(t)},_throttle:function(t,e,n){var i,r,o,a=null,s=0,c=n||{},l=function(){s=!1===c.leading?0:(new Date).getTime(),a=null,o=t.apply(i,r),i=r=null};return function(){var n=(new Date).getTime();s||!1!==c.leading||(s=n);var u=e-(n-s);return i=this,r=arguments,0>=u?(clearTimeout(a),a=null,s=n,o=t.apply(i,r),i=r=null):a||!1===c.trailing||(a=setTimeout(l,u)),o}},_hasMethods:function(t){var e,n=[];for(e in t)this._isFunction(t[e])&&n.push(e);return n.length>0},createCanvasElement:function(){var t=Kinetic.document.createElement("canvas");try{t.style=t.style||{}}catch(e){}return t},isBrowser:function(){return"object"!=typeof exports},_isInDocument:function(t){for(;t=t.parentNode;)if(t==Kinetic.document)return!0;return!1},_simplifyArray:function(t){var e,n,i=[],r=t.length,o=Kinetic.Util;for(e=0;r>e;e++)o._isNumber(n=t[e])?n=Math.round(1e3*n)/1e3:o._isString(n)||(n=n.toString()),i.push(n);return i},_getImage:function(t,e){var n,i;t?this._isElement(t)?e(t):this._isString(t)?((n=new Kinetic.window.Image).onload=function(){e(n)},n.src=t):t.data?((i=Kinetic.Util.createCanvasElement()).width=t.width,i.height=t.height,i.getContext("2d").putImageData(t,0,0),this._getImage(i.toDataURL(),e)):e(null):e(null)},_getRGBAString:function(t){return["rgba(",t.red||0,",",t.green||0,",",t.blue||0,",",t.alpha||1,")"].join("")},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in n?{r:(e=n[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=i.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},_merge:function(t,e){var n=this._clone(e);for(var i in t)n[i]=this._isObject(t[i])?this._merge(t[i],n[i]):t[i];return n},cloneObject:function(t){var e={};for(var n in t)e[n]=this._isObject(t[n])?this.cloneObject(t[n]):this._isArray(t[n])?this.cloneArray(t[n]):t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(e){return e*t},_radToDeg:function(t){return t*e},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},error:function(t){throw new Error("Kinetic error: "+t)},warn:function(t){Kinetic.root.console&&console.warn&&Kinetic.showWarnings&&console.warn("Kinetic warning: "+t)},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var i=t.prototype;for(var r in t.prototype=new n,i)i.hasOwnProperty(r)&&(t.prototype[r]=i[r]);t.__super__=e.prototype},addMethods:function(t,e){var n;for(n in e)t.prototype[n]=e[n]},_getControlPoints:function(t,e,n,i,r,o,a){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2)),c=Math.sqrt(Math.pow(r-n,2)+Math.pow(o-i,2)),l=a*s/(s+c),u=a*c/(s+c);return[n-l*(r-t),i-l*(o-e),n+u*(r-t),i+u*(o-e)]},_expandPoints:function(t,e){var n,i,r=t.length,o=[];for(n=2;r-2>n;n+=2)i=Kinetic.Util._getControlPoints(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],e),o.push(i[0]),o.push(i[1]),o.push(t[n]),o.push(t[n+1]),o.push(i[2]),o.push(i[3]);return o},_removeLastLetter:function(t){return t.substring(0,t.length-1)}}}(),function(){var t=Kinetic.Util.createCanvasElement().getContext("2d"),e=Kinetic.UA.mobile?(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1):1;Kinetic.Canvas=function(t){this.init(t)},Kinetic.Canvas.prototype={init:function(t){this.pixelRatio=(t||{}).pixelRatio||Kinetic.pixelRatio||e,this._canvas=Kinetic.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(t){this.pixelRatio=t,this.setSize(this.getWidth(),this.getHeight())},setWidth:function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px"},setHeight:function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px"},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(t,e){this.setWidth(t),this.setHeight(e)},toDataURL:function(t,n){try{return this._canvas.toDataURL(t,n)}catch(e){try{return this._canvas.toDataURL()}catch(i){return Kinetic.Util.warn("Unable to get data URL. "+i.message),""}}}},Kinetic.SceneCanvas=function(t){var e=t||{},n=e.width||0,i=e.height||0;Kinetic.Canvas.call(this,e),this.context=new Kinetic.SceneContext(this),this.setSize(n,i)},Kinetic.SceneCanvas.prototype={setWidth:function(t){var e=this.pixelRatio,n=this.getContext()._context;Kinetic.Canvas.prototype.setWidth.call(this,t),n.scale(e,e)},setHeight:function(t){var e=this.pixelRatio,n=this.getContext()._context;Kinetic.Canvas.prototype.setHeight.call(this,t),n.scale(e,e)}},Kinetic.Util.extend(Kinetic.SceneCanvas,Kinetic.Canvas),Kinetic.HitCanvas=function(t){var e=t||{},n=e.width||0,i=e.height||0;Kinetic.Canvas.call(this,e),this.context=new Kinetic.HitContext(this),this.setSize(n,i),this.hitCanvas=!0},Kinetic.Util.extend(Kinetic.HitCanvas,Kinetic.Canvas)}(),function(){var t=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];Kinetic.Context=function(t){this.init(t)},Kinetic.Context.prototype={init:function(t){this.canvas=t,this._context=t._canvas.getContext("2d"),Kinetic.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(t){t.getFillEnabled()&&this._fill(t)},strokeShape:function(t){t.getStrokeEnabled()&&this._stroke(t)},fillStrokeShape:function(t){t.getFillEnabled()&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},getTrace:function(t){var e,n,i,r,o=this.traceArr,a=o.length,s="";for(e=0;a>e;e++)(i=(n=o[e]).method)?(r=n.args,s+=i,s+=t?"()":Kinetic.Util._isArray(r[0])?"(["+r.join(",")+"])":"("+r.join(",")+")"):(s+=n.property,t||(s+="="+n.val)),s+=";";return s},clearTrace:function(){this.traceArr=[]},_trace:function(t){var e=this.traceArr;e.push(t),e.length>=Kinetic.traceArrMax&&e.shift()},reset:function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},getCanvas:function(){return this.canvas},clear:function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth(),e.getHeight())},_applyLineCap:function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},_applyOpacity:function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},_applyLineJoin:function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},setAttr:function(t,e){this._context[t]=e},arc:function(){var t=arguments;this._context.arc(t[0],t[1],t[2],t[3],t[4],t[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var t=arguments;this._context.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},clearRect:function(){var t=arguments;this._context.clearRect(t[0],t[1],t[2],t[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var t=arguments;return 2===t.length?this._context.createImageData(t[0],t[1]):1===t.length?this._context.createImageData(t[0]):void 0},createLinearGradient:function(){var t=arguments;return this._context.createLinearGradient(t[0],t[1],t[2],t[3])},createPattern:function(){var t=arguments;return this._context.createPattern(t[0],t[1])},createRadialGradient:function(){var t=arguments;return this._context.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5])},drawImage:function(){var t=arguments,e=this._context;3===t.length?e.drawImage(t[0],t[1],t[2]):5===t.length?e.drawImage(t[0],t[1],t[2],t[3],t[4]):9===t.length&&e.drawImage(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},fill:function(){this._context.fill()},fillText:function(){var t=arguments;this._context.fillText(t[0],t[1],t[2])},getImageData:function(){var t=arguments;return this._context.getImageData(t[0],t[1],t[2],t[3])},lineTo:function(){var t=arguments;this._context.lineTo(t[0],t[1])},moveTo:function(){var t=arguments;this._context.moveTo(t[0],t[1])},rect:function(){var t=arguments;this._context.rect(t[0],t[1],t[2],t[3])},putImageData:function(){var t=arguments;this._context.putImageData(t[0],t[1],t[2])},quadraticCurveTo:function(){var t=arguments;this._context.quadraticCurveTo(t[0],t[1],t[2],t[3])},restore:function(){this._context.restore()},rotate:function(){this._context.rotate(arguments[0])},save:function(){this._context.save()},scale:function(){var t=arguments;this._context.scale(t[0],t[1])},setLineDash:function(){var t=arguments,e=this._context;this._context.setLineDash?e.setLineDash(t[0]):"mozDash"in e?e.mozDash=t[0]:"webkitLineDash"in e&&(e.webkitLineDash=t[0])},setTransform:function(){var t=arguments;this._context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},stroke:function(){this._context.stroke()},strokeText:function(){var t=arguments;this._context.strokeText(t[0],t[1],t[2])},transform:function(){var t=arguments;this._context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(){var t=arguments;this._context.translate(t[0],t[1])},_enableTrace:function(){var e,n,i=this,r=t.length,o=Kinetic.Util._simplifyArray,a=this.setAttr,s=function(t){var e,r=i[t];i[t]=function(){return n=o(Array.prototype.slice.call(arguments,0)),e=r.apply(i,arguments),i._trace({method:t,args:n}),e}};for(e=0;r>e;e++)s(t[e]);i.setAttr=function(){a.apply(i,arguments),i._trace({property:arguments[0],val:arguments[1]})}}},Kinetic.SceneContext=function(t){Kinetic.Context.call(this,t)},Kinetic.SceneContext.prototype={_fillColor:function(t){var e=t.fill()||Kinetic.Util._getRGBAString({red:t.fillRed(),green:t.fillGreen(),blue:t.fillBlue(),alpha:t.fillAlpha()});this.setAttr("fillStyle",e),t._fillFunc(this)},_fillPattern:function(t){var e=t.getFillPatternImage(),n=t.getFillPatternX(),i=t.getFillPatternY(),r=t.getFillPatternScale(),o=Kinetic.getAngle(t.getFillPatternRotation()),a=t.getFillPatternOffset(),s=t.getFillPatternRepeat();(n||i)&&this.translate(n||0,i||0),o&&this.rotate(o),r&&this.scale(r.x,r.y),a&&this.translate(-1*a.x,-1*a.y),this.setAttr("fillStyle",this.createPattern(e,s||"repeat")),this.fill()},_fillLinearGradient:function(t){var e=t.getFillLinearGradientStartPoint(),n=t.getFillLinearGradientEndPoint(),i=t.getFillLinearGradientColorStops(),r=this.createLinearGradient(e.x,e.y,n.x,n.y);if(i){for(var o=0;o<i.length;o+=2)r.addColorStop(i[o],i[o+1]);this.setAttr("fillStyle",r),this.fill()}},_fillRadialGradient:function(t){for(var e=t.getFillRadialGradientStartPoint(),n=t.getFillRadialGradientEndPoint(),i=t.getFillRadialGradientStartRadius(),r=t.getFillRadialGradientEndRadius(),o=t.getFillRadialGradientColorStops(),a=this.createRadialGradient(e.x,e.y,i,n.x,n.y,r),s=0;s<o.length;s+=2)a.addColorStop(o[s],o[s+1]);this.setAttr("fillStyle",a),this.fill()},_fill:function(t){var e=t.fill()||t.fillRed()||t.fillGreen()||t.fillBlue(),n=t.getFillPatternImage(),i=t.getFillLinearGradientColorStops(),r=t.getFillRadialGradientColorStops(),o=t.getFillPriority();e&&"color"===o?this._fillColor(t):n&&"pattern"===o?this._fillPattern(t):i&&"linear-gradient"===o?this._fillLinearGradient(t):r&&"radial-gradient"===o?this._fillRadialGradient(t):e?this._fillColor(t):n?this._fillPattern(t):i?this._fillLinearGradient(t):r&&this._fillRadialGradient(t)},_stroke:function(t){var e=t.dash(),n=t.getStrokeScaleEnabled();t.hasStroke()&&(n||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),e&&t.dashEnabled()&&this.setLineDash(e),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.stroke()||Kinetic.Util._getRGBAString({red:t.strokeRed(),green:t.strokeGreen(),blue:t.strokeBlue(),alpha:t.strokeAlpha()})),t._strokeFunc(this),n||this.restore())},_applyShadow:function(t){var e=Kinetic.Util,n=t.getAbsoluteOpacity(),i=e.get(t.getShadowColor(),"black"),r=e.get(t.getShadowBlur(),5),o=e.get(t.getShadowOpacity(),1),a=e.get(t.getShadowOffset(),{x:0,y:0});o&&this.setAttr("globalAlpha",o*n),this.setAttr("shadowColor",i),this.setAttr("shadowBlur",r),this.setAttr("shadowOffsetX",a.x),this.setAttr("shadowOffsetY",a.y)}},Kinetic.Util.extend(Kinetic.SceneContext,Kinetic.Context),Kinetic.HitContext=function(t){Kinetic.Context.call(this,t)},Kinetic.HitContext.prototype={_fill:function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},_stroke:function(t){t.hasStroke()&&(this._applyLineCap(t),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this))}},Kinetic.Util.extend(Kinetic.HitContext,Kinetic.Context)}(),function(){var t="get",e="set";Kinetic.Factory={addGetterSetter:function(t,e,n,i,r){this.addGetter(t,e,n),this.addSetter(t,e,i,r),this.addOverloadedGetterSetter(t,e)},addGetter:function(e,n,i){var r=t+Kinetic.Util._capitalize(n);e.prototype[r]=function(){var t=this.attrs[n];return void 0===t?i:t}},addSetter:function(t,n,i,r){var o=e+Kinetic.Util._capitalize(n);t.prototype[o]=function(t){return i&&(t=i.call(this,t)),this._setAttr(n,t),r&&r.call(this),this}},addComponentsGetterSetter:function(n,i,r,o,a){var s,c,l=r.length,u=Kinetic.Util._capitalize,d=t+u(i),h=e+u(i);n.prototype[d]=function(){var t={};for(s=0;l>s;s++)t[c=r[s]]=this.getAttr(i+u(c));return t},n.prototype[h]=function(t){var e,n=this.attrs[i];for(e in o&&(t=o.call(this,t)),t)this._setAttr(i+u(e),t[e]);return this._fireChangeEvent(i,n,t),a&&a.call(this),this},this.addOverloadedGetterSetter(n,i)},addOverloadedGetterSetter:function(n,i){var r=Kinetic.Util._capitalize(i),o=e+r,a=t+r;n.prototype[i]=function(){return arguments.length?(this[o](arguments[0]),this):this[a]()}},backCompat:function(t,e){var n;for(n in e)t.prototype[n]=t.prototype[e[n]]},afterSetFilter:function(){this._filterUpToDate=!1}},Kinetic.Validators={RGBComponent:function(t){return t>255?255:0>t?0:Math.round(t)},alphaComponent:function(t){return t>1?1:1e-4>t?1e-4:t}}}(),function(){var t="absoluteOpacity",e="absoluteTransform",n="listening",i="mouseenter",r="mouseleave",o="Shape",a="stage",s="transform",c="visible",l=["id"],u=["xChange.kinetic","yChange.kinetic","scaleXChange.kinetic","scaleYChange.kinetic","skewXChange.kinetic","skewYChange.kinetic","rotationChange.kinetic","offsetXChange.kinetic","offsetYChange.kinetic","transformsEnabledChange.kinetic"].join(" ");Kinetic.Util.addMethods(Kinetic.Node,{_init:function(i){var r=this;this._id=Kinetic.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this.setAttrs(i),this.on(u,function(){this._clearCache(s),r._clearSelfAndDescendantCache(e)}),this.on("visibleChange.kinetic",function(){r._clearSelfAndDescendantCache(c)}),this.on("listeningChange.kinetic",function(){r._clearSelfAndDescendantCache(n)}),this.on("opacityChange.kinetic",function(){r._clearSelfAndDescendantCache(t)})},_clearCache:function(t){t?delete this._cache[t]:this._cache={}},_getCache:function(t,e){return void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]},_clearSelfAndDescendantCache:function(t){this._clearCache(t),this.children&&this.getChildren().each(function(e){e._clearSelfAndDescendantCache(t)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(t){var e=t||{},n=e.x||0,i=e.y||0,r=e.width||this.width(),o=e.height||this.height(),a=e.drawBorder||!1;if(0!==r&&0!==o){var s=new Kinetic.SceneCanvas({pixelRatio:1,width:r,height:o}),c=new Kinetic.SceneCanvas({pixelRatio:1,width:r,height:o}),l=new Kinetic.HitCanvas({width:r,height:o}),u=s.getContext(),d=l.getContext();return l.isCache=!0,this.clearCache(),u.save(),d.save(),a&&(u.save(),u.beginPath(),u.rect(0,0,r,o),u.closePath(),u.setAttr("strokeStyle","red"),u.setAttr("lineWidth",5),u.stroke(),u.restore()),u.translate(-1*n,-1*i),d.translate(-1*n,-1*i),"Shape"===this.nodeType&&(u.translate(-1*this.x(),-1*this.y()),d.translate(-1*this.x(),-1*this.y())),this.drawScene(s,this),this.drawHit(l,this),u.restore(),d.restore(),this._cache.canvas={scene:s,filter:c,hit:l},this}Kinetic.Util.warn("Width or height of caching configuration equals 0. Cache is ignored.")},_drawCachedSceneCanvas:function(t){t.save(),this.getLayer()._applyTransform(this,t),t._applyOpacity(this),t.drawImage(this._getCachedSceneCanvas()._canvas,0,0),t.restore()},_getCachedSceneCanvas:function(){var t,e,i,r=this.filters(),o=this._cache.canvas,a=o.scene,s=o.filter,c=s.getContext();if(r){if(!this._filterUpToDate){try{for(t=r.length,c.clear(),c.drawImage(a._canvas,0,0),e=c.getImageData(0,0,s.getWidth(),s.getHeight()),i=0;t>i;i++)r[i].call(this,e),c.putImageData(e,0,0)}catch(n){Kinetic.Util.warn("Unable to apply filter. "+n.message)}this._filterUpToDate=!0}return s}return a},_drawCachedHitCanvas:function(t){var e=this._cache.canvas.hit;t.save(),this.getLayer()._applyTransform(this,t),t.drawImage(e._canvas,0,0),t.restore()},on:function(t,e){var n,i,r,o,a=t.split(" "),s=a.length;for(n=0;s>n;n++)o=(i=a[n].split("."))[1]||"",this.eventListeners[r=i[0]]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:o,handler:e});return this},off:function(t){var e,n,i,r,o,a=(t||"").split(" "),s=a.length;if(!t)for(n in this.eventListeners)this._off(n);for(e=0;s>e;e++)if(o=(i=a[e].split("."))[1],r=i[0])this.eventListeners[r]&&this._off(r,o);else for(n in this.eventListeners)this._off(n,o);return this},dispatchEvent:function(t){this.fire(t.type,{target:this,type:t.type,evt:t})},addEventListener:function(t,e){this.on(t,function(t){e.call(this,t.evt)})},removeEventListener:function(t){this.off(t)},remove:function(){var i=this.getParent();return i&&i.children&&(i.children.splice(this.index,1),i._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(e),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(n),this._clearSelfAndDescendantCache(t),this},destroy:function(){Kinetic._removeId(this.getId()),Kinetic._removeName(this.getName(),this._id),this.remove()},getAttr:function(t){var e="get"+Kinetic.Util._capitalize(t);return Kinetic.Util._isFunction(this[e])?this[e]():this.attrs[t]},getAncestors:function(){for(var t=this.getParent(),e=new Kinetic.Collection;t;)e.push(t),t=t.getParent();return e},getAttrs:function(){return this.attrs||{}},setAttrs:function(t){var e,n;if(t)for(e in t)"children"===e||t[e]instanceof Kinetic.Node||(n="set"+Kinetic.Util._capitalize(e),Kinetic.Util._isFunction(this[n])?this[n](t[e]):this._setAttr(e,t[e]));return this},isListening:function(){return this._getCache(n,this._isListening)},_isListening:function(){var t=this.getListening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},isVisible:function(){return this._getCache(c,this._isVisible)},_isVisible:function(){var t=this.getVisible(),e=this.getParent();return"inherit"===t?!e||e.isVisible():t},shouldDrawHit:function(t){var e=this.getLayer();return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isListening()&&this.isVisible()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){var t,e,n,i,r=this.getDepth(),a=this,s=0;return"Stage"!==a.nodeType&&function c(l){for(t=[],e=l.length,n=0;e>n;n++)s++,(i=l[n]).nodeType!==o&&(t=t.concat(i.getChildren().toArray())),i._id===a._id&&(n=e);t.length>0&&t[0].getDepth()<=r&&c(t)}(a.getStage().getChildren()),s},getDepth:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},setPosition:function(t){return this.setX(t.x),this.setY(t.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(){var t=this.getAbsoluteTransform().getMatrix(),e=new Kinetic.Transform,n=this.offset();return e.m=t.slice(),e.translate(n.x,n.y),e.getTranslation()},setAbsolutePosition:function(t){var e,n=this._clearTransform();return this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,(e=this.getAbsoluteTransform()).invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(n),this},_setTransform:function(t){var n;for(n in t)this.attrs[n]=t[n];this._clearCache(s),this._clearSelfAndDescendantCache(e)},_clearTransform:function(){var t={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(s),this._clearSelfAndDescendantCache(e),t},move:function(t){var e=t.x,n=t.y,i=this.getX(),r=this.getY();return void 0!==e&&(i+=e),void 0!==n&&(r+=n),this.setPosition({x:i,y:r}),this},_eachAncestorReverse:function(t,e){var n,i,r=[],o=this.getParent();if(e&&e._id===this._id)return t(this),!0;for(r.unshift(this);o&&(!e||o._id!==e._id);)r.unshift(o),o=o.parent;for(n=r.length,i=0;n>i;i++)t(r[i])},rotate:function(t){return this.setRotation(this.getRotation()+t),this},moveToTop:function(){if(this.parent)return this.parent.children.splice(this.index,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0;Kinetic.Util.warn("Node has no parent. moveToTop function is ignored.")},moveUp:function(){if(this.parent){var t=this.index;return this.parent.getChildren().length-1>t&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)}Kinetic.Util.warn("Node has no parent. moveUp function is ignored.")},moveDown:function(){if(this.parent){var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)}Kinetic.Util.warn("Node has no parent. moveDown function is ignored.")},moveToBottom:function(){if(this.parent){var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}Kinetic.Util.warn("Node has no parent. moveToBottom function is ignored.")},setZIndex:function(t){if(this.parent)return this.parent.children.splice(this.index,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this;Kinetic.Util.warn("Node has no parent. zIndex parameter is ignored.")},getAbsoluteOpacity:function(){return this._getCache(t,this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var t=this.getOpacity();return this.getParent()&&(t*=this.getParent().getAbsoluteOpacity()),t},moveTo:function(t){return this.getParent()!==t&&(this.remove(),t.add(this)),this},toObject:function(){var t,e,n,i,r=Kinetic.Util,o={},a=this.getAttrs();for(t in o.attrs={},a)r._isFunction(e=a[t])||r._isElement(e)||r._isObject(e)&&r._hasMethods(e)||(n=this[t],delete a[t],i=n?n.call(this):null,a[t]=e,i!==e&&(o.attrs[t]=e));return o.className=this.getClassName(),o},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},getLayer:function(){var t=this.getParent();return t?t.getLayer():null},getStage:function(){return this._getCache(a,this._getStage)},_getStage:function(){var t=this.getParent();return t?t.getStage():void 0},fire:function(t,e,n){return n?this._fireAndBubble(t,e||{}):this._fire(t,e||{}),this},getAbsoluteTransform:function(t){return t?this._getAbsoluteTransform(t):this._getCache(e,this._getAbsoluteTransform)},_getAbsoluteTransform:function(t){var e,n,i=new Kinetic.Transform;return this._eachAncestorReverse(function(t){e=t.transformsEnabled(),n=t.getTransform(),"all"===e?i.multiply(n):"position"===e&&i.translate(t.x(),t.y())},t),i},getTransform:function(){return this._getCache(s,this._getTransform)},_getTransform:function(){var t=new Kinetic.Transform,e=this.getX(),n=this.getY(),i=Kinetic.getAngle(this.getRotation()),r=this.getScaleX(),o=this.getScaleY(),a=this.getSkewX(),s=this.getSkewY(),c=this.getOffsetX(),l=this.getOffsetY();return(0!==e||0!==n)&&t.translate(e,n),0!==i&&t.rotate(i),(0!==a||0!==s)&&t.skew(a,s),(1!==r||1!==o)&&t.scale(r,o),(0!==c||0!==l)&&t.translate(-1*c,-1*l),t},clone:function(t){var e,n,i,r,o,a=this.getClassName(),s=Kinetic.Util.cloneObject(this.attrs);for(var c in l)delete s[l[c]];for(e in t)s[e]=t[e];var u=new Kinetic[a](s);for(e in this.eventListeners)for(i=(n=this.eventListeners[e]).length,r=0;i>r;r++)(o=n[r]).name.indexOf("kinetic")<0&&(u.eventListeners[e]||(u.eventListeners[e]=[]),u.eventListeners[e].push(o));return u},toDataURL:function(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,i=this.getStage(),r=t.x||0,o=t.y||0,a=new Kinetic.SceneCanvas({width:t.width||this.getWidth()||(i?i.getWidth():0),height:t.height||this.getHeight()||(i?i.getHeight():0),pixelRatio:1}),s=a.getContext();return s.save(),(r||o)&&s.translate(-1*r,-1*o),this.drawScene(a),s.restore(),a.toDataURL(e,n)},toImage:function(t){Kinetic.Util._getImage(this.toDataURL(t),function(e){t.callback(e)})},setSize:function(t){return this.setWidth(t.width),this.setHeight(t.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Kinetic.dragDistance},_get:function(t){return this.className===t||this.nodeType===t?[this]:[]},_off:function(t,e){var n,i,r=this.eventListeners[t];for(n=0;n<r.length;n++)if(!("kinetic"===(i=r[n].name)&&"kinetic"!==e||e&&i!==e)){if(r.splice(n,1),0===r.length){delete this.eventListeners[t];break}n--}},_fireChangeEvent:function(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})},setId:function(t){var e=this.getId();return Kinetic._removeId(e),Kinetic._addId(this,t),this._setAttr("id",t),this},setName:function(t){var e=this.getName();return Kinetic._removeName(e,this._id),Kinetic._addName(this,t),this._setAttr("name",t),this},setAttr:function(t,e){var n=this["set"+Kinetic.Util._capitalize(t)];return Kinetic.Util._isFunction(n)?n.call(this,e):this._setAttr(t,e),this},_setAttr:function(t,e){var n;void 0!==e&&(n=this.attrs[t],this.attrs[t]=e,this._fireChangeEvent(t,n,e))},_setComponentAttr:function(t,e,n){var i;void 0!==n&&((i=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,i,n))},_fireAndBubble:function(t,e,n){var a=!0;if(e&&this.nodeType===o&&(e.target=this),t===i&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))?a=!1:t===r&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))&&(a=!1),a){this._fire(t,e);var s=(t===i||t===r)&&(n&&n.isAncestorOf&&n.isAncestorOf(this)||!(!n||!n.isAncestorOf));e&&!e.cancelBubble&&this.parent&&this.parent.isListening()&&!s&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n.parent):this._fireAndBubble.call(this.parent,t,e))}},_fire:function(t,e){var n,i=this.eventListeners[t];if(e.type=t,i)for(n=0;n<i.length;n++)i[n].handler.call(this,e)},draw:function(){return this.drawScene(),this.drawHit(),this}}),Kinetic.Node.create=function(t,e){return this._createNode(JSON.parse(t),e)},Kinetic.Node._createNode=function(t,e){var n,i,r,o=Kinetic.Node.prototype.getClassName.call(t),a=t.children;if(e&&(t.attrs.container=e),n=new Kinetic[o](t.attrs),a)for(i=a.length,r=0;i>r;r++)n.add(this._createNode(a[r]));return n},Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"position"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"x",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"y",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"opacity",1),Kinetic.Factory.addGetter(Kinetic.Node,"name"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"name"),Kinetic.Factory.addGetter(Kinetic.Node,"id"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"id"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"rotation",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"scale",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"scaleX",1),Kinetic.Factory.addGetterSetter(Kinetic.Node,"scaleY",1),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"skew",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"skewX",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"skewY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"offset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"offsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"offsetY",0),Kinetic.Factory.addSetter(Kinetic.Node,"dragDistance"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"dragDistance"),Kinetic.Factory.addSetter(Kinetic.Node,"width",0),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"width"),Kinetic.Factory.addSetter(Kinetic.Node,"height",0),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"height"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"listening","inherit"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"filters",void 0,function(t){return this._filterUpToDate=!1,t}),Kinetic.Factory.addGetterSetter(Kinetic.Node,"visible","inherit"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"transformsEnabled","all"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"size"),Kinetic.Factory.backCompat(Kinetic.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Kinetic.Collection.mapMethods(Kinetic.Node)}(),Kinetic.Filters.Grayscale=function(t){var e,n,i=t.data,r=i.length;for(e=0;r>e;e+=4)i[e]=n=.34*i[e]+.5*i[e+1]+.16*i[e+2],i[e+1]=n,i[e+2]=n},Kinetic.Filters.Brighten=function(t){var e,n=255*this.brightness(),i=t.data,r=i.length;for(e=0;r>e;e+=4)i[e]+=n,i[e+1]+=n,i[e+2]+=n},Kinetic.Factory.addGetterSetter(Kinetic.Node,"brightness",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Filters.Invert=function(t){var e,n=t.data,i=n.length;for(e=0;i>e;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]},function(){function t(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function e(e,r){var o,a,s,c,l,u,d,h,f,g,p,m,v,y,b,_,w,C,x,S,T,k,z,E,N=e.data,K=e.width,A=e.height,M=r+r+1,D=K-1,P=A-1,R=r+1,L=R*(R+1)/2,F=new t,B=null,O=F,H=null,I=null,V=n[r],j=i[r];for(s=1;M>s;s++)O=O.next=new t,s==R&&(B=O);for(O.next=F,d=u=0,a=0;A>a;a++){for(_=w=C=x=h=f=g=p=0,m=R*(S=N[u]),v=R*(T=N[u+1]),y=R*(k=N[u+2]),b=R*(z=N[u+3]),h+=L*S,f+=L*T,g+=L*k,p+=L*z,O=F,s=0;R>s;s++)O.r=S,O.g=T,O.b=k,O.a=z,O=O.next;for(s=1;R>s;s++)h+=(O.r=S=N[c=u+((s>D?D:s)<<2)])*(E=R-s),f+=(O.g=T=N[c+1])*E,g+=(O.b=k=N[c+2])*E,p+=(O.a=z=N[c+3])*E,_+=S,w+=T,C+=k,x+=z,O=O.next;for(H=F,I=B,o=0;K>o;o++)N[u+3]=z=p*V>>j,0!==z?(N[u]=(h*V>>j)*(z=255/z),N[u+1]=(f*V>>j)*z,N[u+2]=(g*V>>j)*z):N[u]=N[u+1]=N[u+2]=0,h-=m,f-=v,g-=y,p-=b,m-=H.r,v-=H.g,y-=H.b,b-=H.a,c=d+((c=o+r+1)<D?c:D)<<2,h+=_+=H.r=N[c],f+=w+=H.g=N[c+1],g+=C+=H.b=N[c+2],p+=x+=H.a=N[c+3],H=H.next,m+=S=I.r,v+=T=I.g,y+=k=I.b,b+=z=I.a,_-=S,w-=T,C-=k,x-=z,I=I.next,u+=4;d+=K}for(o=0;K>o;o++){for(w=C=x=_=f=g=p=h=0,m=R*(S=N[u=o<<2]),v=R*(T=N[u+1]),y=R*(k=N[u+2]),b=R*(z=N[u+3]),h+=L*S,f+=L*T,g+=L*k,p+=L*z,O=F,s=0;R>s;s++)O.r=S,O.g=T,O.b=k,O.a=z,O=O.next;for(l=K,s=1;r>=s;s++)h+=(O.r=S=N[u=l+o<<2])*(E=R-s),f+=(O.g=T=N[u+1])*E,g+=(O.b=k=N[u+2])*E,p+=(O.a=z=N[u+3])*E,_+=S,w+=T,C+=k,x+=z,O=O.next,P>s&&(l+=K);for(u=o,H=F,I=B,a=0;A>a;a++)N[3+(c=u<<2)]=z=p*V>>j,z>0?(N[c]=(h*V>>j)*(z=255/z),N[c+1]=(f*V>>j)*z,N[c+2]=(g*V>>j)*z):N[c]=N[c+1]=N[c+2]=0,h-=m,f-=v,g-=y,p-=b,m-=H.r,v-=H.g,y-=H.b,b-=H.a,c=o+((c=a+R)<P?c:P)*K<<2,h+=_+=H.r=N[c],f+=w+=H.g=N[c+1],g+=C+=H.b=N[c+2],p+=x+=H.a=N[c+3],H=H.next,m+=S=I.r,v+=T=I.g,y+=k=I.b,b+=z=I.a,_-=S,w-=T,C-=k,x-=z,I=I.next,u+=K}}var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Kinetic.Filters.Blur=function(t){var n=Math.round(this.blurRadius());n>0&&e(t,n)},Kinetic.Factory.addGetterSetter(Kinetic.Node,"blurRadius",0,null,Kinetic.Factory.afterSetFilter)}(),function(){function t(t,e,n){var i=4*(n*t.width+e),r=[];return r.push(t.data[i++],t.data[i++],t.data[i++],t.data[i++]),r}function e(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function n(n,i){var r=t(n,0,0),o=t(n,n.width-1,0),a=t(n,0,n.height-1),s=t(n,n.width-1,n.height-1),c=i||10;if(e(r,o)<c&&e(o,s)<c&&e(s,a)<c&&e(a,r)<c){for(var l=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([o,r,s,a]),u=[],d=0;d<n.width*n.height;d++){var h=e(l,[n.data[4*d],n.data[4*d+1],n.data[4*d+2]]);u[d]=c>h?0:255}return u}}Kinetic.Filters.Mask=function(t){var e=n(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,e=function(t,e,n){for(var i=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],r=Math.round(Math.sqrt(i.length)),o=Math.floor(r/2),a=[],s=0;n>s;s++)for(var c=0;e>c;c++){for(var l=s*e+c,u=0,d=0;r>d;d++)for(var h=0;r>h;h++){var f=s+d-o,g=c+h-o;f>=0&&n>f&&g>=0&&e>g&&(u+=t[f*e+g]*i[d*r+h])}a[l]=u}return a}(e=function(t,e,n){for(var i=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(i.length)),o=Math.floor(r/2),a=[],s=0;n>s;s++)for(var c=0;e>c;c++){for(var l=s*e+c,u=0,d=0;r>d;d++)for(var h=0;r>h;h++){var f=s+d-o,g=c+h-o;f>=0&&n>f&&g>=0&&e>g&&(u+=t[f*e+g]*i[d*r+h])}a[l]=u>=1020?255:0}return a}(e=function(t,e,n){for(var i=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(i.length)),o=Math.floor(r/2),a=[],s=0;n>s;s++)for(var c=0;e>c;c++){for(var l=s*e+c,u=0,d=0;r>d;d++)for(var h=0;r>h;h++){var f=s+d-o,g=c+h-o;f>=0&&n>f&&g>=0&&e>g&&(u+=t[f*e+g]*i[d*r+h])}a[l]=2040===u?255:0}return a}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},Kinetic.Factory.addGetterSetter(Kinetic.Node,"threshold",0,null,Kinetic.Factory.afterSetFilter)}(),Kinetic.Filters.RGB=function(t){var e,n,i=t.data,r=i.length,o=this.red(),a=this.green(),s=this.blue();for(e=0;r>e;e+=4)i[e]=(n=(.34*i[e]+.5*i[e+1]+.16*i[e+2])/255)*o,i[e+1]=n*a,i[e+2]=n*s,i[e+3]=i[e+3]},Kinetic.Factory.addGetterSetter(Kinetic.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:0>t?0:Math.round(t)}),Kinetic.Factory.addGetterSetter(Kinetic.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:0>t?0:Math.round(t)}),Kinetic.Factory.addGetterSetter(Kinetic.Node,"blue",0,Kinetic.Validators.RGBComponent,Kinetic.Factory.afterSetFilter),Kinetic.Filters.HSV=function(t){var e,n,i,r,o,a=t.data,s=a.length,c=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,d=c*l*Math.cos(u*Math.PI/180),h=c*l*Math.sin(u*Math.PI/180),f=.299*c+.701*d+.167*h,g=.587*c-.587*d+.33*h,p=.114*c-.114*d-.497*h,m=.299*c-.299*d-.328*h,v=.587*c+.413*d+.035*h,y=.114*c-.114*d+.293*h,b=.299*c-.3*d+1.25*h,_=.587*c-.586*d-1.05*h,w=.114*c+.886*d-.2*h;for(e=0;s>e;e+=4)o=a[e+3],a[e+0]=f*(n=a[e+0])+g*(i=a[e+1])+p*(r=a[e+2]),a[e+1]=m*n+v*i+y*r,a[e+2]=b*n+_*i+w*r,a[e+3]=o},Kinetic.Factory.addGetterSetter(Kinetic.Node,"hue",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"saturation",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"value",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"hue",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"saturation",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"luminance",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Filters.HSL=function(t){var e,n,i,r,o,a=t.data,s=a.length,c=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=127*this.luminance(),d=1*c*Math.cos(l*Math.PI/180),h=1*c*Math.sin(l*Math.PI/180),f=.299+.701*d+.167*h,g=.587-.587*d+.33*h,p=.114-.114*d-.497*h,m=.299-.299*d-.328*h,v=.587+.413*d+.035*h,y=.114-.114*d+.293*h,b=.299-.3*d+1.25*h,_=.587-.586*d-1.05*h,w=.114+.886*d-.2*h;for(e=0;s>e;e+=4)o=a[e+3],a[e+0]=f*(n=a[e+0])+g*(i=a[e+1])+p*(r=a[e+2])+u,a[e+1]=m*n+v*i+y*r+u,a[e+2]=b*n+_*i+w*r+u,a[e+3]=o},Kinetic.Filters.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),i=this.embossDirection(),r=this.embossBlend(),o=0,a=0,s=t.data,c=t.width,l=t.height,u=4*c,d=l;switch(i){case"top-left":o=-1,a=-1;break;case"top":o=-1,a=0;break;case"top-right":o=-1,a=1;break;case"right":o=0,a=1;break;case"bottom-right":o=1,a=1;break;case"bottom":o=1,a=0;break;case"bottom-left":o=1,a=-1;break;case"left":o=0,a=-1}do{var h=(d-1)*u,f=o;1>d+f&&(f=0),d+f>l&&(f=0);var g=(d-1+f)*c*4,p=c;do{var m=h+4*(p-1),v=a;1>p+v&&(v=0),p+v>c&&(v=0);var y=g+4*(p-1+v),b=s[m+1]-s[y+1],_=s[m+2]-s[y+2],w=s[m]-s[y],C=w>0?w:-w;if((b>0?b:-b)>C&&(w=b),(_>0?_:-_)>C&&(w=_),w*=e,r){var x=s[m]+w,S=s[m+1]+w,T=s[m+2]+w;s[m]=x>255?255:0>x?0:x,s[m+1]=S>255?255:0>S?0:S,s[m+2]=T>255?255:0>T?0:T}else{var k=n-w;0>k?k=0:k>255&&(k=255),s[m]=s[m+1]=s[m+2]=k}}while(--p)}while(--d)},Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossStrength",.5,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossWhiteLevel",.5,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossDirection","top-left",null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossBlend",!1,null,Kinetic.Factory.afterSetFilter),function(){function t(t,e,n,i,r){var o=n-e,a=r-i;return 0===o?i+a/2:0===a?i:a*((t-e)/o)+i}Kinetic.Filters.Enhance=function(e){var n,i,r,o,a=e.data,s=a.length,c=a[0],l=c,u=a[1],d=u,h=a[2],f=h,g=this.enhance();if(0!==g){for(o=0;s>o;o+=4)c>(n=a[o+0])?c=n:n>l&&(l=n),u>(i=a[o+1])?u=i:i>d&&(d=i),h>(r=a[o+2])?h=r:r>f&&(f=r);var p,m,v,y,b,_,w,C,x;for(l===c&&(l=255,c=0),d===u&&(d=255,u=0),f===h&&(f=255,h=0),g>0?(m=l+g*(255-l),v=c-g*(c-0),b=d+g*(255-d),_=u-g*(u-0),C=f+g*(255-f),x=h-g*(h-0)):(m=l+g*(l-(p=.5*(l+c))),v=c+g*(c-p),b=d+g*(d-(y=.5*(d+u))),_=u+g*(u-y),C=f+g*(f-(w=.5*(f+h))),x=h+g*(h-w)),o=0;s>o;o+=4)a[o+0]=t(a[o+0],c,l,v,m),a[o+1]=t(a[o+1],u,d,_,b),a[o+2]=t(a[o+2],h,f,x,C)}},Kinetic.Factory.addGetterSetter(Kinetic.Node,"enhance",0,null,Kinetic.Factory.afterSetFilter)}(),Kinetic.Filters.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,i=t.data,r=i.length,o=255/n;for(e=0;r>e;e+=1)i[e]=Math.floor(i[e]/o)*o},Kinetic.Factory.addGetterSetter(Kinetic.Node,"levels",.5,null,Kinetic.Factory.afterSetFilter),Kinetic.Filters.Noise=function(t){var e,n=255*this.noise(),i=t.data,r=i.length,o=n/2;for(e=0;r>e;e+=4)i[e+0]+=o-2*o*Math.random(),i[e+1]+=o-2*o*Math.random(),i[e+2]+=o-2*o*Math.random()},Kinetic.Factory.addGetterSetter(Kinetic.Node,"noise",.2,null,Kinetic.Factory.afterSetFilter),Kinetic.Filters.Pixelate=function(t){var e,n,i,r,o,a,s,c,l,u,d,h,f,g,p=Math.ceil(this.pixelSize()),m=t.width,v=t.height,y=Math.ceil(m/p),b=Math.ceil(v/p);for(t=t.data,h=0;y>h;h+=1)for(f=0;b>f;f+=1){for(r=0,o=0,a=0,s=0,l=(c=h*p)+p,d=(u=f*p)+p,g=0,e=c;l>e;e+=1)if(!(e>=m))for(n=u;d>n;n+=1)n>=v||(r+=t[0+(i=4*(m*n+e))],o+=t[i+1],a+=t[i+2],s+=t[i+3],g+=1);for(r/=g,o/=g,a/=g,e=c;l>e;e+=1)if(!(e>=m))for(n=u;d>n;n+=1)n>=v||(t[0+(i=4*(m*n+e))]=r,t[i+1]=o,t[i+2]=a,t[i+3]=s)}},Kinetic.Factory.addGetterSetter(Kinetic.Node,"pixelSize",8,null,Kinetic.Factory.afterSetFilter),Kinetic.Filters.Threshold=function(t){var e,n=255*this.threshold(),i=t.data,r=i.length;for(e=0;r>e;e+=1)i[e]=i[e]<n?0:255},Kinetic.Factory.addGetterSetter(Kinetic.Node,"threshold",.5,null,Kinetic.Factory.afterSetFilter),Kinetic.Filters.Sepia=function(t){var e,n,i,r,o,a,s,c,l,u=t.data,d=t.width,h=t.height,f=4*d;do{e=(h-1)*f,n=d;do{c=.349*(r=u[i=e+4*(n-1)])+.686*(o=u[i+1])+.168*(a=u[i+2]),l=.272*r+.534*o+.131*a,u[i]=(s=.393*r+.769*o+.189*a)>255?255:s,u[i+1]=c>255?255:c,u[i+2]=l>255?255:l,u[i+3]=u[i+3]}while(--n)}while(--h)},Kinetic.Filters.Solarize=function(t){var e=t.data,n=t.width,i=4*n,r=t.height;do{var o=(r-1)*i,a=n;do{var s=o+4*(a-1),c=e[s],l=e[s+1],u=e[s+2];c>127&&(c=255-c),l>127&&(l=255-l),u>127&&(u=255-u),e[s]=c,e[s+1]=l,e[s+2]=u}while(--a)}while(--r)},function(){var t=Kinetic.Util.createCanvasElement();Kinetic.Filters.Kaleidoscope=function(e){var n,i,r,o,a,s,c,l,u,d=e.width,h=e.height,f=Math.round(this.kaleidoscopePower()),g=Math.round(this.kaleidoscopeAngle()),p=Math.floor(d*(g%360)/360);if(!(1>f)){t.width=d,t.height=h;var m=t.getContext("2d").getImageData(0,0,d,h);!function(t,e,n){var i,r,o,a,s=t.data,c=e.data,l=t.width,u=t.height,d=n.polarCenterX||l/2,h=n.polarCenterY||u/2,f=0,g=0,p=0,m=0,v=Math.sqrt(d*d+h*h);r=l-d,o=u-h,v=(a=Math.sqrt(r*r+o*o))>v?a:v;var y,b,_,w,C=u,x=l,S=360/x*Math.PI/180;for(b=0;x>b;b+=1)for(_=Math.sin(b*S),w=Math.cos(b*S),y=0;C>y;y+=1)r=Math.floor(d+v*y/C*w),f=s[0+(i=4*((o=Math.floor(h+v*y/C*_))*l+r))],g=s[i+1],p=s[i+2],m=s[i+3],c[0+(i=4*(b+y*l))]=f,c[i+1]=g,c[i+2]=p,c[i+3]=m}(e,m,{polarCenterX:d/2,polarCenterY:h/2});for(var v=d/Math.pow(2,f);8>=v;)v*=2,f-=1;var y=v=Math.ceil(v),b=0,_=y,w=1;for(p+v>d&&(b=y,_=0,w=-1),i=0;h>i;i+=1)for(n=b;n!==_;n+=w)r=Math.round(n+p)%d,a=m.data[1+(l=4*(d*i+r))],s=m.data[l+2],c=m.data[l+3],m.data[0+(u=4*(d*i+n))]=m.data[l+0],m.data[u+1]=a,m.data[u+2]=s,m.data[u+3]=c;for(i=0;h>i;i+=1)for(y=Math.floor(v),o=0;f>o;o+=1){for(n=0;y+1>n;n+=1)a=m.data[1+(l=4*(d*i+n))],s=m.data[l+2],c=m.data[l+3],m.data[0+(u=4*(d*i+2*y-n-1))]=m.data[l+0],m.data[u+1]=a,m.data[u+2]=s,m.data[u+3]=c;y*=2}!function(t,e,n){var i,r,o,a,s,c,l=t.data,u=e.data,d=t.width,h=t.height,f=n.polarCenterX||d/2,g=n.polarCenterY||h/2,p=0,m=0,v=0,y=0,b=Math.sqrt(f*f+g*g);r=d-f,o=h-g,b=(c=Math.sqrt(r*r+o*o))>b?c:b;var _,w,C,x=h,S=d,T=n.polarRotation||0;for(r=0;d>r;r+=1)for(o=0;h>o;o+=1)a=r-f,s=o-g,_=Math.sqrt(a*a+s*s)*x/b,w=(w=(180*Math.atan2(s,a)/Math.PI+360+T)%360)*S/360,C=Math.floor(w),p=l[0+(i=4*(Math.floor(_)*d+C))],m=l[i+1],v=l[i+2],y=l[i+3],u[0+(i=4*(o*d+r))]=p,u[i+1]=m,u[i+2]=v,u[i+3]=y}(m,e,{polarRotation:0})}},Kinetic.Factory.addGetterSetter(Kinetic.Node,"kaleidoscopePower",2,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"kaleidoscopeAngle",0,null,Kinetic.Factory.afterSetFilter)}(),function(){var t=Kinetic.root.performance&&Kinetic.root.performance.now?function(){return Kinetic.root.performance.now()}:function(){return(new Date).getTime()},e=Kinetic.root.requestAnimationFrame||Kinetic.root.webkitRequestAnimationFrame||Kinetic.root.mozRequestAnimationFrame||Kinetic.root.oRequestAnimationFrame||Kinetic.root.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};Kinetic.Animation=function(e,n){var i=Kinetic.Animation;this.func=e,this.setLayers(n),this.id=i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:t()}},Kinetic.Animation.prototype={setLayers:function(t){this.layers=t?t.length>0?t:[t]:[]},getLayers:function(){return this.layers},addLayer:function(t){var e,n,i=this.layers;if(i){for(e=i.length,n=0;e>n;n++)if(i[n]._id===t._id)return!1}else this.layers=[];return this.layers.push(t),!0},isRunning:function(){var t,e=Kinetic.Animation.animations,n=e.length;for(t=0;n>t;t++)if(e[t].id===this.id)return!0;return!1},start:function(){var e=Kinetic.Animation;this.stop(),this.frame.timeDiff=0,this.frame.lastTime=t(),e._addAnimation(this)},stop:function(){Kinetic.Animation._removeAnimation(this)},_updateFrameObject:function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},Kinetic.Animation.animations=[],Kinetic.Animation.animIdCounter=0,Kinetic.Animation.animRunning=!1,Kinetic.Animation._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},Kinetic.Animation._removeAnimation=function(t){var e,n=t.id,i=this.animations,r=i.length;for(e=0;r>e;e++)if(i[e].id===n){this.animations.splice(e,1);break}},Kinetic.Animation._runFrames=function(){var e,n,i,r,o,a,s,c,l={},u=this.animations;for(r=0;r<u.length;r++)if(n=(e=u[r]).layers,i=e.func,e._updateFrameObject(t()),a=n.length,!i||!1!==i.call(e,e.frame))for(o=0;a>o;o++)void 0!==(s=n[o])._id&&(l[s._id]=s);for(c in l)l[c].draw()},Kinetic.Animation._animationLoop=function(){var t=Kinetic.Animation;t.animations.length?(function(){e.apply(Kinetic.root,arguments)}(t._animationLoop),t._runFrames()):t.animRunning=!1},Kinetic.Animation._handleAnimation=function(){this.animRunning||(this.animRunning=!0,this._animationLoop())};var n=Kinetic.Node.prototype.moveTo;Kinetic.Node.prototype.moveTo=function(t){n.call(this,t)},Kinetic.BaseLayer.prototype.batchDraw=function(){var e=this;this.batchAnim||(this.batchAnim=new(0,Kinetic.Animation)(function(){e.lastBatchDrawTime&&t()-e.lastBatchDrawTime>500&&e.batchAnim.stop()},this)),this.lastBatchDrawTime=t(),this.batchAnim.isRunning()||(this.draw(),this.batchAnim.start())},Kinetic.Stage.prototype.batchDraw=function(){this.getChildren().each(function(t){t.batchDraw()})}}(),function(){var t={node:1,duration:1,easing:1,onFinish:1,yoyo:1},e=0;Kinetic.Tween=function(i){var r,o,a=this,s=i.node,c=s._id,l=i.easing||Kinetic.Easings.Linear,u=!!i.yoyo;for(o in r=void 0===i.duration?1:0===i.duration?.001:i.duration,this.node=s,this._id=e++,this.anim=new Kinetic.Animation(function(){a.tween.onEnterFrame()},s.getLayer()||(s instanceof Kinetic.Stage?s.getLayers():null)),this.tween=new n(o,function(t){a._tweenFunc(t)},l,0,1,1e3*r,u),this._addListeners(),Kinetic.Tween.attrs[c]||(Kinetic.Tween.attrs[c]={}),Kinetic.Tween.attrs[c][this._id]||(Kinetic.Tween.attrs[c][this._id]={}),Kinetic.Tween.tweens[c]||(Kinetic.Tween.tweens[c]={}),i)void 0===t[o]&&this._addAttr(o,i[o]);this.reset(),this.onFinish=i.onFinish,this.onReset=i.onReset},Kinetic.Tween.attrs={},Kinetic.Tween.tweens={},Kinetic.Tween.prototype={_addAttr:function(t,e){var n,i,r,o,a,s=this.node,c=s._id;if((r=Kinetic.Tween.tweens[c][t])&&delete Kinetic.Tween.attrs[c][r][t],n=s.getAttr(t),Kinetic.Util._isArray(e))for(i=[],a=e.length,o=0;a>o;o++)i.push(e[o]-n[o]);else i=e-n;Kinetic.Tween.attrs[c][this._id][t]={start:n,diff:i},Kinetic.Tween.tweens[c][t]=this._id},_tweenFunc:function(t){var e,n,i,r,o,a,s,c=this.node,l=Kinetic.Tween.attrs[c._id][this._id];for(e in l){if(r=(n=l[e]).diff,Kinetic.Util._isArray(i=n.start))for(o=[],s=i.length,a=0;s>a;a++)o.push(i[a]+r[a]*t);else o=i+r*t;c.setAttr(e,o)}},_addListeners:function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){t.onFinish&&t.onFinish()},this.tween.onReset=function(){t.onReset&&t.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){return this.tween.reset(),this},seek:function(t){return this.tween.seek(1e3*t),this},pause:function(){return this.tween.pause(),this},finish:function(){return this.tween.finish(),this},destroy:function(){var t,e=this.node._id,n=this._id,i=Kinetic.Tween.tweens[e];for(t in this.pause(),i)delete Kinetic.Tween.tweens[e][t];delete Kinetic.Tween.attrs[e][n]}};var n=function(t,e,n,i,r,o,a){this.prop=t,this.propFunc=e,this.begin=i,this._pos=i,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=r-this.begin,this.pause()};n.prototype={fire:function(t){var e=this[t];e&&e()},setTime:function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():0>t?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},getTime:function(){return this._time},setPosition:function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},getPosition:function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},play:function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},pause:function(){this.state=1,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},Kinetic.Easings={BackEaseIn:function(t,e,n,i){var r=1.70158;return n*(t/=i)*t*((r+1)*t-r)+e},BackEaseOut:function(t,e,n,i){var r=1.70158;return n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},BackEaseInOut:function(t,e,n,i){var r=1.70158;return(t/=i/2)<1?n/2*t*t*((1+(r*=1.525))*t-r)+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},ElasticEaseIn:function(t,e,n,i,r,o){var a=0;return 0===t?e:1==(t/=i)?e+n:(o||(o=.3*i),!r||r<Math.abs(n)?(r=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/r),-r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-a)*Math.PI/o)+e)},ElasticEaseOut:function(t,e,n,i,r,o){var a=0;return 0===t?e:1==(t/=i)?e+n:(o||(o=.3*i),!r||r<Math.abs(n)?(r=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin(2*(t*i-a)*Math.PI/o)+n+e)},ElasticEaseInOut:function(t,e,n,i,r,o){var a=0;return 0===t?e:2==(t/=i/2)?e+n:(o||(o=.3*i*1.5),!r||r<Math.abs(n)?(r=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/r),1>t?-.5*r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-a)*Math.PI/o)+e:r*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*i-a)*Math.PI/o)*.5+n+e)},BounceEaseOut:function(t,e,n,i){return(t/=i)<1/2.75?7.5625*n*t*t+e:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,n,i){return n-Kinetic.Easings.BounceEaseOut(i-t,0,n,i)+e},BounceEaseInOut:function(t,e,n,i){return i/2>t?.5*Kinetic.Easings.BounceEaseIn(2*t,0,n,i)+e:.5*Kinetic.Easings.BounceEaseOut(2*t-i,0,n,i)+.5*n+e},EaseIn:function(t,e,n,i){return n*(t/=i)*t+e},EaseOut:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},EaseInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},StrongEaseOut:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,i){return n*t/i+e}}}(),function(){Kinetic.DD={anim:new Kinetic.Animation(function(){var t=this.dirty;return this.dirty=!1,t}),isDragging:!1,justDragged:!1,offset:{x:0,y:0},node:null,_drag:function(t){var e=Kinetic.DD,n=e.node;if(n){if(!e.isDragging){var i=n.getStage().getPointerPosition();if(n.dragDistance()>Math.max(Math.abs(i.x-e.startPointerPos.x),Math.abs(i.y-e.startPointerPos.y)))return}n._setDragPosition(t),e.isDragging||(e.isDragging=!0,n.fire("dragstart",{type:"dragstart",target:n,evt:t},!0)),n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)}},_endDragBefore:function(t){var e,n=Kinetic.DD,i=n.node;i&&(e=i.getLayer(),n.anim.stop(),n.isDragging&&(n.isDragging=!1,n.justDragged=!0,Kinetic.listenClickTap=!1,t&&(t.dragEndNode=i)),delete n.node,(e||i).draw())},_endDragAfter:function(t){var e=(t=t||{}).dragEndNode;t&&e&&e.fire("dragend",{type:"dragend",target:e,evt:t},!0)}},Kinetic.Node.prototype.startDrag=function(){var t=Kinetic.DD,e=this.getStage(),n=this.getLayer(),i=e.getPointerPosition(),r=this.getAbsolutePosition();i&&(t.node&&t.node.stopDrag(),t.node=this,t.startPointerPos=i,t.offset.x=i.x-r.x,t.offset.y=i.y-r.y,t.anim.setLayers(n||this.getLayers()),t.anim.start(),this._setDragPosition())},Kinetic.Node.prototype._setDragPosition=function(t){var e=Kinetic.DD,n=this.getStage().getPointerPosition(),i=this.getDragBoundFunc();if(n){var r={x:n.x-e.offset.x,y:n.y-e.offset.y};void 0!==i&&(r=i.call(this,r,t)),this.setAbsolutePosition(r),this._lastPos&&this._lastPos.x===r.x&&this._lastPos.y===r.y||(e.anim.dirty=!0),this._lastPos=r}},Kinetic.Node.prototype.stopDrag=function(){var t=Kinetic.DD,e={};t._endDragBefore(e),t._endDragAfter(e)},Kinetic.Node.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()};var t=Kinetic.Node.prototype.destroy;Kinetic.Node.prototype.destroy=function(){var e=Kinetic.DD;e.node&&e.node._id===this._id&&this.stopDrag(),t.call(this)},Kinetic.Node.prototype.isDragging=function(){var t=Kinetic.DD;return!(!t.node||t.node._id!==this._id||!t.isDragging)},Kinetic.Node.prototype._listenDrag=function(){var t=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.kinetic contentTouchstart.kinetic",function(e){Kinetic.DD.node||t.startDrag(e)}):this.on("mousedown.kinetic touchstart.kinetic",function(e){1!==e.evt.button&&2!==e.evt.button&&(Kinetic.DD.node||t.startDrag(e))})},Kinetic.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage(),e=Kinetic.DD;t&&e.node&&e.node._id===this._id&&e.node.stopDrag()}},Kinetic.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.kinetic"),this.off("contentTouchstart.kinetic")):(this.off("mousedown.kinetic"),this.off("touchstart.kinetic"))},Kinetic.Factory.addGetterSetter(Kinetic.Node,"dragBoundFunc"),Kinetic.Factory.addGetter(Kinetic.Node,"draggable",!1),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"draggable");var e=Kinetic.document.documentElement;e.addEventListener("mouseup",Kinetic.DD._endDragBefore,!0),e.addEventListener("touchend",Kinetic.DD._endDragBefore,!0),e.addEventListener("mouseup",Kinetic.DD._endDragAfter,!1),e.addEventListener("touchend",Kinetic.DD._endDragAfter,!1)}(),Kinetic.Util.addMethods(Kinetic.Container,{__init:function(t){this.children=new Kinetic.Collection,Kinetic.Node.call(this,t)},getChildren:function(t){if(t){var e=new Kinetic.Collection;return this.children.each(function(n){t(n)&&e.push(n)}),e}return this.children},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){for(var t,e=Kinetic.Collection.toCollection(this.children),n=0;n<e.length;n++)delete(t=e[n]).parent,t.index=0,t.hasChildren()&&t.removeChildren(),t.remove();return e=null,this.children=new Kinetic.Collection,this},destroyChildren:function(){for(var t,e=Kinetic.Collection.toCollection(this.children),n=0;n<e.length;n++)delete(t=e[n]).parent,t.index=0,t.destroy();return e=null,this.children=new Kinetic.Collection,this},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}if(t.getParent())return t.moveTo(this),this;var n=this.children;return this._validateAdd(t),t.index=n.length,t.parent=this,n.push(t),this._fire("add",{child:t}),t.isDragging()&&Kinetic.DD.anim.setLayers(t.getLayer()),this},destroy:function(){this.hasChildren()&&this.destroyChildren(),Kinetic.Node.prototype.destroy.call(this)},find:function(t){var e,n,i,r,o,a,s,c=[],l=t.replace(/ /g,"").split(","),u=l.length;for(e=0;u>e;e++)if("#"===(i=l[e]).charAt(0))(o=this._getNodeById(i.slice(1)))&&c.push(o);else if("."===i.charAt(0))r=this._getNodesByName(i.slice(1)),c=c.concat(r);else for(s=(a=this.getChildren()).length,n=0;s>n;n++)c=c.concat(a[n]._get(i));return Kinetic.Collection.toCollection(c)},_getNodeById:function(t){var e=Kinetic.ids[t];return void 0!==e&&this.isAncestorOf(e)?e:null},_getNodesByName:function(t){return this._getDescendants(Kinetic.names[t]||[])},_get:function(t){for(var e=Kinetic.Node.prototype._get.call(this,t),n=this.getChildren(),i=n.length,r=0;i>r;r++)e=e.concat(n[r]._get(t));return e},toObject:function(){var t=Kinetic.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,i=0;n>i;i++)t.children.push(e[i].toObject());return t},_getDescendants:function(t){for(var e=[],n=t.length,i=0;n>i;i++){var r=t[i];this.isAncestorOf(r)&&e.push(r)}return e},isAncestorOf:function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},clone:function(t){var e=Kinetic.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},getAllIntersections:function(t){var e=[];return this.find("Shape").each(function(n){n.isVisible()&&n.intersects(t)&&e.push(n)}),e},_setChildrenIndices:function(){this.children.each(function(t,e){t.index=e})},drawScene:function(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas(),r=i&&i.getContext(),o=this._cache.canvas,a=o&&o.scene;return this.isVisible()&&(a?this._drawCachedSceneCanvas(r):this._drawChildren(i,"drawScene",e)),this},drawHit:function(t,e){var n=this.getLayer(),i=t||n&&n.hitCanvas,r=i&&i.getContext(),o=this._cache.canvas,a=o&&o.hit;return this.shouldDrawHit(i)&&(n&&n.clearHitCache(),a?this._drawCachedHitCanvas(r):this._drawChildren(i,"drawHit",e)),this},_drawChildren:function(t,e,n){var i,r,o=this.getLayer(),a=t&&t.getContext(),s=this.getClipWidth(),c=this.getClipHeight(),l=s&&c;l&&o&&(i=this.getClipX(),r=this.getClipY(),a.save(),o._applyTransform(this,a),a.beginPath(),a.rect(i,r,s,c),a.clip(),a.reset()),this.children.each(function(i){i[e](t,n)}),l&&a.restore()},shouldDrawHit:function(t){var e=this.getLayer(),n=Kinetic.DD&&Kinetic.isDragging()&&-1!==Kinetic.DD.anim.getLayers().indexOf(e);return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isVisible()&&!n}}),Kinetic.Util.extend(Kinetic.Container,Kinetic.Node),Kinetic.Container.prototype.get=Kinetic.Container.prototype.find,Kinetic.Factory.addComponentsGetterSetter(Kinetic.Container,"clip",["x","y","width","height"]),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipX"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipY"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipWidth"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipHeight"),Kinetic.Collection.mapMethods(Kinetic.Container),function(){function t(t){t.fill()}function e(t){t.stroke()}function n(t){t.fill()}function i(t){t.stroke()}function r(){this._clearCache(o)}var o="hasShadow";Kinetic.Util.addMethods(Kinetic.Shape,{__init:function(o){this.nodeType="Shape",this._fillFunc=t,this._strokeFunc=e,this._fillFuncHit=n,this._strokeFuncHit=i;for(var a,s=Kinetic.shapes;!(a=Kinetic.Util.getRandomColor())||a in s;);this.colorKey=a,s[a]=this,Kinetic.Node.call(this,o),this.on("shadowColorChange.kinetic shadowBlurChange.kinetic shadowOffsetChange.kinetic shadowOpacityChange.kinetic shadowEnabledChange.kinetic",r)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(o,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return!!(this.stroke()||this.strokeRed()||this.strokeGreen()||this.strokeBlue())},intersects:function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawScene(e),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},destroy:function(){Kinetic.Node.prototype.destroy.call(this),delete Kinetic.shapes[this.colorKey]},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasFill()&&this.hasStroke()&&this.getStage()},drawScene:function(t,e){var n,i,r=this.getLayer(),o=t||r.getCanvas(),a=o.getContext(),s=this._cache.canvas,c=this.sceneFunc(),l=this.hasShadow();if(this.isVisible())if(s)this._drawCachedSceneCanvas(a);else if(c){if(a.save(),this._useBufferCanvas()){if((i=(n=this.getStage().bufferCanvas).getContext()).clear(),i.save(),i._applyLineJoin(this),r)r._applyTransform(this,i,e);else{var u=this.getAbsoluteTransform(e).getMatrix();a.transform(u[0],u[1],u[2],u[3],u[4],u[5])}c.call(this,i),i.restore(),l&&!o.hitCanvas&&(a.save(),a._applyShadow(this),a.drawImage(n._canvas,0,0),a.restore()),a._applyOpacity(this),a.drawImage(n._canvas,0,0)}else{if(a._applyLineJoin(this),r)r._applyTransform(this,a,e);else{var d=this.getAbsoluteTransform(e).getMatrix();a.transform(d[0],d[1],d[2],d[3],d[4],d[5])}l&&!o.hitCanvas&&(a.save(),a._applyShadow(this),c.call(this,a),a.restore()),a._applyOpacity(this),c.call(this,a)}a.restore()}return this},drawHit:function(t,e){var n=this.getLayer(),i=t||n.hitCanvas,r=i.getContext(),o=this.hitFunc()||this.sceneFunc(),a=this._cache.canvas,s=a&&a.hit;if(this.shouldDrawHit(i))if(n&&n.clearHitCache(),s)this._drawCachedHitCanvas(r);else if(o){if(r.save(),r._applyLineJoin(this),n)n._applyTransform(this,r,e);else{var c=this.getAbsoluteTransform(e).getMatrix();r.transform(c[0],c[1],c[2],c[3],c[4],c[5])}o.call(this,r),r.restore()}return this},drawHitFromCache:function(t){var e,n,i,r,o,a,s=t||0,c=this._cache.canvas,l=this._getCachedSceneCanvas(),u=l.getContext(),d=c.hit.getContext(),h=l.getWidth(),f=l.getHeight();d.clear();try{for(e=u.getImageData(0,0,h,f).data,i=(n=d.getImageData(0,0,h,f)).data,r=e.length,o=Kinetic.Util._hexToRgb(this.colorKey),a=0;r>a;a+=4)e[a+3]>s&&(i[a]=o.r,i[a+1]=o.g,i[a+2]=o.b,i[a+3]=255);d.putImageData(n,0,0)}catch(g){Kinetic.Util.warn("Unable to draw hit graph from cached scene canvas. "+g.message)}return this}}),Kinetic.Util.extend(Kinetic.Shape,Kinetic.Node),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"stroke"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeWidth",2),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineJoin"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineCap"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"sceneFunc"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"hitFunc"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dash"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowColor"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowBlur"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOpacity"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"shadowOffset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOffsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOffsetY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternImage"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fill"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientColorStops"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientColorStops"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternRepeat","repeat"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dashEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeScaleEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPriority","color"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillPatternOffset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternOffsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternOffsetY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillPatternScale",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternScaleX",1),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternScaleY",1),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillLinearGradientStartPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientStartPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientStartPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillLinearGradientEndPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientEndPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientEndPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillRadialGradientStartPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillRadialGradientEndPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndPointY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternRotation",0),Kinetic.Factory.backCompat(Kinetic.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),Kinetic.Collection.mapMethods(Kinetic.Shape)}(),function(){function t(t,e){t.content.addEventListener(e,function(n){t[h+e](n)},!1)}var e="mouseout",n="mouseleave",i="mouseover",r="mousemove",o="mousedown",a="mouseup",s="touchstart",c="touchend",l="touchmove",u="mousewheel",d="div",h="_",f=[o,r,a,e,s,l,c,i,"DOMMouseScroll",u,"wheel"],g=f.length;Kinetic.Util.addMethods(Kinetic.Stage,{___init:function(t){this.nodeType="Stage",Kinetic.Container.call(this,t),this._id=Kinetic.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,Kinetic.stages.push(this)},_validateAdd:function(t){"Layer"!==t.getType()&&Kinetic.Util.error("You may only add layers to the stage.")},setContainer:function(t){if("string"==typeof t){var e=t;if(!(t=Kinetic.document.getElementById(t)))throw"Can not find container in document with id "+e}return this._setAttr("container",t),this},shouldDrawHit:function(){return!0},draw:function(){return Kinetic.Node.prototype.draw.call(this),this},setHeight:function(t){return Kinetic.Node.prototype.setHeight.call(this,t),this._resizeDOM(),this},setWidth:function(t){return Kinetic.Node.prototype.setWidth.call(this,t),this._resizeDOM(),this},clear:function(){var t,e=this.children,n=e.length;for(t=0;n>t;t++)e[t].clear();return this},clone:function(t){return t||(t={}),t.container=Kinetic.document.createElement(d),Kinetic.Container.prototype.clone.call(this,t)},destroy:function(){var t=this.content;Kinetic.Container.prototype.destroy.call(this),t&&Kinetic.Util._isInDocument(t)&&this.getContainer().removeChild(t);var e=Kinetic.stages.indexOf(this);e>-1&&Kinetic.stages.splice(e,1)},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,i=t.x||0,r=t.y||0,o=new Kinetic.SceneCanvas({width:t.width||this.getWidth(),height:t.height||this.getHeight(),pixelRatio:1}),a=o.getContext()._context,s=this.children;(i||r)&&a.translate(-1*i,-1*r),function i(r){var c=s[r].toDataURL(),l=new Kinetic.window.Image;l.onload=function(){a.drawImage(l,0,0),r<s.length-1?i(r+1):t.callback(o.toDataURL(e,n))},l.src=c}(0)},toImage:function(t){var e=t.callback;t.callback=function(t){Kinetic.Util._getImage(t,function(t){e(t)})},this.toDataURL(t)},getIntersection:function(t){var e,n,i=this.getChildren();for(e=i.length-1;e>=0;e--)if(n=i[e].getIntersection(t))return n;return null},_resizeDOM:function(){if(this.content){var t,e,n=this.getWidth(),i=this.getHeight(),r=this.getChildren(),o=r.length;for(this.content.style.width=n+"px",this.content.style.height=i+"px",this.bufferCanvas.setSize(n,i),this.bufferHitCanvas.setSize(n,i),t=0;o>t;t++)(e=r[t]).setSize(n,i),e.draw()}},add:function(t){if(!(arguments.length>1))return Kinetic.Container.prototype.add.call(this,t),t._setCanvasSize(this.width(),this.height()),t.draw(),this.content.appendChild(t.canvas._canvas),this;for(var e=0;e<arguments.length;e++)this.add(arguments[e])},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){for(var e=0;g>e;e++)t(this,f[e])},_mouseover:function(t){Kinetic.UA.mobile||(this._setPointerPosition(t),this._fire("contentMouseover",{evt:t}))},_mouseout:function(t){if(!Kinetic.UA.mobile){this._setPointerPosition(t);var i=this.targetShape;i&&!Kinetic.isDragging()&&(i._fireAndBubble(e,{evt:t}),i._fireAndBubble(n,{evt:t}),this.targetShape=null),this.pointerPos=void 0,this._fire("contentMouseout",{evt:t})}},_mousemove:function(t){if(Kinetic.UA.ieMobile)return this._touchmove(t);if((void 0===t.webkitMovementX&&void 0===t.webkitMovementY||0!==t.webkitMovementY||0!==t.webkitMovementX)&&!Kinetic.UA.mobile){this._setPointerPosition(t);var o,a=Kinetic.DD;Kinetic.isDragging()||((o=this.getIntersection(this.getPointerPosition()))&&o.isListening()?Kinetic.isDragging()||this.targetShape&&this.targetShape._id===o._id?o._fireAndBubble(r,{evt:t}):(this.targetShape&&(this.targetShape._fireAndBubble(e,{evt:t},o),this.targetShape._fireAndBubble(n,{evt:t},o)),o._fireAndBubble(i,{evt:t},this.targetShape),o._fireAndBubble("mouseenter",{evt:t},this.targetShape),this.targetShape=o):this.targetShape&&!Kinetic.isDragging()&&(this.targetShape._fireAndBubble(e,{evt:t}),this.targetShape._fireAndBubble(n,{evt:t}),this.targetShape=null),this._fire("contentMousemove",{evt:t})),a&&a._drag(t),t.preventDefault&&t.preventDefault()}},_mousedown:function(t){if(Kinetic.UA.ieMobile)return this._touchstart(t);if(!Kinetic.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());Kinetic.listenClickTap=!0,e&&e.isListening()&&(this.clickStartShape=e,e._fireAndBubble(o,{evt:t})),this._fire("contentMousedown",{evt:t})}t.preventDefault&&t.preventDefault()},_mouseup:function(t){if(Kinetic.UA.ieMobile)return this._touchend(t);if(!Kinetic.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=this.clickStartShape,i=!1,r=Kinetic.DD;Kinetic.inDblClickWindow?(i=!0,Kinetic.inDblClickWindow=!1):r&&r.justDragged?r&&(r.justDragged=!1):Kinetic.inDblClickWindow=!0,setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble(a,{evt:t}),Kinetic.listenClickTap&&n&&n._id===e._id&&(e._fireAndBubble("click",{evt:t}),i&&e._fireAndBubble("dblclick",{evt:t}))),this._fire("contentMouseup",{evt:t}),Kinetic.listenClickTap&&(this._fire("contentClick",{evt:t}),i&&this._fire("contentDblclick",{evt:t})),Kinetic.listenClickTap=!1}t.preventDefault&&t.preventDefault()},_touchstart:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());Kinetic.listenClickTap=!0,e&&e.isListening()&&(this.tapStartShape=e,e._fireAndBubble(s,{evt:t}),e.isListening()&&t.preventDefault&&t.preventDefault()),this._fire("contentTouchstart",{evt:t})},_touchend:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=!1;Kinetic.inDblClickWindow?(n=!0,Kinetic.inDblClickWindow=!1):Kinetic.inDblClickWindow=!0,setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble(c,{evt:t}),Kinetic.listenClickTap&&e._id===this.tapStartShape._id&&(e._fireAndBubble("tap",{evt:t}),n&&e._fireAndBubble("dbltap",{evt:t})),e.isListening()&&t.preventDefault&&t.preventDefault()),Kinetic.listenClickTap&&(this._fire("contentTouchend",{evt:t}),n&&this._fire("contentDbltap",{evt:t})),Kinetic.listenClickTap=!1},_touchmove:function(t){this._setPointerPosition(t);var e,n=Kinetic.DD;Kinetic.isDragging()||((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()&&(e._fireAndBubble(l,{evt:t}),e.isListening()&&t.preventDefault&&t.preventDefault()),this._fire("contentTouchmove",{evt:t})),n&&(n._drag(t),Kinetic.isDragging()&&t.preventDefault())},_DOMMouseScroll:function(t){this._mousewheel(t)},_mousewheel:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()&&e._fireAndBubble(u,{evt:t})},_wheel:function(t){this._mousewheel(t)},_setPointerPosition:function(t){var e,n=this._getContentPosition(),i=t.offsetX,r=t.clientX,o=null,a=null;void 0!==(t=t||window.event).touches?t.touches.length>0&&(o=(e=t.touches[0]).clientX-n.left,a=e.clientY-n.top):void 0!==i?(o=i,a=t.offsetY):"mozilla"===Kinetic.UA.browser?(o=t.layerX,a=t.layerY):void 0!==r&&n&&(o=r-n.left,a=t.clientY-n.top),null!==o&&null!==a&&(this.pointerPos={x:o,y:a})},_getContentPosition:function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},_buildDOM:function(){var t=this.getContainer();if(!t){if(Kinetic.Util.isBrowser())throw"Stage has no container. A container is required.";t=Kinetic.document.createElement(d)}t.innerHTML="",this.content=Kinetic.document.createElement(d),this.content.style.position="relative",this.content.style.display="inline-block",this.content.className="kineticjs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this.bufferCanvas=new Kinetic.SceneCanvas({pixelRatio:1}),this.bufferHitCanvas=new Kinetic.HitCanvas,this._resizeDOM()},_onContent:function(t,e){var n,i=t.split(" "),r=i.length;for(n=0;r>n;n++)this.content.addEventListener(i[n],e,!1)},cache:function(){Kinetic.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),Kinetic.Util.extend(Kinetic.Stage,Kinetic.Container),Kinetic.Factory.addGetter(Kinetic.Stage,"container"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Stage,"container")}(),Kinetic.Util.addMethods(Kinetic.BaseLayer,{___init:function(t){this.nodeType="Layer",Kinetic.Container.call(this,t)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},clearHitCache:function(){this._hitImageData=void 0},setZIndex:function(t){Kinetic.Node.prototype.setZIndex.call(this,t);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),t<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[t+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){Kinetic.Node.prototype.moveToTop.call(this);var t=this.getStage();t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas))},moveUp:function(){if(Kinetic.Node.prototype.moveUp.call(this)){var t=this.getStage();t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas))}},moveDown:function(){if(Kinetic.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}}},moveToBottom:function(){if(Kinetic.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}}},getLayer:function(){return this},remove:function(){var t=this.getCanvas()._canvas;return Kinetic.Node.prototype.remove.call(this),t&&t.parentNode&&Kinetic.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},getStage:function(){return this.parent},setSize:function(t,e){this.canvas.setSize(t,e)},getWidth:function(){return this.parent?this.parent.getWidth():void 0},setWidth:function(){Kinetic.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},getHeight:function(){return this.parent?this.parent.getHeight():void 0},setHeight:function(){Kinetic.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}}),Kinetic.Util.extend(Kinetic.BaseLayer,Kinetic.Container),Kinetic.Factory.addGetterSetter(Kinetic.BaseLayer,"clearBeforeDraw",!0),Kinetic.Collection.mapMethods(Kinetic.BaseLayer),function(){var t=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}],e=t.length;Kinetic.Util.addMethods(Kinetic.Layer,{____init:function(t){this.nodeType="Layer",this.canvas=new Kinetic.SceneCanvas,this.hitCanvas=new Kinetic.HitCanvas,Kinetic.BaseLayer.call(this,t)},_setCanvasSize:function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&Kinetic.Util.error("You may only add groups and shapes to a layer.")},getIntersection:function(n){var i,r,o,a;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var s=1,c=!1;;){for(r=0;e>r;r++){if(a=(i=this._getIntersection({x:n.x+(o=t[r]).x*s,y:n.y+o.y*s})).shape)return a;i.antialiased&&(c=!0)}if(!c)return;s+=1}},_getImageData:function(t,e){var n=this.hitCanvas.width||1,i=this.hitCanvas.height||1,r=Math.round(e)*n+Math.round(t);return this._hitImageData||(this._hitImageData=this.hitCanvas.context.getImageData(0,0,n,i)),[this._hitImageData.data[4*r+0],this._hitImageData.data[4*r+1],this._hitImageData.data[4*r+2],this._hitImageData.data[4*r+3]]},_getIntersection:function(t){var e,n=this.hitCanvas.context.getImageData(t.x,t.y,1,1).data,i=n[3];return 255===i?(e=Kinetic.Util._rgbToHex(n[0],n[1],n[2]),{shape:Kinetic.shapes["#"+e]}):i>0?{antialiased:!0}:{}},drawScene:function(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.getClearBeforeDraw()&&i.getContext().clear(),Kinetic.Container.prototype.drawScene.call(this,i,e),this._fire("draw",{node:this}),this},_applyTransform:function(t,e,n){var i=t.getAbsoluteTransform(n).getMatrix();e.transform(i[0],i[1],i[2],i[3],i[4],i[5])},drawHit:function(t,e){var n=this.getLayer(),i=t||n&&n.hitCanvas;return n&&n.getClearBeforeDraw()&&n.getHitCanvas().getContext().clear(),Kinetic.Container.prototype.drawHit.call(this,i,e),this.imageData=null,this},clear:function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this.imageData=null,this},setVisible:function(t){return Kinetic.Node.prototype.setVisible.call(this,t),t?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),this},setSize:function(t,e){Kinetic.BaseLayer.prototype.setSize.call(this,t,e),this.hitCanvas.setSize(t,e)}}),Kinetic.Util.extend(Kinetic.Layer,Kinetic.BaseLayer),Kinetic.Factory.addGetterSetter(Kinetic.Layer,"hitGraphEnabled",!0),Kinetic.Collection.mapMethods(Kinetic.Layer)}(),Kinetic.Util.addMethods(Kinetic.FastLayer,{____init:function(t){this.nodeType="Layer",this.canvas=new Kinetic.SceneCanvas,Kinetic.BaseLayer.call(this,t)},_validateAdd:function(t){"Shape"!==t.getType()&&Kinetic.Util.error("You may only add shapes to a fast layer.")},_setCanvasSize:function(t,e){this.canvas.setSize(t,e)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(t){var e=this.getLayer(),n=t||e&&e.getCanvas();return this.getClearBeforeDraw()&&n.getContext().clear(),Kinetic.Container.prototype.drawScene.call(this,n),this},_applyTransform:function(t,e,n){if(!n||n._id!==this._id){var i=t.getTransform().getMatrix();e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}},draw:function(){return this.drawScene(),this},clear:function(t){return this.getContext().clear(t),this},setVisible:function(t){return Kinetic.Node.prototype.setVisible.call(this,t),this.getCanvas()._canvas.style.display=t?"block":"none",this}}),Kinetic.Util.extend(Kinetic.FastLayer,Kinetic.BaseLayer),Kinetic.Collection.mapMethods(Kinetic.FastLayer),Kinetic.Util.addMethods(Kinetic.Group,{___init:function(t){this.nodeType="Group",Kinetic.Container.call(this,t)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&Kinetic.Util.error("You may only add groups and shapes to groups.")}}),Kinetic.Util.extend(Kinetic.Group,Kinetic.Container),Kinetic.Collection.mapMethods(Kinetic.Group),Kinetic.Rect=function(t){this.___init(t)},Kinetic.Rect.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getCornerRadius(),n=this.getWidth(),i=this.getHeight();t.beginPath(),e?(t.moveTo(e,0),t.lineTo(n-e,0),t.arc(n-e,e,e,3*Math.PI/2,0,!1),t.lineTo(n,i-e),t.arc(n-e,i-e,e,0,Math.PI/2,!1),t.lineTo(e,i),t.arc(e,i-e,e,Math.PI/2,Math.PI,!1),t.lineTo(0,e),t.arc(e,e,e,Math.PI,3*Math.PI/2,!1)):t.rect(0,0,n,i),t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Rect,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Rect,"cornerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Rect),function(){var t=2*Math.PI-1e-4;Kinetic.Circle=function(t){this.___init(t)},Kinetic.Circle.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Circle",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getRadius(),0,t,!1),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Kinetic.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){Kinetic.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setRadius:function(t){this._setAttr("radius",t),this.setWidth(2*t),this.setHeight(2*t)}},Kinetic.Util.extend(Kinetic.Circle,Kinetic.Shape),Kinetic.Factory.addGetter(Kinetic.Circle,"radius",0),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Circle,"radius"),Kinetic.Collection.mapMethods(Kinetic.Circle)}(),function(){var t=2*Math.PI-1e-4;Kinetic.Ellipse=function(t){this.___init(t)},Kinetic.Ellipse.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Ellipse",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var n=this.getRadiusX(),i=this.getRadiusY();e.beginPath(),e.save(),n!==i&&e.scale(1,i/n),e.arc(0,0,n,0,t,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadiusX()},getHeight:function(){return 2*this.getRadiusY()},setWidth:function(t){Kinetic.Node.prototype.setWidth.call(this,t),this.setRadius({x:t/2})},setHeight:function(t){Kinetic.Node.prototype.setHeight.call(this,t),this.setRadius({y:t/2})}},Kinetic.Util.extend(Kinetic.Ellipse,Kinetic.Shape),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Ellipse,"radius",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Ellipse,"radiusX",0),Kinetic.Factory.addGetterSetter(Kinetic.Ellipse,"radiusY",0),Kinetic.Collection.mapMethods(Kinetic.Ellipse)}(),function(){var t=2*Math.PI-1e-4;Kinetic.Ring=function(t){this.___init(t)},Kinetic.Ring.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Ring",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getInnerRadius(),0,t,!1),e.moveTo(this.getOuterRadius(),0),e.arc(0,0,this.getOuterRadius(),t,0,!0),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Kinetic.Node.prototype.setWidth.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){Kinetic.Node.prototype.setHeight.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setOuterRadius:function(t){this._setAttr("outerRadius",t),this.setWidth(2*t),this.setHeight(2*t)}},Kinetic.Util.extend(Kinetic.Ring,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Ring,"innerRadius",0),Kinetic.Factory.addGetter(Kinetic.Ring,"outerRadius",0),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Ring,"outerRadius"),Kinetic.Collection.mapMethods(Kinetic.Ring)}(),Kinetic.Wedge=function(t){this.___init(t)},Kinetic.Wedge.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Wedge",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,Kinetic.getAngle(this.getAngle()),this.getClockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Wedge,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"radius",0),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"angle",0),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"clockwise",!1),Kinetic.Factory.backCompat(Kinetic.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Kinetic.Collection.mapMethods(Kinetic.Wedge),Kinetic.Arc=function(t){this.___init(t)},Kinetic.Arc.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Arc",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=Kinetic.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.getOuterRadius(),0,e,n),t.arc(0,0,this.getInnerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Arc,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"innerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"outerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"angle",0),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"clockwise",!1),Kinetic.Collection.mapMethods(Kinetic.Arc),Kinetic.Image=function(t){this.___init(t)},Kinetic.Image.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Image",this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()&&this.getStage()},_sceneFunc:function(t){var e,n,i,r=this.getWidth(),o=this.getHeight(),a=this.getImage();a&&(e=this.getCropWidth(),n=this.getCropHeight(),i=e&&n?[a,this.getCropX(),this.getCropY(),e,n,0,0,r,o]:[a,0,0,r,o]),(this.hasFill()||this.hasStroke()||this.hasShadow())&&(t.beginPath(),t.rect(0,0,r,o),t.closePath(),t.fillStrokeShape(this)),a&&t.drawImage.apply(t,i)},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){var t=this.getImage();return this.attrs.width||(t?t.width:0)},getHeight:function(){var t=this.getImage();return this.attrs.height||(t?t.height:0)}},Kinetic.Util.extend(Kinetic.Image,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Image,"image"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Image,"crop",["x","y","width","height"]),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropX",0),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropY",0),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropWidth",0),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropHeight",0),Kinetic.Collection.mapMethods(Kinetic.Image),function(){function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var n="auto",i="left",r="normal",o=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","lineHeight","text","width","height","wrap"],a=o.length,s=Kinetic.Util.createCanvasElement().getContext("2d");Kinetic.Text=function(t){this.___init(t)},Kinetic.Text.prototype={___init:function(i){(i=i||{}).fill=i.fill||"black",void 0===i.width&&(i.width=n),void 0===i.height&&(i.height=n),Kinetic.Shape.call(this,i),this._fillFunc=t,this._strokeFunc=e,this.className="Text";for(var r=0;a>r;r++)this.on(o[r]+"Change.kinetic",this._setTextData);this._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e,n=this.getPadding(),r=this.getTextHeight(),o=this.getLineHeight()*r,a=this.textArr,s=a.length,c=this.getWidth();for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign",i),t.save(),t.translate(n,0),t.translate(0,n+r/2),e=0;s>e;e++){var l=a[e],u=l.text,d=l.width;t.save(),"right"===this.getAlign()?t.translate(c-d-2*n,0):"center"===this.getAlign()&&t.translate((c-d-2*n)/2,0),this.partialText=u,t.fillStrokeShape(this),t.restore(),t.translate(0,o)}t.restore()},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},setText:function(t){var e=Kinetic.Util._isString(t)?t:t.toString();return this._setAttr("text",e),this},getWidth:function(){return this.attrs.width===n?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){return this.attrs.height===n?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(t){var e,n=s,i=this.getFontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:parseInt(i,10)}},_getContextFont:function(){return this.getFontStyle()+" "+this.getFontVariant()+" "+this.getFontSize()+"px "+this.getFontFamily()},_addTextLine:function(t,e){return this.textArr.push({text:t,width:e})},_getTextWidth:function(t){return s.measureText(t).width},_setTextData:function(){var t=this.getText().split("\n"),e=+this.getFontSize(),i=0,r=this.getLineHeight()*e,o=this.attrs.width,a=this.attrs.height,c=o!==n,l=a!==n,u=this.getPadding(),d=o-2*u,h=a-2*u,f=0,g=this.getWrap(),p="none"!==g,m="char"!==g&&p;this.textArr=[],s.save(),s.font=this._getContextFont();for(var v=0,y=t.length;y>v;++v){var b=t[v],_=this._getTextWidth(b);if(c&&_>d)for(;b.length>0;){for(var w=0,C=b.length,x="",S=0;C>w;){var T=w+C>>>1,k=b.slice(0,T+1),z=this._getTextWidth(k);d>=z?(w=T+1,x=k,S=z):C=T}if(!x)break;if(m){var E=Math.max(x.lastIndexOf(" "),x.lastIndexOf("-"))+1;E>0&&(x=x.slice(0,w=E),S=this._getTextWidth(x))}if(this._addTextLine(x,S),i=Math.max(i,S),f+=r,!p||l&&f+r>h)break;if((b=b.slice(w)).length>0&&d>=(_=this._getTextWidth(b))){this._addTextLine(b,_),f+=r,i=Math.max(i,_);break}}else this._addTextLine(b,_),f+=r,i=Math.max(i,_);if(l&&f+r>h)break}s.restore(),this.textHeight=e,this.textWidth=i}},Kinetic.Util.extend(Kinetic.Text,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontSize",12),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontStyle",r),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontVariant",r),Kinetic.Factory.addGetterSetter(Kinetic.Text,"padding",0),Kinetic.Factory.addGetterSetter(Kinetic.Text,"align",i),Kinetic.Factory.addGetterSetter(Kinetic.Text,"lineHeight",1),Kinetic.Factory.addGetterSetter(Kinetic.Text,"wrap","word"),Kinetic.Factory.addGetter(Kinetic.Text,"text",""),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Text,"text"),Kinetic.Collection.mapMethods(Kinetic.Text)}(),Kinetic.Line=function(t){this.___init(t)},Kinetic.Line.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Line",this.on("pointsChange.kinetic tensionChange.kinetic closedChange.kinetic",function(){this._clearCache("tensionPoints")}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,i,r=this.getPoints(),o=r.length,a=this.getTension(),s=this.getClosed();if(o){if(t.beginPath(),t.moveTo(r[0],r[1]),0!==a&&o>4){for(n=(e=this.getTensionPoints()).length,i=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);n-2>i;)t.bezierCurveTo(e[i++],e[i++],e[i++],e[i++],e[i++],e[i++]);s||t.quadraticCurveTo(e[n-2],e[n-1],r[o-2],r[o-1])}else for(i=2;o>i;i+=2)t.lineTo(r[i],r[i+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():Kinetic.Util._expandPoints(this.getPoints(),this.getTension())},_getTensionPointsClosed:function(){var t=this.getPoints(),e=t.length,n=this.getTension(),i=Kinetic.Util,r=i._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),o=i._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),a=Kinetic.Util._expandPoints(t,n);return[r[2],r[3]].concat(a).concat([o[0],o[1],t[e-2],t[e-1],o[2],o[3],r[0],r[1],t[0],t[1]])}},Kinetic.Util.extend(Kinetic.Line,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Line,"closed",!1),Kinetic.Factory.addGetterSetter(Kinetic.Line,"tension",0),Kinetic.Factory.addGetterSetter(Kinetic.Line,"points",[]),Kinetic.Collection.mapMethods(Kinetic.Line),Kinetic.Sprite=function(t){this.___init(t)},Kinetic.Sprite.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Sprite",this._updated=!0;var e=this;this.anim=new Kinetic.Animation(function(){var t=e._updated;return e._updated=!1,t}),this.on("animationChange.kinetic",function(){this.frameIndex(0)}),this.on("frameIndexChange.kinetic",function(){this._updated=!0}),this.on("frameRateChange.kinetic",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),i=4*n,r=this.getAnimations()[e],o=this.frameOffsets(),a=r[i+0],s=r[i+1],c=r[i+2],l=r[i+3],u=this.getImage();if(u)if(o){var d=o[e],h=2*n;t.drawImage(u,a,s,c,l,d[h+0],d[h+1],c,l)}else t.drawImage(u,a,s,c,l,0,0,c,l)},_hitFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),i=4*n,r=this.getAnimations()[e],o=this.frameOffsets(),a=r[i+2],s=r[i+3];if(t.beginPath(),o){var c=o[e],l=2*n;t.rect(c[l+0],c[l+1],a,s)}else t.rect(0,0,a,s);t.closePath(),t.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_setInterval:function(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.getFrameRate())},start:function(){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},isRunning:function(){return this.anim.isRunning()},_updateIndex:function(){var t=this.frameIndex(),e=this.getAnimation(),n=this.getAnimations();this.frameIndex(n[e].length/4-1>t?t+1:0)}},Kinetic.Util.extend(Kinetic.Sprite,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"animation"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"animations"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"frameOffsets"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"image"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"frameIndex",0),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"frameRate",17),Kinetic.Factory.backCompat(Kinetic.Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Kinetic.Collection.mapMethods(Kinetic.Sprite),Kinetic.Path=function(t){this.___init(t)},Kinetic.Path.prototype={___init:function(t){this.dataArray=[];var e=this;Kinetic.Shape.call(this,t),this.className="Path",this.dataArray=Kinetic.Path.parsePathData(this.getData()),this.on("dataChange.kinetic",function(){e.dataArray=Kinetic.Path.parsePathData(this.getData())}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.dataArray,n=!1;t.beginPath();for(var i=0;i<e.length;i++){var r=e[i].points;switch(e[i].command){case"L":t.lineTo(r[0],r[1]);break;case"M":t.moveTo(r[0],r[1]);break;case"C":t.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":t.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var o=r[0],a=r[1],s=r[2],c=r[3],l=r[4],u=r[5],d=r[6],h=r[7],f=s>c?s:c,g=s>c?1:s/c,p=s>c?c/s:1;t.translate(o,a),t.rotate(d),t.scale(g,p),t.arc(0,0,f,l,l+u,1-h),t.scale(1/g,1/p),t.rotate(-d),t.translate(-o,-a);break;case"z":t.closePath(),n=!0}}n?t.fillStrokeShape(this):t.strokeShape(this)}},Kinetic.Util.extend(Kinetic.Path,Kinetic.Shape),Kinetic.Path.getLineLength=function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},Kinetic.Path.getPointOnLine=function(t,e,n,i,r,o,a){void 0===o&&(o=e),void 0===a&&(a=n);var s=(r-n)/(i-e+1e-8),c=Math.sqrt(t*t/(1+s*s));e>i&&(c*=-1);var l,u=s*c;if(i===e)l={x:o,y:a+u};else if((a-n)/(o-e+1e-8)===s)l={x:o+c,y:a+u};else{var d,h,f=this.getLineLength(e,n,i,r);if(1e-8>f)return;var g=(o-e)*(i-e)+(a-n)*(r-n),p=this.getLineLength(o,a,d=e+(g/=f*f)*(i-e),h=n+g*(r-n)),m=Math.sqrt(t*t-p*p);c=Math.sqrt(m*m/(1+s*s)),e>i&&(c*=-1),l={x:d+c,y:h+(u=s*c)}}return l},Kinetic.Path.getPointOnCubicBezier=function(t,e,n,i,r,o,a,s,c){function l(t){return t*t*t}function u(t){return 3*t*t*(1-t)}function d(t){return 3*t*(1-t)*(1-t)}function h(t){return(1-t)*(1-t)*(1-t)}return{x:s*l(t)+o*u(t)+i*d(t)+e*h(t),y:c*l(t)+a*u(t)+r*d(t)+n*h(t)}},Kinetic.Path.getPointOnQuadraticBezier=function(t,e,n,i,r,o,a){function s(t){return t*t}function c(t){return 2*t*(1-t)}function l(t){return(1-t)*(1-t)}return{x:o*s(t)+i*c(t)+e*l(t),y:a*s(t)+r*c(t)+n*l(t)}},Kinetic.Path.getPointOnEllipticalArc=function(t,e,n,i,r,o){var a=Math.cos(o),s=Math.sin(o),c=n*Math.cos(r),l=i*Math.sin(r);return{x:t+(c*a-l*s),y:e+(c*s+l*a)}},Kinetic.Path.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)e=e.replace(new RegExp(n[i],"g"),"|"+n[i]);var r=e.split("|"),o=[],a=0,s=0;for(i=1;i<r.length;i++){var c=r[i],l=c.charAt(0),u=(c=(c=(c=(c=c.slice(1)).replace(new RegExp(",-","g"),"-")).replace(new RegExp("-","g"),",-")).replace(new RegExp("e,-","g"),"e-")).split(",");u.length>0&&""===u[0]&&u.shift();for(var d=0;d<u.length;d++)u[d]=parseFloat(u[d]);for(;u.length>0&&!isNaN(u[0]);){var h,f,g,p,m,v,y,b,_,w,C=null,x=[],S=a,T=s;switch(l){case"l":a+=u.shift(),s+=u.shift(),C="L",x.push(a,s);break;case"L":a=u.shift(),s=u.shift(),x.push(a,s);break;case"m":var k=u.shift(),z=u.shift();if(a+=k,s+=z,C="M",o.length>2&&"z"===o[o.length-1].command)for(var E=o.length-2;E>=0;E--)if("M"===o[E].command){a=o[E].points[0]+k,s=o[E].points[1]+z;break}x.push(a,s),l="l";break;case"M":a=u.shift(),s=u.shift(),C="M",x.push(a,s),l="L";break;case"h":a+=u.shift(),C="L",x.push(a,s);break;case"H":a=u.shift(),C="L",x.push(a,s);break;case"v":s+=u.shift(),C="L",x.push(a,s);break;case"V":s=u.shift(),C="L",x.push(a,s);break;case"C":x.push(u.shift(),u.shift(),u.shift(),u.shift()),a=u.shift(),s=u.shift(),x.push(a,s);break;case"c":x.push(a+u.shift(),s+u.shift(),a+u.shift(),s+u.shift()),a+=u.shift(),s+=u.shift(),C="C",x.push(a,s);break;case"S":f=a,g=s,"C"===(h=o[o.length-1]).command&&(f=a+(a-h.points[2]),g=s+(s-h.points[3])),x.push(f,g,u.shift(),u.shift()),a=u.shift(),s=u.shift(),C="C",x.push(a,s);break;case"s":f=a,g=s,"C"===(h=o[o.length-1]).command&&(f=a+(a-h.points[2]),g=s+(s-h.points[3])),x.push(f,g,a+u.shift(),s+u.shift()),a+=u.shift(),s+=u.shift(),C="C",x.push(a,s);break;case"Q":x.push(u.shift(),u.shift()),a=u.shift(),s=u.shift(),x.push(a,s);break;case"q":x.push(a+u.shift(),s+u.shift()),a+=u.shift(),s+=u.shift(),C="Q",x.push(a,s);break;case"T":f=a,g=s,"Q"===(h=o[o.length-1]).command&&(f=a+(a-h.points[0]),g=s+(s-h.points[1])),a=u.shift(),s=u.shift(),C="Q",x.push(f,g,a,s);break;case"t":f=a,g=s,"Q"===(h=o[o.length-1]).command&&(f=a+(a-h.points[0]),g=s+(s-h.points[1])),a+=u.shift(),s+=u.shift(),C="Q",x.push(f,g,a,s);break;case"A":p=u.shift(),m=u.shift(),v=u.shift(),y=u.shift(),b=u.shift(),_=a,w=s,a=u.shift(),s=u.shift(),C="A",x=this.convertEndpointToCenterParameterization(_,w,a,s,y,b,p,m,v);break;case"a":p=u.shift(),m=u.shift(),v=u.shift(),y=u.shift(),b=u.shift(),_=a,w=s,a+=u.shift(),s+=u.shift(),C="A",x=this.convertEndpointToCenterParameterization(_,w,a,s,y,b,p,m,v)}o.push({command:C||l,points:x,start:{x:S,y:T},pathLength:this.calcLength(S,T,C||l,x)})}("z"===l||"Z"===l)&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o},Kinetic.Path.calcLength=function(t,e,n,i){var r,o,a,s,c=Kinetic.Path;switch(n){case"L":return c.getLineLength(t,e,i[0],i[1]);case"C":for(r=0,o=c.getPointOnCubicBezier(0,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),s=.01;1>=s;s+=.01)a=c.getPointOnCubicBezier(s,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),r+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return r;case"Q":for(r=0,o=c.getPointOnQuadraticBezier(0,t,e,i[0],i[1],i[2],i[3]),s=.01;1>=s;s+=.01)a=c.getPointOnQuadraticBezier(s,t,e,i[0],i[1],i[2],i[3]),r+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return r;case"A":r=0;var l=i[4],u=i[5],d=i[4]+u,h=Math.PI/180;if(Math.abs(l-d)<h&&(h=Math.abs(l-d)),o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),0>u)for(s=l-h;s>d;s-=h)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),r+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(s=l+h;d>s;s+=h)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),r+=c.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),r+c.getLineLength(o.x,o.y,a.x,a.y)}return 0},Kinetic.Path.convertEndpointToCenterParameterization=function(t,e,n,i,r,o,a,s,c){var l=c*(Math.PI/180),u=Math.cos(l)*(t-n)/2+Math.sin(l)*(e-i)/2,d=-1*Math.sin(l)*(t-n)/2+Math.cos(l)*(e-i)/2,h=u*u/(a*a)+d*d/(s*s);h>1&&(a*=Math.sqrt(h),s*=Math.sqrt(h));var f=Math.sqrt((a*a*s*s-a*a*d*d-s*s*u*u)/(a*a*d*d+s*s*u*u));r===o&&(f*=-1),isNaN(f)&&(f=0);var g=f*a*d/s,p=f*-s*u/a,m=(t+n)/2+Math.cos(l)*g-Math.sin(l)*p,v=(e+i)/2+Math.sin(l)*g+Math.cos(l)*p,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},_=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},w=_([1,0],[(u-g)/a,(d-p)/s]),C=[(u-g)/a,(d-p)/s],x=[(-1*u-g)/a,(-1*d-p)/s],S=_(C,x);return b(C,x)<=-1&&(S=Math.PI),b(C,x)>=1&&(S=0),0===o&&S>0&&(S-=2*Math.PI),1===o&&0>S&&(S+=2*Math.PI),[m,v,a,s,w,S,l,o]},Kinetic.Factory.addGetterSetter(Kinetic.Path,"data"),Kinetic.Collection.mapMethods(Kinetic.Path),function(){function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var n="normal";Kinetic.TextPath=function(t){this.___init(t)},Kinetic.TextPath.prototype={___init:function(n){var i=this;this.dummyCanvas=Kinetic.Util.createCanvasElement(),this.dataArray=[],Kinetic.Shape.call(this,n),this._fillFunc=t,this._strokeFunc=e,this._fillFuncHit=t,this._strokeFuncHit=e,this.className="TextPath",this.dataArray=Kinetic.Path.parsePathData(this.attrs.data),this.on("dataChange.kinetic",function(){i.dataArray=Kinetic.Path.parsePathData(this.attrs.data)}),this.on("textChange.kinetic textStroke.kinetic textStrokeWidth.kinetic",i._setTextData),i._setTextData(),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),t.save();for(var e=this.glyphInfo,n=0;n<e.length;n++){t.save();var i=e[n].p0;t.translate(i.x,i.y),t.rotate(e[n].rotation),this.partialText=e[n].text,t.fillStrokeShape(this),t.restore()}t.restore()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(t){Kinetic.Text.prototype.setText.call(this,t)},_getTextSize:function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var t=this,e=this._getTextSize(this.attrs.text);this.textWidth=e.width,this.textHeight=e.height,this.glyphInfo=[];for(var n,i,r,o=this.attrs.text.split(""),a=-1,s=0,c=function(){s=0;for(var e=t.dataArray,i=a+1;i<e.length;i++){if(e[i].pathLength>0)return a=i,e[i];"M"==e[i].command&&(n={x:e[i].points[0],y:e[i].points[1]})}return{}},l=function(e){var o=t._getTextSize(e).width,a=0,l=0;for(i=void 0;Math.abs(o-a)/o>.01&&25>l;){l++;for(var u=a;void 0===r;)(r=c())&&u+r.pathLength<o&&(u+=r.pathLength,r=void 0);if(r==={}||void 0===n)return;var d=!1;switch(r.command){case"L":Kinetic.Path.getLineLength(n.x,n.y,r.points[0],r.points[1])>o?i=Kinetic.Path.getPointOnLine(o,n.x,n.y,r.points[0],r.points[1],n.x,n.y):r=void 0;break;case"A":var h=r.points[5],f=r.points[4]+h;0===s?s=r.points[4]+1e-8:o>a?s+=Math.PI/180*h/Math.abs(h):s-=Math.PI/360*h/Math.abs(h),(0>h&&f>s||h>=0&&s>f)&&(s=f,d=!0),i=Kinetic.Path.getPointOnEllipticalArc(r.points[0],r.points[1],r.points[2],r.points[3],s,r.points[6]);break;case"C":0===s?s=o>r.pathLength?1e-8:o/r.pathLength:o>a?s+=(o-a)/r.pathLength:s-=(a-o)/r.pathLength,s>1&&(s=1,d=!0),i=Kinetic.Path.getPointOnCubicBezier(s,r.start.x,r.start.y,r.points[0],r.points[1],r.points[2],r.points[3],r.points[4],r.points[5]);break;case"Q":0===s?s=o/r.pathLength:o>a?s+=(o-a)/r.pathLength:s-=(a-o)/r.pathLength,s>1&&(s=1,d=!0),i=Kinetic.Path.getPointOnQuadraticBezier(s,r.start.x,r.start.y,r.points[0],r.points[1],r.points[2],r.points[3])}void 0!==i&&(a=Kinetic.Path.getLineLength(n.x,n.y,i.x,i.y)),d&&(d=!1,r=void 0)}},u=0;u<o.length&&(l(o[u]),void 0!==n&&void 0!==i);u++){var d=Kinetic.Path.getLineLength(n.x,n.y,i.x,i.y),h=Kinetic.Path.getPointOnLine(0+d/2,n.x,n.y,i.x,i.y),f=Math.atan2(i.y-n.y,i.x-n.x);this.glyphInfo.push({transposeX:h.x,transposeY:h.y,text:o[u],rotation:f,p0:n,p1:i}),n=i}}},Kinetic.TextPath.prototype._getContextFont=Kinetic.Text.prototype._getContextFont,Kinetic.Util.extend(Kinetic.TextPath,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontSize",12),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontStyle",n),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontVariant",n),Kinetic.Factory.addGetter(Kinetic.TextPath,"text",""),Kinetic.Collection.mapMethods(Kinetic.TextPath)}(),Kinetic.RegularPolygon=function(t){this.___init(t)},Kinetic.RegularPolygon.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="RegularPolygon",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,i,r=this.attrs.sides,o=this.attrs.radius;for(t.beginPath(),t.moveTo(0,0-o),e=1;r>e;e++)n=o*Math.sin(2*e*Math.PI/r),i=-1*o*Math.cos(2*e*Math.PI/r),t.lineTo(n,i);t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.RegularPolygon,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon,"radius",0),Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon,"sides",0),Kinetic.Collection.mapMethods(Kinetic.RegularPolygon),Kinetic.Star=function(t){this.___init(t)},Kinetic.Star.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Star",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var r=1;2*i>r;r++){var o=r%2==0?n:e,a=o*Math.sin(r*Math.PI/i),s=-1*o*Math.cos(r*Math.PI/i);t.lineTo(a,s)}t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Star,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Star,"numPoints",5),Kinetic.Factory.addGetterSetter(Kinetic.Star,"innerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Star,"outerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Star),function(){var t=["fontFamily","fontSize","fontStyle","padding","lineHeight","text"],e="right",n="down",i="left",r=t.length;Kinetic.Label=function(t){this.____init(t)},Kinetic.Label.prototype={____init:function(t){var e=this;Kinetic.Group.call(this,t),this.className="Label",this.on("add.kinetic",function(t){e._addListeners(t.child),e._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(e){var n,i=this,o=function(){i._sync()};for(n=0;r>n;n++)e.on(t[n]+"Change.kinetic",o)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var t,r,o,a,s,c,l,u=this.getText(),d=this.getTag();if(u&&d){switch(t=u.getWidth(),r=u.getHeight(),o=d.getPointerDirection(),a=d.getPointerWidth(),l=d.getPointerHeight(),s=0,c=0,o){case"up":s=t/2,c=-1*l;break;case e:s=t+a,c=r/2;break;case n:s=t/2,c=r+l;break;case i:s=-1*a,c=r/2}d.setAttrs({x:-1*s,y:-1*c,width:t,height:r}),u.setAttrs({x:-1*s,y:-1*c})}}},Kinetic.Util.extend(Kinetic.Label,Kinetic.Group),Kinetic.Collection.mapMethods(Kinetic.Label),Kinetic.Tag=function(t){this.___init(t)},Kinetic.Tag.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Tag",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var r=this.getWidth(),o=this.getHeight(),a=this.getPointerDirection(),s=this.getPointerWidth(),c=this.getPointerHeight(),l=this.getCornerRadius();t.beginPath(),t.moveTo(0,0),"up"===a&&(t.lineTo((r-s)/2,0),t.lineTo(r/2,-1*c),t.lineTo((r+s)/2,0)),l?(t.lineTo(r-l,0),t.arc(r-l,l,l,3*Math.PI/2,0,!1)):t.lineTo(r,0),a===e&&(t.lineTo(r,(o-c)/2),t.lineTo(r+s,o/2),t.lineTo(r,(o+c)/2)),l?(t.lineTo(r,o-l),t.arc(r-l,o-l,l,0,Math.PI/2,!1)):t.lineTo(r,o),a===n&&(t.lineTo((r+s)/2,o),t.lineTo(r/2,o+c),t.lineTo((r-s)/2,o)),l?(t.lineTo(l,o),t.arc(l,o-l,l,Math.PI/2,Math.PI,!1)):t.lineTo(0,o),a===i&&(t.lineTo(0,(o+c)/2),t.lineTo(-1*s,o/2),t.lineTo(0,(o-c)/2)),l&&(t.lineTo(0,l),t.arc(l,l,l,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Tag,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerDirection","none"),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerWidth",0),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerHeight",0),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"cornerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Tag)}(),Kinetic.Arrow=function(t){this.____init(t)},Kinetic.Arrow.prototype={____init:function(t){Kinetic.Line.call(this,t),this.className="Arrow"},_sceneFunc:function(t){var e=2*Math.PI,n=this.points(),i=n.length,r=n[i-2]-n[i-4],o=n[i-1]-n[i-3],a=(Math.atan2(o,r)+e)%e,s=this.pointerLength(),c=this.pointerWidth();t.save(),t.beginPath(),t.translate(n[i-2],n[i-1]),t.rotate(a),t.moveTo(0,0),t.lineTo(-s,c/2),t.lineTo(-s,-c/2),t.closePath(),t.restore(),this.pointerAtBeginning()&&(t.save(),t.translate(n[0],n[1]),r=n[2]-n[0],o=n[3]-n[1],t.rotate((Math.atan2(-o,-r)+e)%e),t.moveTo(0,0),t.lineTo(-10,6),t.lineTo(-10,-6),t.closePath(),t.restore()),t.fillStrokeShape(this),Kinetic.Line.prototype._sceneFunc.apply(this,arguments)}},Kinetic.Util.extend(Kinetic.Arrow,Kinetic.Line),Kinetic.Factory.addGetterSetter(Kinetic.Arrow,"pointerLength",10),Kinetic.Factory.addGetterSetter(Kinetic.Arrow,"pointerWidth",10),Kinetic.Factory.addGetterSetter(Kinetic.Arrow,"pointerAtBeginning",!1),Kinetic.Collection.mapMethods(Kinetic.Arrow),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(e){return!e.nodeName||-1!==t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function n(e){return t.isFunction(e)||t.isPlainObject(e)?e:{top:e,left:e}}var i=t.scrollTo=function(e,n,i){return t(window).scrollTo(e,n,i)};return i.defaults={axis:"xy",duration:0,limit:!0},t.fn.scrollTo=function(r,o,a){"object"==typeof o&&(a=o,o=0),"function"==typeof a&&(a={onAfter:a}),"max"===r&&(r=9e9),a=t.extend({},i.defaults,a),o=o||a.duration;var s=a.queue&&1<a.axis.length;return s&&(o/=2),a.offset=n(a.offset),a.over=n(a.over),this.each(function(){function c(e){var n=t.extend({},a,{queue:!0,duration:o,complete:e&&function(){e.call(d,f,a)}});h.animate(g,n)}if(null!==r){var l,u=e(this),d=u?this.contentWindow||window:this,h=t(d),f=r,g={};switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=n(f);break}f=u?t(f):t(f,d);case"object":if(0===f.length)return;(f.is||f.style)&&(l=(f=t(f)).offset())}var p=t.isFunction(a.offset)&&a.offset(d,f)||a.offset;t.each(a.axis.split(""),function(t,e){var n="x"===e?"Left":"Top",r=n.toLowerCase(),o="scroll"+n,m=h[o](),v=i.max(d,e);l?(g[o]=l[r]+(u?0:m-h.offset()[r]),a.margin&&(g[o]-=parseInt(f.css("margin"+n),10)||0,g[o]-=parseInt(f.css("border"+n+"Width"),10)||0),g[o]+=p[r]||0,a.over[r]&&(g[o]+=f["x"===e?"width":"height"]()*a.over[r])):g[o]=(n=f[r]).slice&&"%"===n.slice(-1)?parseFloat(n)/100*v:n,a.limit&&/^\d+$/.test(g[o])&&(g[o]=0>=g[o]?0:Math.min(g[o],v)),!t&&1<a.axis.length&&(m===g[o]?g={}:s&&(c(a.onAfterFirst),g={}))}),c(a.onAfter)}})},i.max=function(n,i){var r="scroll"+(o="x"===i?"Width":"Height");if(!e(n))return n[r]-t(n)[o.toLowerCase()]();var o="client"+o,a=(s=n.ownerDocument||n.document).documentElement,s=s.body;return Math.max(a[r],s[r])-Math.min(a[o],s[o])},t.Tween.propHooks.scrollLeft=t.Tween.propHooks.scrollTop={get:function(e){return t(e.elem)[e.prop]()},set:function(e){var n=this.get(e);if(e.options.interrupt&&e._last&&e._last!==n)return t(e.elem).stop();var i=Math.round(e.now);n!==i&&(t(e.elem)[e.prop](i),e._last=this.get(e))}},i}),function(t,e,n,i){function r(e,n){this.settings=null,this.options=t.extend({},r.Defaults,n),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,n){this._handlers[n]=t.proxy(this[n],this)},this)),t.each(r.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(r.Workers,t.proxy(function(e,n){this._pipe.push({filter:n.filter,run:t.proxy(n.run,this)})},this)),this.setup(),this.initialize()}r.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},r.Width={Default:"default",Inner:"inner",Outer:"outer"},r.Type={Event:"event",State:"state"},r.Plugins={},r.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",n=this.settings.rtl,i={width:"auto","margin-left":n?e:"","margin-right":n?"":e};!!this.settings.autoWidth&&this.$stage.children().css(i),t.css=i}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=null,i=this._items.length,r=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:e};i--;)n=this._mergers[i],n=this.settings.mergeFit&&Math.min(n,this.settings.items)||n,t.items.merge=n>1||t.items.merge,o[i]=r?e*n:this._items[i].width();this._widths=o}},{filter:["items","settings"],run:function(){var e=[],n=this._items,i=this.settings,r=Math.max(2*i.items,4),o=2*Math.ceil(n.length/2),a=i.loop&&n.length?i.rewind?r:Math.max(r,o):0,s="",c="";for(a/=2;a>0;)e.push(this.normalize(e.length/2,!0)),s+=n[e[e.length-1]][0].outerHTML,e.push(this.normalize(n.length-1-(e.length-1)/2,!0)),c=n[e[e.length-1]][0].outerHTML+c,a-=1;this._clones=e,t(s).addClass("cloned").appendTo(this.$stage),t(c).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,n=-1,i=0,r=0,o=[];++n<e;)i=o[n-1]||0,r=this._widths[this.relative(n)]+this.settings.margin,o.push(i+r*t);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,n={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(n)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,n=!this.settings.autoWidth,i=this.$stage.children();if(n&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],i.eq(e).css(t.css);else n&&(t.css.width=t.items.width,i.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,n,i,r=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,a=this.coordinates(this.current())+o,s=a+this.width()*r,c=[];for(n=0,i=this._coordinates.length;n<i;n++)t=this._coordinates[n-1]||0,e=Math.abs(this._coordinates[n])+o*r,(this.op(t,"<=",a)&&this.op(t,">",s)||this.op(e,"<",a)&&this.op(e,">",s))&&c.push(n);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+c.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],r.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(t("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},r.prototype.initializeItems=function(){var e=this.$element.find(".owl-item");if(e.length)return this._items=e.get().map(function(e){return t(e)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},r.prototype.initialize=function(){var t,e;this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")&&(t=this.$element.find("img"),e=this.$element.children(this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:i).width(),t.length&&e<=0&&this.preloadAutoWidthImages(t)),this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},r.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},r.prototype.setup=function(){var e=this.viewport(),n=this.options.responsive,i=-1,r=null;n?(t.each(n,function(t){t<=e&&t>i&&(i=Number(t))}),"function"==typeof(r=t.extend({},this.options,n[i])).stagePadding&&(r.stagePadding=r.stagePadding()),delete r.responsive,r.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):r=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:r}}),this._breakpoint=i,this.settings=r,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},r.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},r.prototype.prepare=function(e){var n=this.trigger("prepare",{content:e});return n.data||(n.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:n.data}),n.data},r.prototype.update=function(){for(var e=0,n=this._pipe.length,i=t.proxy(function(t){return this[t]},this._invalidated),r={};e<n;)(this._invalidated.all||t.grep(this._pipe[e].filter,i).length>0)&&this._pipe[e].run(r),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},r.prototype.width=function(t){switch(t=t||r.Width.Default){case r.Width.Inner:case r.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},r.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},r.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},r.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},r.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},r.prototype.onDragStart=function(e){var i=null;3!==e.which&&(t.support.transform?i={x:(i=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===i.length?12:4],y:i[16===i.length?13:5]}:(i=this.$stage.position(),i={x:this.settings.rtl?i.left+this.$stage.width()-this.width()+this.settings.margin:i.left,y:i.top}),this.is("animating")&&(t.support.transform?this.animate(i.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=i,this._drag.stage.current=i,this._drag.pointer=this.pointer(e),t(n).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(n).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var i=this.difference(this._drag.pointer,this.pointer(e));t(n).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(i.x)<Math.abs(i.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},r.prototype.onDragMove=function(t){var e=null,n=null,i=null,r=this.difference(this._drag.pointer,this.pointer(t)),o=this.difference(this._drag.stage.start,r);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),n=this.coordinates(this.maximum()+1)-e,o.x=((o.x-e)%n+n)%n+e):(e=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),n=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),i=this.settings.pullDrag?-1*r.x/5:0,o.x=Math.max(Math.min(o.x,e+i),n+i)),this._drag.stage.current=o,this.animate(o.x))},r.prototype.onDragEnd=function(e){var i=this.difference(this._drag.pointer,this.pointer(e)),r=this._drag.stage.current,o=i.x>0^this.settings.rtl?"left":"right";t(n).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==i.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(r.x,0!==i.x?o:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=o,(Math.abs(i.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},r.prototype.closest=function(e,n){var r=-1,o=this.width(),a=this.coordinates();return this.settings.freeDrag||t.each(a,t.proxy(function(t,s){return"left"===n&&e>s-30&&e<s+30?r=t:"right"===n&&e>s-o-30&&e<s-o+30?r=t+1:this.op(e,"<",s)&&this.op(e,">",a[t+1]!==i?a[t+1]:s-o)&&(r="left"===n?t+1:t),-1===r},this)),this.settings.loop||(this.op(e,">",a[this.minimum()])?r=e=this.minimum():this.op(e,"<",a[this.maximum()])&&(r=e=this.maximum())),r},r.prototype.animate=function(e){var n=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),n&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):n?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},r.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},r.prototype.current=function(t){if(t===i)return this._current;if(0===this._items.length)return i;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==i&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},r.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},r.prototype.reset=function(t){(t=this.normalize(t))!==i&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},r.prototype.normalize=function(t,e){var n=this._items.length,r=e?0:this._clones.length;return!this.isNumeric(t)||n<1?t=i:(t<0||t>=n+r)&&(t=((t-r/2)%n+n)%n+r/2),t},r.prototype.relative=function(t){return this.normalize(t-=this._clones.length/2,!0)},r.prototype.maximum=function(t){var e,n,i,r=this.settings,o=this._coordinates.length;if(r.loop)o=this._clones.length/2+this._items.length-1;else if(r.autoWidth||r.merge){if(e=this._items.length)for(n=this._items[--e].width(),i=this.$element.width();e--&&!((n+=this._items[e].width()+this.settings.margin)>i););o=e+1}else o=r.center?this._items.length-1:this._items.length-r.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},r.prototype.minimum=function(t){return t?0:this._clones.length/2},r.prototype.items=function(t){return t===i?this._items.slice():(t=this.normalize(t,!0),this._items[t])},r.prototype.mergers=function(t){return t===i?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},r.prototype.clones=function(e){var n=this._clones.length/2,r=n+this._items.length,o=function(t){return t%2==0?r+t/2:n-(t+1)/2};return t.map(this._clones,e===i?function(t,e){return o(e)}:function(t,n){return t===e?o(n):null})},r.prototype.speed=function(t){return t!==i&&(this._speed=t),this._speed},r.prototype.coordinates=function(e){var n,r=1,o=e-1;return e===i?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(r=-1,o=e+1),n=this._coordinates[e],n+=(this.width()-n+(this._coordinates[o]||0))/2*r):n=this._coordinates[o]||0,n=Math.ceil(n))},r.prototype.duration=function(t,e,n){return 0===n?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(n||this.settings.smartSpeed)},r.prototype.to=function(t,e){var n=this.current(),i=null,r=t-this.relative(n),o=(r>0)-(r<0),a=this._items.length,s=this.minimum(),c=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(r)>a/2&&(r+=-1*o*a),(i=(((t=n+r)-s)%a+a)%a+s)!==t&&i-r<=c&&i-r>0&&(t=i,this.reset(n=i-r))):t=this.settings.rewind?(t%(c+=1)+c)%c:Math.max(s,Math.min(c,t)),this.speed(this.duration(n,t,e)),this.current(t),this.isVisible()&&this.update()},r.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},r.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},r.prototype.onTransitionEnd=function(t){if(t!==i&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},r.prototype.viewport=function(){var i;return this.options.responsiveBaseElement!==e?i=t(this.options.responsiveBaseElement).width():e.innerWidth?i=e.innerWidth:n.documentElement&&n.documentElement.clientWidth?i=n.documentElement.clientWidth:console.warn("Can not detect viewport width."),i},r.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},r.prototype.add=function(e,n){var r=this.relative(this._current);n=n===i?this._items.length:this.normalize(n,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:n}),e=this.prepare(e),0===this._items.length||n===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[n-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[n].before(e),this._items.splice(n,0,e),this._mergers.splice(n,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[r]&&this.reset(this._items[r].index()),this.invalidate("items"),this.trigger("added",{content:e,position:n})},r.prototype.remove=function(t){(t=this.normalize(t,!0))!==i&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},r.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,n){this.enter("pre-loading"),n=t(n),t(new Image).one("load",t.proxy(function(t){n.attr("src",t.target.src),n.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",n.attr("src")||n.attr("data-src")||n.attr("data-src-retina"))},this))},r.prototype.destroy=function(){for(var i in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(n).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[i].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},r.prototype.op=function(t,e,n){var i=this.settings.rtl;switch(e){case"<":return i?t>n:t<n;case">":return i?t<n:t>n;case">=":return i?t<=n:t>=n;case"<=":return i?t>=n:t<=n}},r.prototype.on=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n)},r.prototype.off=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n)},r.prototype.trigger=function(e,n,i,o,a){var s={item:{count:this._items.length,index:this.current()}},c=t.camelCase(t.grep(["on",e,i],function(t){return t}).join("-").toLowerCase()),l=t.Event([e,"owl",i||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},s,n));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(l)}),this.register({type:r.Type.Event,name:e}),this.$element.trigger(l),this.settings&&"function"==typeof this.settings[c]&&this.settings[c].call(this,l)),l},r.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]===i&&(this._states.current[e]=0),this._states.current[e]++},this))},r.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},r.prototype.register=function(e){if(e.type===r.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var n=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!n||!n.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:n.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===r.Type.State&&(this._states.tags[e.name]=this._states.tags[e.name]?this._states.tags[e.name].concat(e.tags):e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(n,i){return t.inArray(n,this._states.tags[e.name])===i},this)))},r.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},r.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},r.prototype.pointer=function(t){var n={x:null,y:null};return(t=(t=t.originalEvent||t||e.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(n.x=t.pageX,n.y=t.pageY):(n.x=t.clientX,n.y=t.clientY),n},r.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},r.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=t(this),o=i.data("owl.carousel");o||(o=new r(this,"object"==typeof e&&e),i.data("owl.carousel",o),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,n){o.register({type:r.Type.Event,name:n}),o.$element.on(n+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([n]),o[n].apply(this,[].slice.call(arguments,1)),this.release([n]))},o))})),"string"==typeof e&&"_"!==e.charAt(0)&&o[e].apply(o,n)})},t.fn.owlCarousel.Constructor=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers)};r.Defaults={autoRefresh:!0,autoRefreshInterval:500},r.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},r.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},r.prototype.destroy=function(){var t,n;for(t in e.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type)){var n=this._core.settings,i=n.center&&Math.ceil(n.items/2)||n.items,r=n.center&&-1*i||0,o=(e.property&&void 0!==e.property.value?e.property.value:this._core.current())+r,a=this._core.clones().length,s=t.proxy(function(t,e){this.load(e)},this);for(n.lazyLoadEager>0&&(i+=n.lazyLoadEager,n.loop&&(o-=n.lazyLoadEager,i++));r++<i;)this.load(a/2+this._core.relative(o)),a&&t.each(this._core.clones(this._core.relative(o)),s),o++}},this)},this._core.options=t.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers)};r.Defaults={lazyLoad:!1,lazyLoadEager:0},r.prototype.load=function(n){var i=this._core.$stage.children().eq(n),r=i&&i.find(".owl-lazy");!r||t.inArray(i.get(0),this._loaded)>-1||(r.each(t.proxy(function(n,i){var r,o=t(i),a=e.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src")||o.attr("data-srcset");this._core.trigger("load",{element:o,url:a},"lazy"),o.is("img")?o.one("load.owl.lazy",t.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:a},"lazy")},this)).attr("src",a):o.is("source")?o.one("load.owl.lazy",t.proxy(function(){this._core.trigger("loaded",{element:o,url:a},"lazy")},this)).attr("srcset",a):((r=new Image).onload=t.proxy(function(){o.css({"background-image":'url("'+a+'")',opacity:"1"}),this._core.trigger("loaded",{element:o,url:a},"lazy")},this),r.src=a)},this)),this._loaded.push(i.get(0)))},r.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=function(n){this._core=n,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var i=this;t(e).on("load",function(){i._core.settings.autoHeight&&i.update()}),t(e).resize(function(){i._core.settings.autoHeight&&(null!=i._intervalId&&clearTimeout(i._intervalId),i._intervalId=setTimeout(function(){i.update()},250))})};r.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},r.prototype.update=function(){var e=this._core._current,n=e+this._core.settings.items,i=this._core.settings.lazyLoad,r=this._core.$stage.children().toArray().slice(e,n),o=[],a=0;t.each(r,function(e,n){o.push(t(n).height())}),(a=Math.max.apply(null,o))<=1&&i&&this._previousHeight&&(a=this._previousHeight),this._previousHeight=a,this._core.$stage.parent().height(a).addClass(this._core.settings.autoHeightClass)},r.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var n=t(e.content).find(".owl-video");n.length&&(n.css("display","none"),this.fetch(n,t(e.content)))}},this)},this._core.options=t.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};r.Defaults={video:!1,videoHeight:!1,videoWidth:!1},r.prototype.fetch=function(t,e){var n=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",i=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),r=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,a=t.attr("href");if(!a)throw new Error("Missing video URL.");if((i=a.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)n="youtube";else if(i[3].indexOf("vimeo")>-1)n="vimeo";else{if(!(i[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");n="vzaar"}this._videos[a]={type:n,id:i=i[6],width:r,height:o},e.attr("data-video",a),this.thumbnail(t,this._videos[a])},r.prototype.thumbnail=function(e,n){var i,r=n.width&&n.height?"width:"+n.width+"px;height:"+n.height+"px;":"",o=e.find("img"),a="src",s="",c=this._core.settings,l=function(n){i=t("<div/>",c.lazyLoad?{class:"owl-video-tn "+s,srcType:n}:{class:"owl-video-tn",style:"opacity:1;background-image:url("+n+")"}),e.after(i),e.after('<div class="owl-video-play-icon"></div>')};if(e.wrap(t("<div/>",{class:"owl-video-wrapper",style:r})),this._core.settings.lazyLoad&&(a="data-src",s="owl-lazy"),o.length)return l(o.attr(a)),o.remove(),!1;"youtube"===n.type?l("//img.youtube.com/vi/"+n.id+"/hqdefault.jpg"):"vimeo"===n.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){l(t[0].thumbnail_large)}}):"vzaar"===n.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){l(t.framegrab_url)}})},r.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},r.prototype.play=function(e){var n,i=t(e.target).closest("."+this._core.settings.itemClass),r=this._videos[i.attr("data-video")],o=r.width||"100%",a=r.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),i=this._core.items(this._core.relative(i.index())),this._core.reset(i.index()),(n=t('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",a),n.attr("width",o),"youtube"===r.type?n.attr("src","//www.youtube.com/embed/"+r.id+"?autoplay=1&rel=0&v="+r.id):"vimeo"===r.type?n.attr("src","//player.vimeo.com/video/"+r.id+"?autoplay=1"):"vzaar"===r.type&&n.attr("src","//view.vzaar.com/"+r.id+"/player?autoplay=true"),t(n).wrap('<div class="owl-video-frame" />').insertAfter(i.find(".owl-video")),this._playing=i.addClass("owl-video-playing"))},r.prototype.isInFullScreen=function(){var e=n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},r.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=function(e){this.core=e,this.core.options=t.extend({},r.Defaults,this.core.options),this.swapping=!0,this.previous=i,this.next=i,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};r.Defaults={animateOut:!1,animateIn:!1},r.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,n=t.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),r=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,a=this.core.settings.animateOut;this.core.current()!==this.previous&&(a&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.one(t.support.animation.end,n).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(a)),o&&r.one(t.support.animation.end,n).addClass("animated owl-animated-in").addClass(o))}},r.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},r.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){var r=function(e){this._core=e,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,n){t.namespace&&this.play(e,n)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},r.Defaults,this._core.options)};r.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},r.prototype._next=function(i){this._call=e.setTimeout(t.proxy(this._next,this,i),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||n.hidden||this._core.next(i||this._core.settings.autoplaySpeed)},r.prototype.read=function(){return(new Date).getTime()-this._time},r.prototype.play=function(n,i){var r;this._core.is("rotating")||this._core.enter("rotating"),n=n||this._core.settings.autoplayTimeout,r=Math.min(this._time%(this._timeout||n),n),this._paused?(this._time=this.read(),this._paused=!1):e.clearTimeout(this._call),this._time+=this.read()%n-r,this._timeout=n,this._call=e.setTimeout(t.proxy(this._next,this,i),n-r)},r.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,e.clearTimeout(this._call),this._core.leave("rotating"))},r.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,e.clearTimeout(this._call))},r.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){"use strict";var r=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},r.Defaults,this._core.options),this.$element.on(this._handlers)};r.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},r.prototype.initialize=function(){var e,n=this._core.settings;for(e in this._controls.$relative=(n.navContainer?t(n.navContainer):t("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+n.navElement+">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(t){this.prev(n.navSpeed)},this)),this._controls.$next=t("<"+n.navElement+">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(t){this.next(n.navSpeed)},this)),n.dotsData||(this._templates=[t('<button role="button">').addClass(n.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(n.dotsContainer?t(n.dotsContainer):t("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",t.proxy(function(e){var i=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(i,n.dotsSpeed)},this)),this._overrides)this._core[e]=t.proxy(this[e],this)},r.prototype.destroy=function(){var t,e,n,i,r;for(t in r=this._core.settings,this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&r.navContainer?this._controls[e].html(""):this._controls[e].remove();for(i in this.overides)this._core[i]=this._overrides[i];for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},r.prototype.update=function(){var t,e,n=this._core.clones().length/2,i=n+this._core.items().length,r=this._core.maximum(!0),o=this._core.settings,a=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],t=n,e=0;t<i;t++){if(e>=a||0===e){if(this._pages.push({start:Math.min(r,t-n),end:t-n+a-1}),Math.min(r,t-n)===r)break;e=0}e+=this._core.mergers(this._core.relative(t))}},r.prototype.draw=function(){var e,n=this._core.settings,i=this._core.items().length<=n.items,r=this._core.relative(this._core.current()),o=n.loop||n.rewind;this._controls.$relative.toggleClass("disabled",!n.nav||i),n.nav&&(this._controls.$previous.toggleClass("disabled",!o&&r<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&r>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!n.dots||i),n.dots&&(e=this._pages.length-this._controls.$absolute.children().length,n.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},r.prototype.onTrigger=function(e){var n=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:n&&(n.center||n.autoWidth||n.dotsData?1:n.dotsEach||n.items)}},r.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t,n){return t.start<=e&&t.end>=e},this)).pop()},r.prototype.getPosition=function(e){var n,i,r=this._core.settings;return"page"==r.slideBy?(n=t.inArray(this.current(),this._pages),e?++n:--n,n=this._pages[(n%(i=this._pages.length)+i)%i].start):(n=this._core.relative(this._core.current()),i=this._core.items().length,e?n+=r.slideBy:n-=r.slideBy),n},r.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},r.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},r.prototype.to=function(e,n,i){var r;!i&&this._pages.length?(r=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%r+r)%r].start,n)):t.proxy(this._overrides.to,this._core)(e,n)},t.fn.owlCarousel.Constructor.Plugins.Navigation=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){"use strict";var r=function(n){this._core=n,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(n){n.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var n=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!n)return;this._hashes[n]=e.content}},this),"changed.owl.carousel":t.proxy(function(n){if(n.namespace&&"position"===n.property.name){var i=this._core.items(this._core.relative(this._core.current())),r=t.map(this._hashes,function(t,e){return t===i?e:null}).join();if(!r||e.location.hash.slice(1)===r)return;e.location.hash=r}},this)},this._core.options=t.extend({},r.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(t){var n=e.location.hash.substring(1),i=this._core.$stage.children(),r=this._hashes[n]&&i.index(this._hashes[n]);void 0!==r&&r!==this._core.current()&&this._core.to(this._core.relative(r),!1,!0)},this))};r.Defaults={URLhashListener:!1},r.prototype.destroy=function(){var n,i;for(n in t(e).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(n,this._handlers[n]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=r}(window.Zepto||window.jQuery,window,document),function(t,e,n,i){function r(e,n){var r=!1,o=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+s.join(o+" ")+o).split(" "),function(t,e){if(a[e]!==i)return r=!n||e,!1}),r}function o(t){return r(t,!0)}var a=t("<support>").get(0).style,s="Webkit Moz O ms".split(" "),c={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}};!!r("transition")&&(t.support.transition=new String(o("transition")),t.support.transition.end=c.transition.end[t.support.transition]),!!r("animation")&&(t.support.animation=new String(o("animation")),t.support.animation.end=c.animation.end[t.support.animation]),r("transform")&&(t.support.transform=new String(o("transform")),t.support.transform3d=!!r("perspective"))}(window.Zepto||window.jQuery,window,document);